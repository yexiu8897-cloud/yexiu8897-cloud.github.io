(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const m of c.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function l(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(r){if(r.ep)return;r.ep=!0;const c=l(r);fetch(r.href,c)}})();function mg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Bu={exports:{}},Yo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sp;function bv(){if(Sp)return Yo;Sp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function l(a,r,c){var m=null;if(c!==void 0&&(m=""+c),r.key!==void 0&&(m=""+r.key),"key"in r){c={};for(var g in r)g!=="key"&&(c[g]=r[g])}else c=r;return r=c.ref,{$$typeof:i,type:a,key:m,ref:r!==void 0?r:null,props:c}}return Yo.Fragment=t,Yo.jsx=l,Yo.jsxs=l,Yo}var Tp;function Cv(){return Tp||(Tp=1,Bu.exports=bv()),Bu.exports}var v=Cv(),Fu={exports:{}},be={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p;function Av(){if(_p)return be;_p=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),_=Symbol.iterator;function b(A){return A===null||typeof A!="object"?null:(A=_&&A[_]||A["@@iterator"],typeof A=="function"?A:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,I={};function w(A,O,te){this.props=A,this.context=O,this.refs=I,this.updater=te||M}w.prototype.isReactComponent={},w.prototype.setState=function(A,O){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,O,"setState")},w.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function Y(){}Y.prototype=w.prototype;function D(A,O,te){this.props=A,this.context=O,this.refs=I,this.updater=te||M}var X=D.prototype=new Y;X.constructor=D,k(X,w.prototype),X.isPureReactComponent=!0;var W=Array.isArray;function q(){}var Q={H:null,A:null,T:null,S:null},ve=Object.prototype.hasOwnProperty;function ne(A,O,te){var ae=te.ref;return{$$typeof:i,type:A,key:O,ref:ae!==void 0?ae:null,props:te}}function $(A,O){return ne(A.type,O,A.props)}function fe(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}function de(A){var O={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(te){return O[te]})}var Se=/\/+/g;function ce(A,O){return typeof A=="object"&&A!==null&&A.key!=null?de(""+A.key):O.toString(36)}function Ge(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(q,q):(A.status="pending",A.then(function(O){A.status==="pending"&&(A.status="fulfilled",A.value=O)},function(O){A.status==="pending"&&(A.status="rejected",A.reason=O)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function H(A,O,te,ae,he){var xe=typeof A;(xe==="undefined"||xe==="boolean")&&(A=null);var Me=!1;if(A===null)Me=!0;else switch(xe){case"bigint":case"string":case"number":Me=!0;break;case"object":switch(A.$$typeof){case i:case t:Me=!0;break;case x:return Me=A._init,H(Me(A._payload),O,te,ae,he)}}if(Me)return he=he(A),Me=ae===""?"."+ce(A,0):ae,W(he)?(te="",Me!=null&&(te=Me.replace(Se,"$&/")+"/"),H(he,O,te,"",function(Ie){return Ie})):he!=null&&(fe(he)&&(he=$(he,te+(he.key==null||A&&A.key===he.key?"":(""+he.key).replace(Se,"$&/")+"/")+Me)),O.push(he)),1;Me=0;var K=ae===""?".":ae+":";if(W(A))for(var ie=0;ie<A.length;ie++)ae=A[ie],xe=K+ce(ae,ie),Me+=H(ae,O,te,xe,he);else if(ie=b(A),typeof ie=="function")for(A=ie.call(A),ie=0;!(ae=A.next()).done;)ae=ae.value,xe=K+ce(ae,ie++),Me+=H(ae,O,te,xe,he);else if(xe==="object"){if(typeof A.then=="function")return H(Ge(A),O,te,ae,he);throw O=String(A),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.")}return Me}function ee(A,O,te){if(A==null)return A;var ae=[],he=0;return H(A,ae,"","",function(xe){return O.call(te,xe,he++)}),ae}function oe(A){if(A._status===-1){var O=A._result;O=O(),O.then(function(te){(A._status===0||A._status===-1)&&(A._status=1,A._result=te)},function(te){(A._status===0||A._status===-1)&&(A._status=2,A._result=te)}),A._status===-1&&(A._status=0,A._result=O)}if(A._status===1)return A._result.default;throw A._result}var _e=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var O=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(O))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},we={map:ee,forEach:function(A,O,te){ee(A,function(){O.apply(this,arguments)},te)},count:function(A){var O=0;return ee(A,function(){O++}),O},toArray:function(A){return ee(A,function(O){return O})||[]},only:function(A){if(!fe(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return be.Activity=T,be.Children=we,be.Component=w,be.Fragment=l,be.Profiler=r,be.PureComponent=D,be.StrictMode=a,be.Suspense=y,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,be.__COMPILER_RUNTIME={__proto__:null,c:function(A){return Q.H.useMemoCache(A)}},be.cache=function(A){return function(){return A.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(A,O,te){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var ae=k({},A.props),he=A.key;if(O!=null)for(xe in O.key!==void 0&&(he=""+O.key),O)!ve.call(O,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&O.ref===void 0||(ae[xe]=O[xe]);var xe=arguments.length-2;if(xe===1)ae.children=te;else if(1<xe){for(var Me=Array(xe),K=0;K<xe;K++)Me[K]=arguments[K+2];ae.children=Me}return ne(A.type,he,ae)},be.createContext=function(A){return A={$$typeof:m,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:c,_context:A},A},be.createElement=function(A,O,te){var ae,he={},xe=null;if(O!=null)for(ae in O.key!==void 0&&(xe=""+O.key),O)ve.call(O,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(he[ae]=O[ae]);var Me=arguments.length-2;if(Me===1)he.children=te;else if(1<Me){for(var K=Array(Me),ie=0;ie<Me;ie++)K[ie]=arguments[ie+2];he.children=K}if(A&&A.defaultProps)for(ae in Me=A.defaultProps,Me)he[ae]===void 0&&(he[ae]=Me[ae]);return ne(A,xe,he)},be.createRef=function(){return{current:null}},be.forwardRef=function(A){return{$$typeof:g,render:A}},be.isValidElement=fe,be.lazy=function(A){return{$$typeof:x,_payload:{_status:-1,_result:A},_init:oe}},be.memo=function(A,O){return{$$typeof:h,type:A,compare:O===void 0?null:O}},be.startTransition=function(A){var O=Q.T,te={};Q.T=te;try{var ae=A(),he=Q.S;he!==null&&he(te,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(q,_e)}catch(xe){_e(xe)}finally{O!==null&&te.types!==null&&(O.types=te.types),Q.T=O}},be.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},be.use=function(A){return Q.H.use(A)},be.useActionState=function(A,O,te){return Q.H.useActionState(A,O,te)},be.useCallback=function(A,O){return Q.H.useCallback(A,O)},be.useContext=function(A){return Q.H.useContext(A)},be.useDebugValue=function(){},be.useDeferredValue=function(A,O){return Q.H.useDeferredValue(A,O)},be.useEffect=function(A,O){return Q.H.useEffect(A,O)},be.useEffectEvent=function(A){return Q.H.useEffectEvent(A)},be.useId=function(){return Q.H.useId()},be.useImperativeHandle=function(A,O,te){return Q.H.useImperativeHandle(A,O,te)},be.useInsertionEffect=function(A,O){return Q.H.useInsertionEffect(A,O)},be.useLayoutEffect=function(A,O){return Q.H.useLayoutEffect(A,O)},be.useMemo=function(A,O){return Q.H.useMemo(A,O)},be.useOptimistic=function(A,O){return Q.H.useOptimistic(A,O)},be.useReducer=function(A,O,te){return Q.H.useReducer(A,O,te)},be.useRef=function(A){return Q.H.useRef(A)},be.useState=function(A){return Q.H.useState(A)},be.useSyncExternalStore=function(A,O,te){return Q.H.useSyncExternalStore(A,O,te)},be.useTransition=function(){return Q.H.useTransition()},be.version="19.2.4",be}var Ep;function Sc(){return Ep||(Ep=1,Fu.exports=Av()),Fu.exports}var j=Sc();const Nv=mg(j);var Yu={exports:{}},Jo={},Ju={exports:{}},ju={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bp;function wv(){return bp||(bp=1,(function(i){function t(H,ee){var oe=H.length;H.push(ee);e:for(;0<oe;){var _e=oe-1>>>1,we=H[_e];if(0<r(we,ee))H[_e]=ee,H[oe]=we,oe=_e;else break e}}function l(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var ee=H[0],oe=H.pop();if(oe!==ee){H[0]=oe;e:for(var _e=0,we=H.length,A=we>>>1;_e<A;){var O=2*(_e+1)-1,te=H[O],ae=O+1,he=H[ae];if(0>r(te,oe))ae<we&&0>r(he,te)?(H[_e]=he,H[ae]=oe,_e=ae):(H[_e]=te,H[O]=oe,_e=O);else if(ae<we&&0>r(he,oe))H[_e]=he,H[ae]=oe,_e=ae;else break e}}return ee}function r(H,ee){var oe=H.sortIndex-ee.sortIndex;return oe!==0?oe:H.id-ee.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var m=Date,g=m.now();i.unstable_now=function(){return m.now()-g}}var y=[],h=[],x=1,T=null,_=3,b=!1,M=!1,k=!1,I=!1,w=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function X(H){for(var ee=l(h);ee!==null;){if(ee.callback===null)a(h);else if(ee.startTime<=H)a(h),ee.sortIndex=ee.expirationTime,t(y,ee);else break;ee=l(h)}}function W(H){if(k=!1,X(H),!M)if(l(y)!==null)M=!0,q||(q=!0,de());else{var ee=l(h);ee!==null&&Ge(W,ee.startTime-H)}}var q=!1,Q=-1,ve=5,ne=-1;function $(){return I?!0:!(i.unstable_now()-ne<ve)}function fe(){if(I=!1,q){var H=i.unstable_now();ne=H;var ee=!0;try{e:{M=!1,k&&(k=!1,Y(Q),Q=-1),b=!0;var oe=_;try{t:{for(X(H),T=l(y);T!==null&&!(T.expirationTime>H&&$());){var _e=T.callback;if(typeof _e=="function"){T.callback=null,_=T.priorityLevel;var we=_e(T.expirationTime<=H);if(H=i.unstable_now(),typeof we=="function"){T.callback=we,X(H),ee=!0;break t}T===l(y)&&a(y),X(H)}else a(y);T=l(y)}if(T!==null)ee=!0;else{var A=l(h);A!==null&&Ge(W,A.startTime-H),ee=!1}}break e}finally{T=null,_=oe,b=!1}ee=void 0}}finally{ee?de():q=!1}}}var de;if(typeof D=="function")de=function(){D(fe)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,ce=Se.port2;Se.port1.onmessage=fe,de=function(){ce.postMessage(null)}}else de=function(){w(fe,0)};function Ge(H,ee){Q=w(function(){H(i.unstable_now())},ee)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(H){H.callback=null},i.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ve=0<H?Math.floor(1e3/H):5},i.unstable_getCurrentPriorityLevel=function(){return _},i.unstable_next=function(H){switch(_){case 1:case 2:case 3:var ee=3;break;default:ee=_}var oe=_;_=ee;try{return H()}finally{_=oe}},i.unstable_requestPaint=function(){I=!0},i.unstable_runWithPriority=function(H,ee){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var oe=_;_=H;try{return ee()}finally{_=oe}},i.unstable_scheduleCallback=function(H,ee,oe){var _e=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?_e+oe:_e):oe=_e,H){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=oe+we,H={id:x++,callback:ee,priorityLevel:H,startTime:oe,expirationTime:we,sortIndex:-1},oe>_e?(H.sortIndex=oe,t(h,H),l(y)===null&&H===l(h)&&(k?(Y(Q),Q=-1):k=!0,Ge(W,oe-_e))):(H.sortIndex=we,t(y,H),M||b||(M=!0,q||(q=!0,de()))),H},i.unstable_shouldYield=$,i.unstable_wrapCallback=function(H){var ee=_;return function(){var oe=_;_=ee;try{return H.apply(this,arguments)}finally{_=oe}}}})(ju)),ju}var Cp;function Mv(){return Cp||(Cp=1,Ju.exports=wv()),Ju.exports}var Ku={exports:{}},Rt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap;function Rv(){if(Ap)return Rt;Ap=1;var i=Sc();function t(y){var h="https://react.dev/errors/"+y;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+y+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var a={d:{f:l,r:function(){throw Error(t(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(y,h,x){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:y,containerInfo:h,implementation:x}}var m=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,h){if(y==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Rt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Rt.createPortal=function(y,h){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(t(299));return c(y,h,null,x)},Rt.flushSync=function(y){var h=m.T,x=a.p;try{if(m.T=null,a.p=2,y)return y()}finally{m.T=h,a.p=x,a.d.f()}},Rt.preconnect=function(y,h){typeof y=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,a.d.C(y,h))},Rt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},Rt.preinit=function(y,h){if(typeof y=="string"&&h&&typeof h.as=="string"){var x=h.as,T=g(x,h.crossOrigin),_=typeof h.integrity=="string"?h.integrity:void 0,b=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;x==="style"?a.d.S(y,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:T,integrity:_,fetchPriority:b}):x==="script"&&a.d.X(y,{crossOrigin:T,integrity:_,fetchPriority:b,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Rt.preinitModule=function(y,h){if(typeof y=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var x=g(h.as,h.crossOrigin);a.d.M(y,{crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&a.d.M(y)},Rt.preload=function(y,h){if(typeof y=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var x=h.as,T=g(x,h.crossOrigin);a.d.L(y,x,{crossOrigin:T,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Rt.preloadModule=function(y,h){if(typeof y=="string")if(h){var x=g(h.as,h.crossOrigin);a.d.m(y,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:x,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else a.d.m(y)},Rt.requestFormReset=function(y){a.d.r(y)},Rt.unstable_batchedUpdates=function(y,h){return y(h)},Rt.useFormState=function(y,h,x){return m.H.useFormState(y,h,x)},Rt.useFormStatus=function(){return m.H.useHostTransitionStatus()},Rt.version="19.2.4",Rt}var Np;function Iv(){if(Np)return Ku.exports;Np=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Ku.exports=Rv(),Ku.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function kv(){if(wp)return Jo;wp=1;var i=Mv(),t=Sc(),l=Iv();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function h(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var o=e,s=n;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(s=d.return,s!==null){o=s;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return y(d),e;if(p===s)return y(d),n;p=p.sibling}throw Error(a(188))}if(o.return!==s.return)o=d,s=p;else{for(var S=!1,E=d.child;E;){if(E===o){S=!0,o=d,s=p;break}if(E===s){S=!0,s=d,o=p;break}E=E.sibling}if(!S){for(E=p.child;E;){if(E===o){S=!0,o=p,s=d;break}if(E===s){S=!0,s=p,o=d;break}E=E.sibling}if(!S)throw Error(a(189))}}if(o.alternate!==s)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?e:n}function x(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=x(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),D=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ve=Symbol.for("react.lazy"),ne=Symbol.for("react.activity"),$=Symbol.for("react.memo_cache_sentinel"),fe=Symbol.iterator;function de(e){return e===null||typeof e!="object"?null:(e=fe&&e[fe]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Symbol.for("react.client.reference");function ce(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case k:return"Fragment";case w:return"Profiler";case I:return"StrictMode";case W:return"Suspense";case q:return"SuspenseList";case ne:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case D:return e.displayName||"Context";case Y:return(e._context.displayName||"Context")+".Consumer";case X:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return n=e.displayName||null,n!==null?n:ce(e.type)||"Memo";case ve:n=e._payload,e=e._init;try{return ce(e(n))}catch{}}return null}var Ge=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},_e=[],we=-1;function A(e){return{current:e}}function O(e){0>we||(e.current=_e[we],_e[we]=null,we--)}function te(e,n){we++,_e[we]=e.current,e.current=n}var ae=A(null),he=A(null),xe=A(null),Me=A(null);function K(e,n){switch(te(xe,n),te(he,e),te(ae,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Bm(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Bm(n),e=Fm(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}O(ae),te(ae,e)}function ie(){O(ae),O(he),O(xe)}function Ie(e){e.memoizedState!==null&&te(Me,e);var n=ae.current,o=Fm(n,e.type);n!==o&&(te(he,e),te(ae,o))}function rt(e){he.current===e&&(O(ae),O(he)),Me.current===e&&(O(Me),Po._currentValue=oe)}var _t,gt;function kt(e){if(_t===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);_t=n&&n[1]||"",gt=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_t+e+gt}var Nn=!1;function Zt(e,n){if(!e||Nn)return"";Nn=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(V){var G=V}Reflect.construct(e,[],J)}else{try{J.call()}catch(V){G=V}e.call(J.prototype)}}else{try{throw Error()}catch(V){G=V}(J=e())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(V){if(V&&G&&typeof V.stack=="string")return[V.stack,G.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=s.DetermineComponentFrameRoot(),S=p[0],E=p[1];if(S&&E){var C=S.split(`
`),z=E.split(`
`);for(d=s=0;s<C.length&&!C[s].includes("DetermineComponentFrameRoot");)s++;for(;d<z.length&&!z[d].includes("DetermineComponentFrameRoot");)d++;if(s===C.length||d===z.length)for(s=C.length-1,d=z.length-1;1<=s&&0<=d&&C[s]!==z[d];)d--;for(;1<=s&&0<=d;s--,d--)if(C[s]!==z[d]){if(s!==1||d!==1)do if(s--,d--,0>d||C[s]!==z[d]){var P=`
`+C[s].replace(" at new "," at ");return e.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",e.displayName)),P}while(1<=s&&0<=d);break}}}finally{Nn=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?kt(o):""}function Pe(e,n){switch(e.tag){case 26:case 27:case 5:return kt(e.type);case 16:return kt("Lazy");case 13:return e.child!==n&&n!==null?kt("Suspense Fallback"):kt("Suspense");case 19:return kt("SuspenseList");case 0:case 15:return Zt(e.type,!1);case 11:return Zt(e.type.render,!1);case 1:return Zt(e.type,!0);case 31:return kt("Activity");default:return""}}function Dt(e){try{var n="",o=null;do n+=Pe(e,o),o=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Sn=Object.prototype.hasOwnProperty,ut=i.unstable_scheduleCallback,wn=i.unstable_cancelCallback,nl=i.unstable_shouldYield,Di=i.unstable_requestPaint,yt=i.unstable_now,Ui=i.unstable_getCurrentPriorityLevel,zi=i.unstable_ImmediatePriority,ti=i.unstable_UserBlockingPriority,ni=i.unstable_NormalPriority,il=i.unstable_LowPriority,Li=i.unstable_IdlePriority,ll=i.log,ol=i.unstable_setDisableYieldValue,Mn=null,vt=null;function Wt(e){if(typeof ll=="function"&&ol(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(Mn,e)}catch{}}var Et=Math.clz32?Math.clz32:sl,Ql=Math.log,al=Math.LN2;function sl(e){return e>>>=0,e===0?32:31-(Ql(e)/al|0)|0}var Tn=256,ii=262144,B=4194304;function Z(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Te(e,n,o){var s=e.pendingLanes;if(s===0)return 0;var d=0,p=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var E=s&134217727;return E!==0?(s=E&~p,s!==0?d=Z(s):(S&=E,S!==0?d=Z(S):o||(o=E&~e,o!==0&&(d=Z(o))))):(E=s&~p,E!==0?d=Z(E):S!==0?d=Z(S):o||(o=s&~e,o!==0&&(d=Z(o)))),d===0?0:n!==0&&n!==d&&(n&p)===0&&(p=d&-d,o=n&-n,p>=o||p===32&&(o&4194048)!==0)?n:d}function Fe(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function $e(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gt(){var e=B;return B<<=1,(B&62914560)===0&&(B=4194304),e}function Rn(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function In(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function li(e,n,o,s,d,p){var S=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(o=S&~o;0<o;){var P=31-Et(o),J=1<<P;E[P]=0,C[P]=-1;var G=z[P];if(G!==null)for(z[P]=null,P=0;P<G.length;P++){var V=G[P];V!==null&&(V.lane&=-536870913)}o&=~J}s!==0&&Wo(e,s,0),p!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=p&~(S&~n))}function Wo(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Et(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|o&261930}function ea(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var s=31-Et(o),d=1<<s;d&n|e[s]&n&&(e[s]|=n),o&=~d}}function ta(e,n){var o=n&-n;return o=(o&42)!==0?1:Zl(o),(o&(e.suspendedLanes|n))!==0?0:o}function Zl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Wl(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function na(){var e=ee.p;return e!==0?e:(e=window.event,e===void 0?32:mp(e.type))}function eo(e,n){var o=ee.p;try{return ee.p=e,n()}finally{ee.p=o}}var mn=Math.random().toString(36).slice(2),pt="__reactFiber$"+mn,bt="__reactProps$"+mn,L="__reactContainer$"+mn,se="__reactEvents$"+mn,ge="__reactListeners$"+mn,Ae="__reactHandles$"+mn,Re="__reactResources$"+mn,Be="__reactMarker$"+mn;function tt(e){delete e[pt],delete e[bt],delete e[se],delete e[ge],delete e[Ae]}function Ct(e){var n=e[pt];if(n)return n;for(var o=e.parentNode;o;){if(n=o[L]||o[pt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Qm(e);e!==null;){if(o=e[pt])return o;e=Qm(e)}return n}e=o,o=e.parentNode}return null}function Ft(e){if(e=e[pt]||e[L]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function xt(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function oi(e){var n=e[Re];return n||(n=e[Re]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function nt(e){e[Be]=!0}var to=new Set,rl={};function _n(e,n){ai(e,n),ai(e+"Capture",n)}function ai(e,n){for(rl[e]=n,e=0;e<n.length;e++)to.add(n[e])}var no=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kc={},Dc={};function g0(e){return Sn.call(Dc,e)?!0:Sn.call(kc,e)?!1:no.test(e)?Dc[e]=!0:(kc[e]=!0,!1)}function ia(e,n,o){if(g0(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function la(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function kn(e,n,o,s){if(s===null)e.removeAttribute(o);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+s)}}function en(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Uc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function y0(e,n,o){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,p=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){o=""+S,p.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Ls(e){if(!e._valueTracker){var n=Uc(e)?"checked":"value";e._valueTracker=y0(e,n,""+e[n])}}function zc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),s="";return e&&(s=Uc(e)?e.checked?"true":"false":e.value),e=s,e!==o?(n.setValue(e),!0):!1}function oa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var v0=/[\n"\\]/g;function tn(e){return e.replace(v0,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Gs(e,n,o,s,d,p,S,E){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+en(n)):e.value!==""+en(n)&&(e.value=""+en(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?Hs(e,S,en(n)):o!=null?Hs(e,S,en(o)):s!=null&&e.removeAttribute("value"),d==null&&p!=null&&(e.defaultChecked=!!p),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+en(E):e.removeAttribute("name")}function Lc(e,n,o,s,d,p,S,E){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.type=p),n!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||n!=null)){Ls(e);return}o=o!=null?""+en(o):"",n=n!=null?""+en(n):o,E||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=E?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),Ls(e)}function Hs(e,n,o){n==="number"&&oa(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function ul(e,n,o,s){if(e=e.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<e.length;o++)d=n.hasOwnProperty("$"+e[o].value),e[o].selected!==d&&(e[o].selected=d),d&&s&&(e[o].defaultSelected=!0)}else{for(o=""+en(o),n=null,d=0;d<e.length;d++){if(e[d].value===o){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function Gc(e,n,o){if(n!=null&&(n=""+en(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+en(o):""}function Hc(e,n,o,s){if(n==null){if(s!=null){if(o!=null)throw Error(a(92));if(Ge(s)){if(1<s.length)throw Error(a(93));s=s[0]}o=s}o==null&&(o=""),n=o}o=en(n),e.defaultValue=o,s=e.textContent,s===o&&s!==""&&s!==null&&(e.value=s),Ls(e)}function cl(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var x0=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vc(e,n,o){var s=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,o):typeof o!="number"||o===0||x0.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function qc(e,n,o){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,o!=null){for(var s in o)!o.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&o[d]!==s&&Vc(e,d,s)}else for(var p in n)n.hasOwnProperty(p)&&Vc(e,p,n[p])}function Vs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var S0=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),T0=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return T0.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Dn(){}var qs=null;function Ps(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fl=null,dl=null;function Pc(e){var n=Ft(e);if(n&&(e=n.stateNode)){var o=e[bt]||null;e:switch(e=n.stateNode,n.type){case"input":if(Gs(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+tn(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var s=o[n];if(s!==e&&s.form===e.form){var d=s[bt]||null;if(!d)throw Error(a(90));Gs(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<o.length;n++)s=o[n],s.form===e.form&&zc(s)}break e;case"textarea":Gc(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&ul(e,!!o.multiple,n,!1)}}}var Os=!1;function Oc(e,n,o){if(Os)return e(n,o);Os=!0;try{var s=e(n);return s}finally{if(Os=!1,(fl!==null||dl!==null)&&(ja(),fl&&(n=fl,e=dl,dl=fl=null,Pc(n),e)))for(n=0;n<e.length;n++)Pc(e[n])}}function io(e,n){var o=e.stateNode;if(o===null)return null;var s=o[bt]||null;if(s===null)return null;o=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bs=!1;if(Un)try{var lo={};Object.defineProperty(lo,"passive",{get:function(){Bs=!0}}),window.addEventListener("test",lo,lo),window.removeEventListener("test",lo,lo)}catch{Bs=!1}var si=null,Fs=null,sa=null;function Bc(){if(sa)return sa;var e,n=Fs,o=n.length,s,d="value"in si?si.value:si.textContent,p=d.length;for(e=0;e<o&&n[e]===d[e];e++);var S=o-e;for(s=1;s<=S&&n[o-s]===d[p-s];s++);return sa=d.slice(e,1<s?1-s:void 0)}function ra(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ua(){return!0}function Fc(){return!1}function Ht(e){function n(o,s,d,p,S){this._reactName=o,this._targetInst=d,this.type=s,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(o=e[E],this[E]=o?o(p):p[E]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ua:Fc,this.isPropagationStopped=Fc,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ua)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ua)},persist:function(){},isPersistent:ua}),n}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ca=Ht(Gi),oo=T({},Gi,{view:0,detail:0}),_0=Ht(oo),Ys,Js,ao,fa=T({},oo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ks,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ao&&(ao&&e.type==="mousemove"?(Ys=e.screenX-ao.screenX,Js=e.screenY-ao.screenY):Js=Ys=0,ao=e),Ys)},movementY:function(e){return"movementY"in e?e.movementY:Js}}),Yc=Ht(fa),E0=T({},fa,{dataTransfer:0}),b0=Ht(E0),C0=T({},oo,{relatedTarget:0}),js=Ht(C0),A0=T({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),N0=Ht(A0),w0=T({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),M0=Ht(w0),R0=T({},Gi,{data:0}),Jc=Ht(R0),I0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},k0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},D0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function U0(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=D0[e])?!!n[e]:!1}function Ks(){return U0}var z0=T({},oo,{key:function(e){if(e.key){var n=I0[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=ra(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?k0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ks,charCode:function(e){return e.type==="keypress"?ra(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ra(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),L0=Ht(z0),G0=T({},fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jc=Ht(G0),H0=T({},oo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ks}),V0=Ht(H0),q0=T({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),P0=Ht(q0),O0=T({},fa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B0=Ht(O0),F0=T({},Gi,{newState:0,oldState:0}),Y0=Ht(F0),J0=[9,13,27,32],Xs=Un&&"CompositionEvent"in window,so=null;Un&&"documentMode"in document&&(so=document.documentMode);var j0=Un&&"TextEvent"in window&&!so,Kc=Un&&(!Xs||so&&8<so&&11>=so),Xc=" ",$c=!1;function Qc(e,n){switch(e){case"keyup":return J0.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ml=!1;function K0(e,n){switch(e){case"compositionend":return Zc(n);case"keypress":return n.which!==32?null:($c=!0,Xc);case"textInput":return e=n.data,e===Xc&&$c?null:e;default:return null}}function X0(e,n){if(ml)return e==="compositionend"||!Xs&&Qc(e,n)?(e=Bc(),sa=Fs=si=null,ml=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Kc&&n.locale!=="ko"?null:n.data;default:return null}}var $0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!$0[e.type]:n==="textarea"}function ef(e,n,o,s){fl?dl?dl.push(s):dl=[s]:fl=s,n=es(n,"onChange"),0<n.length&&(o=new ca("onChange","change",null,o,s),e.push({event:o,listeners:n}))}var ro=null,uo=null;function Q0(e){Gm(e,0)}function da(e){var n=xt(e);if(zc(n))return e}function tf(e,n){if(e==="change")return n}var nf=!1;if(Un){var $s;if(Un){var Qs="oninput"in document;if(!Qs){var lf=document.createElement("div");lf.setAttribute("oninput","return;"),Qs=typeof lf.oninput=="function"}$s=Qs}else $s=!1;nf=$s&&(!document.documentMode||9<document.documentMode)}function of(){ro&&(ro.detachEvent("onpropertychange",af),uo=ro=null)}function af(e){if(e.propertyName==="value"&&da(uo)){var n=[];ef(n,uo,e,Ps(e)),Oc(Q0,n)}}function Z0(e,n,o){e==="focusin"?(of(),ro=n,uo=o,ro.attachEvent("onpropertychange",af)):e==="focusout"&&of()}function W0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return da(uo)}function ey(e,n){if(e==="click")return da(n)}function ty(e,n){if(e==="input"||e==="change")return da(n)}function ny(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Yt=typeof Object.is=="function"?Object.is:ny;function co(e,n){if(Yt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),s=Object.keys(n);if(o.length!==s.length)return!1;for(s=0;s<o.length;s++){var d=o[s];if(!Sn.call(n,d)||!Yt(e[d],n[d]))return!1}return!0}function sf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rf(e,n){var o=sf(e);e=0;for(var s;o;){if(o.nodeType===3){if(s=e+o.textContent.length,e<=n&&s>=n)return{node:o,offset:n-e};e=s}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=sf(o)}}function uf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?uf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function cf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=oa(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=oa(e.document)}return n}function Zs(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var iy=Un&&"documentMode"in document&&11>=document.documentMode,pl=null,Ws=null,fo=null,er=!1;function ff(e,n,o){var s=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;er||pl==null||pl!==oa(s)||(s=pl,"selectionStart"in s&&Zs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),fo&&co(fo,s)||(fo=s,s=es(Ws,"onSelect"),0<s.length&&(n=new ca("onSelect","select",null,n,o),e.push({event:n,listeners:s}),n.target=pl)))}function Hi(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var hl={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionrun:Hi("Transition","TransitionRun"),transitionstart:Hi("Transition","TransitionStart"),transitioncancel:Hi("Transition","TransitionCancel"),transitionend:Hi("Transition","TransitionEnd")},tr={},df={};Un&&(df=document.createElement("div").style,"AnimationEvent"in window||(delete hl.animationend.animation,delete hl.animationiteration.animation,delete hl.animationstart.animation),"TransitionEvent"in window||delete hl.transitionend.transition);function Vi(e){if(tr[e])return tr[e];if(!hl[e])return e;var n=hl[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in df)return tr[e]=n[o];return e}var mf=Vi("animationend"),pf=Vi("animationiteration"),hf=Vi("animationstart"),ly=Vi("transitionrun"),oy=Vi("transitionstart"),ay=Vi("transitioncancel"),gf=Vi("transitionend"),yf=new Map,nr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nr.push("scrollEnd");function pn(e,n){yf.set(e,n),_n(n,[e])}var ma=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},nn=[],gl=0,ir=0;function pa(){for(var e=gl,n=ir=gl=0;n<e;){var o=nn[n];nn[n++]=null;var s=nn[n];nn[n++]=null;var d=nn[n];nn[n++]=null;var p=nn[n];if(nn[n++]=null,s!==null&&d!==null){var S=s.pending;S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d}p!==0&&vf(o,d,p)}}function ha(e,n,o,s){nn[gl++]=e,nn[gl++]=n,nn[gl++]=o,nn[gl++]=s,ir|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function lr(e,n,o,s){return ha(e,n,o,s),ga(e)}function qi(e,n){return ha(e,null,null,n),ga(e)}function vf(e,n,o){e.lanes|=o;var s=e.alternate;s!==null&&(s.lanes|=o);for(var d=!1,p=e.return;p!==null;)p.childLanes|=o,s=p.alternate,s!==null&&(s.childLanes|=o),p.tag===22&&(e=p.stateNode,e===null||e._visibility&1||(d=!0)),e=p,p=p.return;return e.tag===3?(p=e.stateNode,d&&n!==null&&(d=31-Et(o),e=p.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=o|536870912),p):null}function ga(e){if(50<Uo)throw Uo=0,mu=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var yl={};function sy(e,n,o,s){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(e,n,o,s){return new sy(e,n,o,s)}function or(e){return e=e.prototype,!(!e||!e.isReactComponent)}function zn(e,n){var o=e.alternate;return o===null?(o=Jt(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function xf(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ya(e,n,o,s,d,p){var S=0;if(s=e,typeof e=="function")or(e)&&(S=1);else if(typeof e=="string")S=dv(e,o,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case ne:return e=Jt(31,o,n,d),e.elementType=ne,e.lanes=p,e;case k:return Pi(o.children,d,p,n);case I:S=8,d|=24;break;case w:return e=Jt(12,o,n,d|2),e.elementType=w,e.lanes=p,e;case W:return e=Jt(13,o,n,d),e.elementType=W,e.lanes=p,e;case q:return e=Jt(19,o,n,d),e.elementType=q,e.lanes=p,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:S=10;break e;case Y:S=9;break e;case X:S=11;break e;case Q:S=14;break e;case ve:S=16,s=null;break e}S=29,o=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=Jt(S,o,n,d),n.elementType=e,n.type=s,n.lanes=p,n}function Pi(e,n,o,s){return e=Jt(7,e,s,n),e.lanes=o,e}function ar(e,n,o){return e=Jt(6,e,null,n),e.lanes=o,e}function Sf(e){var n=Jt(18,null,null,0);return n.stateNode=e,n}function sr(e,n,o){return n=Jt(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Tf=new WeakMap;function ln(e,n){if(typeof e=="object"&&e!==null){var o=Tf.get(e);return o!==void 0?o:(n={value:e,source:n,stack:Dt(n)},Tf.set(e,n),n)}return{value:e,source:n,stack:Dt(n)}}var vl=[],xl=0,va=null,mo=0,on=[],an=0,ri=null,En=1,bn="";function Ln(e,n){vl[xl++]=mo,vl[xl++]=va,va=e,mo=n}function _f(e,n,o){on[an++]=En,on[an++]=bn,on[an++]=ri,ri=e;var s=En;e=bn;var d=32-Et(s)-1;s&=~(1<<d),o+=1;var p=32-Et(n)+d;if(30<p){var S=d-d%5;p=(s&(1<<S)-1).toString(32),s>>=S,d-=S,En=1<<32-Et(n)+d|o<<d|s,bn=p+e}else En=1<<p|o<<d|s,bn=e}function rr(e){e.return!==null&&(Ln(e,1),_f(e,1,0))}function ur(e){for(;e===va;)va=vl[--xl],vl[xl]=null,mo=vl[--xl],vl[xl]=null;for(;e===ri;)ri=on[--an],on[an]=null,bn=on[--an],on[an]=null,En=on[--an],on[an]=null}function Ef(e,n){on[an++]=En,on[an++]=bn,on[an++]=ri,En=n.id,bn=n.overflow,ri=e}var At=null,Ze=null,Le=!1,ui=null,sn=!1,cr=Error(a(519));function ci(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw po(ln(n,e)),cr}function bf(e){var n=e.stateNode,o=e.type,s=e.memoizedProps;switch(n[pt]=e,n[bt]=s,o){case"dialog":De("cancel",n),De("close",n);break;case"iframe":case"object":case"embed":De("load",n);break;case"video":case"audio":for(o=0;o<Lo.length;o++)De(Lo[o],n);break;case"source":De("error",n);break;case"img":case"image":case"link":De("error",n),De("load",n);break;case"details":De("toggle",n);break;case"input":De("invalid",n),Lc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":De("invalid",n);break;case"textarea":De("invalid",n),Hc(n,s.value,s.defaultValue,s.children)}o=s.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||s.suppressHydrationWarning===!0||Pm(n.textContent,o)?(s.popover!=null&&(De("beforetoggle",n),De("toggle",n)),s.onScroll!=null&&De("scroll",n),s.onScrollEnd!=null&&De("scrollend",n),s.onClick!=null&&(n.onclick=Dn),n=!0):n=!1,n||ci(e,!0)}function Cf(e){for(At=e.return;At;)switch(At.tag){case 5:case 31:case 13:sn=!1;return;case 27:case 3:sn=!0;return;default:At=At.return}}function Sl(e){if(e!==At)return!1;if(!Le)return Cf(e),Le=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||wu(e.type,e.memoizedProps)),o=!o),o&&Ze&&ci(e),Cf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ze=$m(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ze=$m(e)}else n===27?(n=Ze,bi(e.type)?(e=Du,Du=null,Ze=e):Ze=n):Ze=At?un(e.stateNode.nextSibling):null;return!0}function Oi(){Ze=At=null,Le=!1}function fr(){var e=ui;return e!==null&&(Ot===null?Ot=e:Ot.push.apply(Ot,e),ui=null),e}function po(e){ui===null?ui=[e]:ui.push(e)}var dr=A(null),Bi=null,Gn=null;function fi(e,n,o){te(dr,n._currentValue),n._currentValue=o}function Hn(e){e._currentValue=dr.current,O(dr)}function mr(e,n,o){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===o)break;e=e.return}}function pr(e,n,o,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var p=d.dependencies;if(p!==null){var S=d.child;p=p.firstContext;e:for(;p!==null;){var E=p;p=d;for(var C=0;C<n.length;C++)if(E.context===n[C]){p.lanes|=o,E=p.alternate,E!==null&&(E.lanes|=o),mr(p.return,o,e),s||(S=null);break e}p=E.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(a(341));S.lanes|=o,p=S.alternate,p!==null&&(p.lanes|=o),mr(S,o,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Tl(e,n,o,s){e=null;for(var d=n,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var E=d.type;Yt(d.pendingProps.value,S.value)||(e!==null?e.push(E):e=[E])}}else if(d===Me.current){if(S=d.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Po):e=[Po])}d=d.return}e!==null&&pr(n,e,o,s),n.flags|=262144}function xa(e){for(e=e.firstContext;e!==null;){if(!Yt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Fi(e){Bi=e,Gn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Nt(e){return Af(Bi,e)}function Sa(e,n){return Bi===null&&Fi(e),Af(e,n)}function Af(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},Gn===null){if(e===null)throw Error(a(308));Gn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Gn=Gn.next=n;return o}var ry=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},uy=i.unstable_scheduleCallback,cy=i.unstable_NormalPriority,ct={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hr(){return{controller:new ry,data:new Map,refCount:0}}function ho(e){e.refCount--,e.refCount===0&&uy(cy,function(){e.controller.abort()})}var go=null,gr=0,_l=0,El=null;function fy(e,n){if(go===null){var o=go=[];gr=0,_l=xu(),El={status:"pending",value:void 0,then:function(s){o.push(s)}}}return gr++,n.then(Nf,Nf),n}function Nf(){if(--gr===0&&go!==null){El!==null&&(El.status="fulfilled");var e=go;go=null,_l=0,El=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function dy(e,n){var o=[],s={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<o.length;d++)(0,o[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),s}var wf=H.S;H.S=function(e,n){fm=yt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&fy(e,n),wf!==null&&wf(e,n)};var Yi=A(null);function yr(){var e=Yi.current;return e!==null?e:Qe.pooledCache}function Ta(e,n){n===null?te(Yi,Yi.current):te(Yi,n.pool)}function Mf(){var e=yr();return e===null?null:{parent:ct._currentValue,pool:e}}var bl=Error(a(460)),vr=Error(a(474)),_a=Error(a(542)),Ea={then:function(){}};function Rf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function If(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(Dn,Dn),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Df(e),e;default:if(typeof n.status=="string")n.then(Dn,Dn);else{if(e=Qe,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Df(e),e}throw ji=n,bl}}function Ji(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ji=o,bl):o}}var ji=null;function kf(){if(ji===null)throw Error(a(459));var e=ji;return ji=null,e}function Df(e){if(e===bl||e===_a)throw Error(a(483))}var Cl=null,yo=0;function ba(e){var n=yo;return yo+=1,Cl===null&&(Cl=[]),If(Cl,e,n)}function vo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ca(e,n){throw n.$$typeof===_?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Uf(e){function n(R,N){if(e){var U=R.deletions;U===null?(R.deletions=[N],R.flags|=16):U.push(N)}}function o(R,N){if(!e)return null;for(;N!==null;)n(R,N),N=N.sibling;return null}function s(R){for(var N=new Map;R!==null;)R.key!==null?N.set(R.key,R):N.set(R.index,R),R=R.sibling;return N}function d(R,N){return R=zn(R,N),R.index=0,R.sibling=null,R}function p(R,N,U){return R.index=U,e?(U=R.alternate,U!==null?(U=U.index,U<N?(R.flags|=67108866,N):U):(R.flags|=67108866,N)):(R.flags|=1048576,N)}function S(R){return e&&R.alternate===null&&(R.flags|=67108866),R}function E(R,N,U,F){return N===null||N.tag!==6?(N=ar(U,R.mode,F),N.return=R,N):(N=d(N,U),N.return=R,N)}function C(R,N,U,F){var me=U.type;return me===k?P(R,N,U.props.children,F,U.key):N!==null&&(N.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ve&&Ji(me)===N.type)?(N=d(N,U.props),vo(N,U),N.return=R,N):(N=ya(U.type,U.key,U.props,null,R.mode,F),vo(N,U),N.return=R,N)}function z(R,N,U,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=sr(U,R.mode,F),N.return=R,N):(N=d(N,U.children||[]),N.return=R,N)}function P(R,N,U,F,me){return N===null||N.tag!==7?(N=Pi(U,R.mode,F,me),N.return=R,N):(N=d(N,U),N.return=R,N)}function J(R,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=ar(""+N,R.mode,U),N.return=R,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case b:return U=ya(N.type,N.key,N.props,null,R.mode,U),vo(U,N),U.return=R,U;case M:return N=sr(N,R.mode,U),N.return=R,N;case ve:return N=Ji(N),J(R,N,U)}if(Ge(N)||de(N))return N=Pi(N,R.mode,U,null),N.return=R,N;if(typeof N.then=="function")return J(R,ba(N),U);if(N.$$typeof===D)return J(R,Sa(R,N),U);Ca(R,N)}return null}function G(R,N,U,F){var me=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return me!==null?null:E(R,N,""+U,F);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return U.key===me?C(R,N,U,F):null;case M:return U.key===me?z(R,N,U,F):null;case ve:return U=Ji(U),G(R,N,U,F)}if(Ge(U)||de(U))return me!==null?null:P(R,N,U,F,null);if(typeof U.then=="function")return G(R,N,ba(U),F);if(U.$$typeof===D)return G(R,N,Sa(R,U),F);Ca(R,U)}return null}function V(R,N,U,F,me){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return R=R.get(U)||null,E(N,R,""+F,me);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case b:return R=R.get(F.key===null?U:F.key)||null,C(N,R,F,me);case M:return R=R.get(F.key===null?U:F.key)||null,z(N,R,F,me);case ve:return F=Ji(F),V(R,N,U,F,me)}if(Ge(F)||de(F))return R=R.get(U)||null,P(N,R,F,me,null);if(typeof F.then=="function")return V(R,N,U,ba(F),me);if(F.$$typeof===D)return V(R,N,U,Sa(N,F),me);Ca(N,F)}return null}function re(R,N,U,F){for(var me=null,He=null,ue=N,Ne=N=0,ze=null;ue!==null&&Ne<U.length;Ne++){ue.index>Ne?(ze=ue,ue=null):ze=ue.sibling;var Ve=G(R,ue,U[Ne],F);if(Ve===null){ue===null&&(ue=ze);break}e&&ue&&Ve.alternate===null&&n(R,ue),N=p(Ve,N,Ne),He===null?me=Ve:He.sibling=Ve,He=Ve,ue=ze}if(Ne===U.length)return o(R,ue),Le&&Ln(R,Ne),me;if(ue===null){for(;Ne<U.length;Ne++)ue=J(R,U[Ne],F),ue!==null&&(N=p(ue,N,Ne),He===null?me=ue:He.sibling=ue,He=ue);return Le&&Ln(R,Ne),me}for(ue=s(ue);Ne<U.length;Ne++)ze=V(ue,R,Ne,U[Ne],F),ze!==null&&(e&&ze.alternate!==null&&ue.delete(ze.key===null?Ne:ze.key),N=p(ze,N,Ne),He===null?me=ze:He.sibling=ze,He=ze);return e&&ue.forEach(function(Mi){return n(R,Mi)}),Le&&Ln(R,Ne),me}function ye(R,N,U,F){if(U==null)throw Error(a(151));for(var me=null,He=null,ue=N,Ne=N=0,ze=null,Ve=U.next();ue!==null&&!Ve.done;Ne++,Ve=U.next()){ue.index>Ne?(ze=ue,ue=null):ze=ue.sibling;var Mi=G(R,ue,Ve.value,F);if(Mi===null){ue===null&&(ue=ze);break}e&&ue&&Mi.alternate===null&&n(R,ue),N=p(Mi,N,Ne),He===null?me=Mi:He.sibling=Mi,He=Mi,ue=ze}if(Ve.done)return o(R,ue),Le&&Ln(R,Ne),me;if(ue===null){for(;!Ve.done;Ne++,Ve=U.next())Ve=J(R,Ve.value,F),Ve!==null&&(N=p(Ve,N,Ne),He===null?me=Ve:He.sibling=Ve,He=Ve);return Le&&Ln(R,Ne),me}for(ue=s(ue);!Ve.done;Ne++,Ve=U.next())Ve=V(ue,R,Ne,Ve.value,F),Ve!==null&&(e&&Ve.alternate!==null&&ue.delete(Ve.key===null?Ne:Ve.key),N=p(Ve,N,Ne),He===null?me=Ve:He.sibling=Ve,He=Ve);return e&&ue.forEach(function(Ev){return n(R,Ev)}),Le&&Ln(R,Ne),me}function Xe(R,N,U,F){if(typeof U=="object"&&U!==null&&U.type===k&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case b:e:{for(var me=U.key;N!==null;){if(N.key===me){if(me=U.type,me===k){if(N.tag===7){o(R,N.sibling),F=d(N,U.props.children),F.return=R,R=F;break e}}else if(N.elementType===me||typeof me=="object"&&me!==null&&me.$$typeof===ve&&Ji(me)===N.type){o(R,N.sibling),F=d(N,U.props),vo(F,U),F.return=R,R=F;break e}o(R,N);break}else n(R,N);N=N.sibling}U.type===k?(F=Pi(U.props.children,R.mode,F,U.key),F.return=R,R=F):(F=ya(U.type,U.key,U.props,null,R.mode,F),vo(F,U),F.return=R,R=F)}return S(R);case M:e:{for(me=U.key;N!==null;){if(N.key===me)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){o(R,N.sibling),F=d(N,U.children||[]),F.return=R,R=F;break e}else{o(R,N);break}else n(R,N);N=N.sibling}F=sr(U,R.mode,F),F.return=R,R=F}return S(R);case ve:return U=Ji(U),Xe(R,N,U,F)}if(Ge(U))return re(R,N,U,F);if(de(U)){if(me=de(U),typeof me!="function")throw Error(a(150));return U=me.call(U),ye(R,N,U,F)}if(typeof U.then=="function")return Xe(R,N,ba(U),F);if(U.$$typeof===D)return Xe(R,N,Sa(R,U),F);Ca(R,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(o(R,N.sibling),F=d(N,U),F.return=R,R=F):(o(R,N),F=ar(U,R.mode,F),F.return=R,R=F),S(R)):o(R,N)}return function(R,N,U,F){try{yo=0;var me=Xe(R,N,U,F);return Cl=null,me}catch(ue){if(ue===bl||ue===_a)throw ue;var He=Jt(29,ue,null,R.mode);return He.lanes=F,He.return=R,He}finally{}}}var Ki=Uf(!0),zf=Uf(!1),di=!1;function xr(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sr(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function mi(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function pi(e,n,o){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Oe&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=ga(e),vf(e,null,o),n}return ha(e,s,n,o),ga(e)}function xo(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,ea(e,o)}}function Tr(e,n){var o=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,o===s)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=S:p=p.next=S,o=o.next}while(o!==null);p===null?d=p=n:p=p.next=n}else d=p=n;o={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:s.shared,callbacks:s.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var _r=!1;function So(){if(_r){var e=El;if(e!==null)throw e}}function To(e,n,o,s){_r=!1;var d=e.updateQueue;di=!1;var p=d.firstBaseUpdate,S=d.lastBaseUpdate,E=d.shared.pending;if(E!==null){d.shared.pending=null;var C=E,z=C.next;C.next=null,S===null?p=z:S.next=z,S=C;var P=e.alternate;P!==null&&(P=P.updateQueue,E=P.lastBaseUpdate,E!==S&&(E===null?P.firstBaseUpdate=z:E.next=z,P.lastBaseUpdate=C))}if(p!==null){var J=d.baseState;S=0,P=z=C=null,E=p;do{var G=E.lane&-536870913,V=G!==E.lane;if(V?(Ue&G)===G:(s&G)===G){G!==0&&G===_l&&(_r=!0),P!==null&&(P=P.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var re=e,ye=E;G=n;var Xe=o;switch(ye.tag){case 1:if(re=ye.payload,typeof re=="function"){J=re.call(Xe,J,G);break e}J=re;break e;case 3:re.flags=re.flags&-65537|128;case 0:if(re=ye.payload,G=typeof re=="function"?re.call(Xe,J,G):re,G==null)break e;J=T({},J,G);break e;case 2:di=!0}}G=E.callback,G!==null&&(e.flags|=64,V&&(e.flags|=8192),V=d.callbacks,V===null?d.callbacks=[G]:V.push(G))}else V={lane:G,tag:E.tag,payload:E.payload,callback:E.callback,next:null},P===null?(z=P=V,C=J):P=P.next=V,S|=G;if(E=E.next,E===null){if(E=d.shared.pending,E===null)break;V=E,E=V.next,V.next=null,d.lastBaseUpdate=V,d.shared.pending=null}}while(!0);P===null&&(C=J),d.baseState=C,d.firstBaseUpdate=z,d.lastBaseUpdate=P,p===null&&(d.shared.lanes=0),xi|=S,e.lanes=S,e.memoizedState=J}}function Lf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Gf(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)Lf(o[e],n)}var Al=A(null),Aa=A(0);function Hf(e,n){e=jn,te(Aa,e),te(Al,n),jn=e|n.baseLanes}function Er(){te(Aa,jn),te(Al,Al.current)}function br(){jn=Aa.current,O(Al),O(Aa)}var jt=A(null),rn=null;function hi(e){var n=e.alternate;te(ot,ot.current&1),te(jt,e),rn===null&&(n===null||Al.current!==null||n.memoizedState!==null)&&(rn=e)}function Cr(e){te(ot,ot.current),te(jt,e),rn===null&&(rn=e)}function Vf(e){e.tag===22?(te(ot,ot.current),te(jt,e),rn===null&&(rn=e)):gi()}function gi(){te(ot,ot.current),te(jt,jt.current)}function Kt(e){O(jt),rn===e&&(rn=null),O(ot)}var ot=A(0);function Na(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Iu(o)||ku(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Vn=0,Ce=null,je=null,ft=null,wa=!1,Nl=!1,Xi=!1,Ma=0,_o=0,wl=null,my=0;function it(){throw Error(a(321))}function Ar(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!Yt(e[o],n[o]))return!1;return!0}function Nr(e,n,o,s,d,p){return Vn=p,Ce=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?_d:Or,Xi=!1,p=o(s,d),Xi=!1,Nl&&(p=Pf(n,o,s,d)),qf(e),p}function qf(e){H.H=Co;var n=je!==null&&je.next!==null;if(Vn=0,ft=je=Ce=null,wa=!1,_o=0,wl=null,n)throw Error(a(300));e===null||dt||(e=e.dependencies,e!==null&&xa(e)&&(dt=!0))}function Pf(e,n,o,s){Ce=e;var d=0;do{if(Nl&&(wl=null),_o=0,Nl=!1,25<=d)throw Error(a(301));if(d+=1,ft=je=null,e.updateQueue!=null){var p=e.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}H.H=Ed,p=n(o,s)}while(Nl);return p}function py(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Eo(n):n,e=e.useState()[0],(je!==null?je.memoizedState:null)!==e&&(Ce.flags|=1024),n}function wr(){var e=Ma!==0;return Ma=0,e}function Mr(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function Rr(e){if(wa){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}wa=!1}Vn=0,ft=je=Ce=null,Nl=!1,_o=Ma=0,wl=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ce.memoizedState=ft=e:ft=ft.next=e,ft}function at(){if(je===null){var e=Ce.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var n=ft===null?Ce.memoizedState:ft.next;if(n!==null)ft=n,je=e;else{if(e===null)throw Ce.alternate===null?Error(a(467)):Error(a(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},ft===null?Ce.memoizedState=ft=e:ft=ft.next=e}return ft}function Ra(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Eo(e){var n=_o;return _o+=1,wl===null&&(wl=[]),e=If(wl,e,n),n=Ce,(ft===null?n.memoizedState:ft.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?_d:Or),e}function Ia(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Eo(e);if(e.$$typeof===D)return Nt(e)}throw Error(a(438,String(e)))}function Ir(e){var n=null,o=Ce.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var s=Ce.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=Ra(),Ce.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),s=0;s<e;s++)o[s]=$;return n.index++,o}function qn(e,n){return typeof n=="function"?n(e):n}function ka(e){var n=at();return kr(n,je,e)}function kr(e,n,o){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=o;var d=e.baseQueue,p=s.pending;if(p!==null){if(d!==null){var S=d.next;d.next=p.next,p.next=S}n.baseQueue=d=p,s.pending=null}if(p=e.baseState,d===null)e.memoizedState=p;else{n=d.next;var E=S=null,C=null,z=n,P=!1;do{var J=z.lane&-536870913;if(J!==z.lane?(Ue&J)===J:(Vn&J)===J){var G=z.revertLane;if(G===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),J===_l&&(P=!0);else if((Vn&G)===G){z=z.next,G===_l&&(P=!0);continue}else J={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=J,S=p):C=C.next=J,Ce.lanes|=G,xi|=G;J=z.action,Xi&&o(p,J),p=z.hasEagerState?z.eagerState:o(p,J)}else G={lane:J,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=G,S=p):C=C.next=G,Ce.lanes|=J,xi|=J;z=z.next}while(z!==null&&z!==n);if(C===null?S=p:C.next=E,!Yt(p,e.memoizedState)&&(dt=!0,P&&(o=El,o!==null)))throw o;e.memoizedState=p,e.baseState=S,e.baseQueue=C,s.lastRenderedState=p}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Dr(e){var n=at(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=e;var s=o.dispatch,d=o.pending,p=n.memoizedState;if(d!==null){o.pending=null;var S=d=d.next;do p=e(p,S.action),S=S.next;while(S!==d);Yt(p,n.memoizedState)||(dt=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),o.lastRenderedState=p}return[p,s]}function Of(e,n,o){var s=Ce,d=at(),p=Le;if(p){if(o===void 0)throw Error(a(407));o=o()}else o=n();var S=!Yt((je||d).memoizedState,o);if(S&&(d.memoizedState=o,dt=!0),d=d.queue,Lr(Yf.bind(null,s,d,e),[e]),d.getSnapshot!==n||S||ft!==null&&ft.memoizedState.tag&1){if(s.flags|=2048,Ml(9,{destroy:void 0},Ff.bind(null,s,d,o,n),null),Qe===null)throw Error(a(349));p||(Vn&127)!==0||Bf(s,n,o)}return o}function Bf(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Ce.updateQueue,n===null?(n=Ra(),Ce.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Ff(e,n,o,s){n.value=o,n.getSnapshot=s,Jf(n)&&jf(e)}function Yf(e,n,o){return o(function(){Jf(n)&&jf(e)})}function Jf(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!Yt(e,o)}catch{return!0}}function jf(e){var n=qi(e,2);n!==null&&Bt(n,e,2)}function Ur(e){var n=Ut();if(typeof e=="function"){var o=e;if(e=o(),Xi){Wt(!0);try{o()}finally{Wt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:e},n}function Kf(e,n,o,s){return e.baseState=o,kr(e,je,typeof s=="function"?s:qn)}function hy(e,n,o,s,d){if(za(e))throw Error(a(485));if(e=n.action,e!==null){var p={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};H.T!==null?o(!0):p.isTransition=!1,s(p),o=n.pending,o===null?(p.next=n.pending=p,Xf(n,p)):(p.next=o.next,n.pending=o.next=p)}}function Xf(e,n){var o=n.action,s=n.payload,d=e.state;if(n.isTransition){var p=H.T,S={};H.T=S;try{var E=o(d,s),C=H.S;C!==null&&C(S,E),$f(e,n,E)}catch(z){zr(e,n,z)}finally{p!==null&&S.types!==null&&(p.types=S.types),H.T=p}}else try{p=o(d,s),$f(e,n,p)}catch(z){zr(e,n,z)}}function $f(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(s){Qf(e,n,s)},function(s){return zr(e,n,s)}):Qf(e,n,o)}function Qf(e,n,o){n.status="fulfilled",n.value=o,Zf(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Xf(e,o)))}function zr(e,n,o){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=o,Zf(n),n=n.next;while(n!==s)}e.action=null}function Zf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Wf(e,n){return n}function ed(e,n){if(Le){var o=Qe.formState;if(o!==null){e:{var s=Ce;if(Le){if(Ze){t:{for(var d=Ze,p=sn;d.nodeType!==8;){if(!p){d=null;break t}if(d=un(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Ze=un(d.nextSibling),s=d.data==="F!";break e}}ci(s)}s=!1}s&&(n=o[0])}}return o=Ut(),o.memoizedState=o.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wf,lastRenderedState:n},o.queue=s,o=xd.bind(null,Ce,s),s.dispatch=o,s=Ur(!1),p=Pr.bind(null,Ce,!1,s.queue),s=Ut(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,o=hy.bind(null,Ce,d,p,o),d.dispatch=o,s.memoizedState=e,[n,o,!1]}function td(e){var n=at();return nd(n,je,e)}function nd(e,n,o){if(n=kr(e,n,Wf)[0],e=ka(qn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Eo(n)}catch(S){throw S===bl?_a:S}else s=n;n=at();var d=n.queue,p=d.dispatch;return o!==n.memoizedState&&(Ce.flags|=2048,Ml(9,{destroy:void 0},gy.bind(null,d,o),null)),[s,p,e]}function gy(e,n){e.action=n}function id(e){var n=at(),o=je;if(o!==null)return nd(n,o,e);at(),n=n.memoizedState,o=at();var s=o.queue.dispatch;return o.memoizedState=e,[n,s,!1]}function Ml(e,n,o,s){return e={tag:e,create:o,deps:s,inst:n,next:null},n=Ce.updateQueue,n===null&&(n=Ra(),Ce.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(s=o.next,o.next=e,e.next=s,n.lastEffect=e),e}function ld(){return at().memoizedState}function Da(e,n,o,s){var d=Ut();Ce.flags|=e,d.memoizedState=Ml(1|n,{destroy:void 0},o,s===void 0?null:s)}function Ua(e,n,o,s){var d=at();s=s===void 0?null:s;var p=d.memoizedState.inst;je!==null&&s!==null&&Ar(s,je.memoizedState.deps)?d.memoizedState=Ml(n,p,o,s):(Ce.flags|=e,d.memoizedState=Ml(1|n,p,o,s))}function od(e,n){Da(8390656,8,e,n)}function Lr(e,n){Ua(2048,8,e,n)}function yy(e){Ce.flags|=4;var n=Ce.updateQueue;if(n===null)n=Ra(),Ce.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function ad(e){var n=at().memoizedState;return yy({ref:n,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function sd(e,n){return Ua(4,2,e,n)}function rd(e,n){return Ua(4,4,e,n)}function ud(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function cd(e,n,o){o=o!=null?o.concat([e]):null,Ua(4,4,ud.bind(null,n,e),o)}function Gr(){}function fd(e,n){var o=at();n=n===void 0?null:n;var s=o.memoizedState;return n!==null&&Ar(n,s[1])?s[0]:(o.memoizedState=[e,n],e)}function dd(e,n){var o=at();n=n===void 0?null:n;var s=o.memoizedState;if(n!==null&&Ar(n,s[1]))return s[0];if(s=e(),Xi){Wt(!0);try{e()}finally{Wt(!1)}}return o.memoizedState=[s,n],s}function Hr(e,n,o){return o===void 0||(Vn&1073741824)!==0&&(Ue&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=mm(),Ce.lanes|=e,xi|=e,o)}function md(e,n,o,s){return Yt(o,n)?o:Al.current!==null?(e=Hr(e,o,s),Yt(e,n)||(dt=!0),e):(Vn&42)===0||(Vn&1073741824)!==0&&(Ue&261930)===0?(dt=!0,e.memoizedState=o):(e=mm(),Ce.lanes|=e,xi|=e,n)}function pd(e,n,o,s,d){var p=ee.p;ee.p=p!==0&&8>p?p:8;var S=H.T,E={};H.T=E,Pr(e,!1,n,o);try{var C=d(),z=H.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var P=dy(C,s);bo(e,n,P,Qt(e))}else bo(e,n,s,Qt(e))}catch(J){bo(e,n,{then:function(){},status:"rejected",reason:J},Qt())}finally{ee.p=p,S!==null&&E.types!==null&&(S.types=E.types),H.T=S}}function vy(){}function Vr(e,n,o,s){if(e.tag!==5)throw Error(a(476));var d=hd(e).queue;pd(e,d,n,oe,o===null?vy:function(){return gd(e),o(s)})}function hd(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:oe},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qn,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function gd(e){var n=hd(e);n.next===null&&(n=e.alternate.memoizedState),bo(e,n.next.queue,{},Qt())}function qr(){return Nt(Po)}function yd(){return at().memoizedState}function vd(){return at().memoizedState}function xy(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=Qt();e=mi(o);var s=pi(n,e,o);s!==null&&(Bt(s,n,o),xo(s,n,o)),n={cache:hr()},e.payload=n;return}n=n.return}}function Sy(e,n,o){var s=Qt();o={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},za(e)?Sd(n,o):(o=lr(e,n,o,s),o!==null&&(Bt(o,e,s),Td(o,n,s)))}function xd(e,n,o){var s=Qt();bo(e,n,o,s)}function bo(e,n,o,s){var d={lane:s,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(za(e))Sd(n,d);else{var p=e.alternate;if(e.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var S=n.lastRenderedState,E=p(S,o);if(d.hasEagerState=!0,d.eagerState=E,Yt(E,S))return ha(e,n,d,0),Qe===null&&pa(),!1}catch{}finally{}if(o=lr(e,n,d,s),o!==null)return Bt(o,e,s),Td(o,n,s),!0}return!1}function Pr(e,n,o,s){if(s={lane:2,revertLane:xu(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},za(e)){if(n)throw Error(a(479))}else n=lr(e,o,s,2),n!==null&&Bt(n,e,2)}function za(e){var n=e.alternate;return e===Ce||n!==null&&n===Ce}function Sd(e,n){Nl=wa=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function Td(e,n,o){if((o&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,o|=s,n.lanes=o,ea(e,o)}}var Co={readContext:Nt,use:Ia,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useLayoutEffect:it,useInsertionEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useSyncExternalStore:it,useId:it,useHostTransitionStatus:it,useFormState:it,useActionState:it,useOptimistic:it,useMemoCache:it,useCacheRefresh:it};Co.useEffectEvent=it;var _d={readContext:Nt,use:Ia,useCallback:function(e,n){return Ut().memoizedState=[e,n===void 0?null:n],e},useContext:Nt,useEffect:od,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,Da(4194308,4,ud.bind(null,n,e),o)},useLayoutEffect:function(e,n){return Da(4194308,4,e,n)},useInsertionEffect:function(e,n){Da(4,2,e,n)},useMemo:function(e,n){var o=Ut();n=n===void 0?null:n;var s=e();if(Xi){Wt(!0);try{e()}finally{Wt(!1)}}return o.memoizedState=[s,n],s},useReducer:function(e,n,o){var s=Ut();if(o!==void 0){var d=o(n);if(Xi){Wt(!0);try{o(n)}finally{Wt(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=Sy.bind(null,Ce,e),[s.memoizedState,e]},useRef:function(e){var n=Ut();return e={current:e},n.memoizedState=e},useState:function(e){e=Ur(e);var n=e.queue,o=xd.bind(null,Ce,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:Gr,useDeferredValue:function(e,n){var o=Ut();return Hr(o,e,n)},useTransition:function(){var e=Ur(!1);return e=pd.bind(null,Ce,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var s=Ce,d=Ut();if(Le){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),Qe===null)throw Error(a(349));(Ue&127)!==0||Bf(s,n,o)}d.memoizedState=o;var p={value:o,getSnapshot:n};return d.queue=p,od(Yf.bind(null,s,p,e),[e]),s.flags|=2048,Ml(9,{destroy:void 0},Ff.bind(null,s,p,o,n),null),o},useId:function(){var e=Ut(),n=Qe.identifierPrefix;if(Le){var o=bn,s=En;o=(s&~(1<<32-Et(s)-1)).toString(32)+o,n="_"+n+"R_"+o,o=Ma++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=my++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:qr,useFormState:ed,useActionState:ed,useOptimistic:function(e){var n=Ut();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=Pr.bind(null,Ce,!0,o),o.dispatch=n,[e,n]},useMemoCache:Ir,useCacheRefresh:function(){return Ut().memoizedState=xy.bind(null,Ce)},useEffectEvent:function(e){var n=Ut(),o={impl:e};return n.memoizedState=o,function(){if((Oe&2)!==0)throw Error(a(440));return o.impl.apply(void 0,arguments)}}},Or={readContext:Nt,use:Ia,useCallback:fd,useContext:Nt,useEffect:Lr,useImperativeHandle:cd,useInsertionEffect:sd,useLayoutEffect:rd,useMemo:dd,useReducer:ka,useRef:ld,useState:function(){return ka(qn)},useDebugValue:Gr,useDeferredValue:function(e,n){var o=at();return md(o,je.memoizedState,e,n)},useTransition:function(){var e=ka(qn)[0],n=at().memoizedState;return[typeof e=="boolean"?e:Eo(e),n]},useSyncExternalStore:Of,useId:yd,useHostTransitionStatus:qr,useFormState:td,useActionState:td,useOptimistic:function(e,n){var o=at();return Kf(o,je,e,n)},useMemoCache:Ir,useCacheRefresh:vd};Or.useEffectEvent=ad;var Ed={readContext:Nt,use:Ia,useCallback:fd,useContext:Nt,useEffect:Lr,useImperativeHandle:cd,useInsertionEffect:sd,useLayoutEffect:rd,useMemo:dd,useReducer:Dr,useRef:ld,useState:function(){return Dr(qn)},useDebugValue:Gr,useDeferredValue:function(e,n){var o=at();return je===null?Hr(o,e,n):md(o,je.memoizedState,e,n)},useTransition:function(){var e=Dr(qn)[0],n=at().memoizedState;return[typeof e=="boolean"?e:Eo(e),n]},useSyncExternalStore:Of,useId:yd,useHostTransitionStatus:qr,useFormState:id,useActionState:id,useOptimistic:function(e,n){var o=at();return je!==null?Kf(o,je,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Ir,useCacheRefresh:vd};Ed.useEffectEvent=ad;function Br(e,n,o,s){n=e.memoizedState,o=o(s,n),o=o==null?n:T({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Fr={enqueueSetState:function(e,n,o){e=e._reactInternals;var s=Qt(),d=mi(s);d.payload=n,o!=null&&(d.callback=o),n=pi(e,d,s),n!==null&&(Bt(n,e,s),xo(n,e,s))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var s=Qt(),d=mi(s);d.tag=1,d.payload=n,o!=null&&(d.callback=o),n=pi(e,d,s),n!==null&&(Bt(n,e,s),xo(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=Qt(),s=mi(o);s.tag=2,n!=null&&(s.callback=n),n=pi(e,s,o),n!==null&&(Bt(n,e,o),xo(n,e,o))}};function bd(e,n,o,s,d,p,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,p,S):n.prototype&&n.prototype.isPureReactComponent?!co(o,s)||!co(d,p):!0}function Cd(e,n,o,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,s),n.state!==e&&Fr.enqueueReplaceState(n,n.state,null)}function $i(e,n){var o=n;if("ref"in n){o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}if(e=e.defaultProps){o===n&&(o=T({},o));for(var d in e)o[d]===void 0&&(o[d]=e[d])}return o}function Ad(e){ma(e)}function Nd(e){console.error(e)}function wd(e){ma(e)}function La(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function Md(e,n,o){try{var s=e.onCaughtError;s(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function Yr(e,n,o){return o=mi(o),o.tag=3,o.payload={element:null},o.callback=function(){La(e,n)},o}function Rd(e){return e=mi(e),e.tag=3,e}function Id(e,n,o,s){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=s.value;e.payload=function(){return d(p)},e.callback=function(){Md(n,o,s)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Md(n,o,s),typeof d!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})})}function Ty(e,n,o,s,d){if(o.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=o.alternate,n!==null&&Tl(n,o,d,!0),o=jt.current,o!==null){switch(o.tag){case 31:case 13:return rn===null?Ka():o.alternate===null&&lt===0&&(lt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,s===Ea?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([s]):n.add(s),gu(e,s,d)),!1;case 22:return o.flags|=65536,s===Ea?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([s]):o.add(s)),gu(e,s,d)),!1}throw Error(a(435,o.tag))}return gu(e,s,d),Ka(),!1}if(Le)return n=jt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==cr&&(e=Error(a(422),{cause:s}),po(ln(e,o)))):(s!==cr&&(n=Error(a(423),{cause:s}),po(ln(n,o))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=ln(s,o),d=Yr(e.stateNode,s,d),Tr(e,d),lt!==4&&(lt=2)),!1;var p=Error(a(520),{cause:s});if(p=ln(p,o),Do===null?Do=[p]:Do.push(p),lt!==4&&(lt=2),n===null)return!0;s=ln(s,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=d&-d,o.lanes|=e,e=Yr(o.stateNode,s,e),Tr(o,e),!1;case 1:if(n=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Si===null||!Si.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=Rd(d),Id(d,e,o,s),Tr(o,d),!1}o=o.return}while(o!==null);return!1}var Jr=Error(a(461)),dt=!1;function wt(e,n,o,s){n.child=e===null?zf(n,null,o,s):Ki(n,e.child,o,s)}function kd(e,n,o,s,d){o=o.render;var p=n.ref;if("ref"in s){var S={};for(var E in s)E!=="ref"&&(S[E]=s[E])}else S=s;return Fi(n),s=Nr(e,n,o,S,p,d),E=wr(),e!==null&&!dt?(Mr(e,n,d),Pn(e,n,d)):(Le&&E&&rr(n),n.flags|=1,wt(e,n,s,d),n.child)}function Dd(e,n,o,s,d){if(e===null){var p=o.type;return typeof p=="function"&&!or(p)&&p.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=p,Ud(e,n,p,s,d)):(e=ya(o.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(p=e.child,!eu(e,d)){var S=p.memoizedProps;if(o=o.compare,o=o!==null?o:co,o(S,s)&&e.ref===n.ref)return Pn(e,n,d)}return n.flags|=1,e=zn(p,s),e.ref=n.ref,e.return=n,n.child=e}function Ud(e,n,o,s,d){if(e!==null){var p=e.memoizedProps;if(co(p,s)&&e.ref===n.ref)if(dt=!1,n.pendingProps=s=p,eu(e,d))(e.flags&131072)!==0&&(dt=!0);else return n.lanes=e.lanes,Pn(e,n,d)}return jr(e,n,o,s,d)}function zd(e,n,o,s){var d=s.children,p=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~p}else s=0,n.child=null;return Ld(e,n,p,o,s)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ta(n,p!==null?p.cachePool:null),p!==null?Hf(n,p):Er(),Vf(n);else return s=n.lanes=536870912,Ld(e,n,p!==null?p.baseLanes|o:o,o,s)}else p!==null?(Ta(n,p.cachePool),Hf(n,p),gi(),n.memoizedState=null):(e!==null&&Ta(n,null),Er(),gi());return wt(e,n,d,o),n.child}function Ao(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Ld(e,n,o,s,d){var p=yr();return p=p===null?null:{parent:ct._currentValue,pool:p},n.memoizedState={baseLanes:o,cachePool:p},e!==null&&Ta(n,null),Er(),Vf(n),e!==null&&Tl(e,n,s,!0),n.childLanes=d,null}function Ga(e,n){return n=Va({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Gd(e,n,o){return Ki(n,e.child,null,o),e=Ga(n,n.pendingProps),e.flags|=2,Kt(n),n.memoizedState=null,e}function _y(e,n,o){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Le){if(s.mode==="hidden")return e=Ga(n,s),n.lanes=536870912,Ao(null,e);if(Cr(n),(e=Ze)?(e=Xm(e,sn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ri!==null?{id:En,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},o=Sf(e),o.return=n,n.child=o,At=n,Ze=null)):e=null,e===null)throw ci(n);return n.lanes=536870912,null}return Ga(n,s)}var p=e.memoizedState;if(p!==null){var S=p.dehydrated;if(Cr(n),d)if(n.flags&256)n.flags&=-257,n=Gd(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(dt||Tl(e,n,o,!1),d=(o&e.childLanes)!==0,dt||d){if(s=Qe,s!==null&&(S=ta(s,o),S!==0&&S!==p.retryLane))throw p.retryLane=S,qi(e,S),Bt(s,e,S),Jr;Ka(),n=Gd(e,n,o)}else e=p.treeContext,Ze=un(S.nextSibling),At=n,Le=!0,ui=null,sn=!1,e!==null&&Ef(n,e),n=Ga(n,s),n.flags|=4096;return n}return e=zn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ha(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function jr(e,n,o,s,d){return Fi(n),o=Nr(e,n,o,s,void 0,d),s=wr(),e!==null&&!dt?(Mr(e,n,d),Pn(e,n,d)):(Le&&s&&rr(n),n.flags|=1,wt(e,n,o,d),n.child)}function Hd(e,n,o,s,d,p){return Fi(n),n.updateQueue=null,o=Pf(n,s,o,d),qf(e),s=wr(),e!==null&&!dt?(Mr(e,n,p),Pn(e,n,p)):(Le&&s&&rr(n),n.flags|=1,wt(e,n,o,p),n.child)}function Vd(e,n,o,s,d){if(Fi(n),n.stateNode===null){var p=yl,S=o.contextType;typeof S=="object"&&S!==null&&(p=Nt(S)),p=new o(s,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Fr,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=s,p.state=n.memoizedState,p.refs={},xr(n),S=o.contextType,p.context=typeof S=="object"&&S!==null?Nt(S):yl,p.state=n.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Br(n,o,S,s),p.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&Fr.enqueueReplaceState(p,p.state,null),To(n,s,p,d),So(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){p=n.stateNode;var E=n.memoizedProps,C=$i(o,E);p.props=C;var z=p.context,P=o.contextType;S=yl,typeof P=="object"&&P!==null&&(S=Nt(P));var J=o.getDerivedStateFromProps;P=typeof J=="function"||typeof p.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,P||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(E||z!==S)&&Cd(n,p,s,S),di=!1;var G=n.memoizedState;p.state=G,To(n,s,p,d),So(),z=n.memoizedState,E||G!==z||di?(typeof J=="function"&&(Br(n,o,J,s),z=n.memoizedState),(C=di||bd(n,o,C,s,G,z,S))?(P||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=z),p.props=s,p.state=z,p.context=S,s=C):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{p=n.stateNode,Sr(e,n),S=n.memoizedProps,P=$i(o,S),p.props=P,J=n.pendingProps,G=p.context,z=o.contextType,C=yl,typeof z=="object"&&z!==null&&(C=Nt(z)),E=o.getDerivedStateFromProps,(z=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==J||G!==C)&&Cd(n,p,s,C),di=!1,G=n.memoizedState,p.state=G,To(n,s,p,d),So();var V=n.memoizedState;S!==J||G!==V||di||e!==null&&e.dependencies!==null&&xa(e.dependencies)?(typeof E=="function"&&(Br(n,o,E,s),V=n.memoizedState),(P=di||bd(n,o,P,s,G,V,C)||e!==null&&e.dependencies!==null&&xa(e.dependencies))?(z||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,V,C),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,V,C)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=V),p.props=s,p.state=V,p.context=C,s=P):(typeof p.componentDidUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&G===e.memoizedState||(n.flags|=1024),s=!1)}return p=s,Ha(e,n),s=(n.flags&128)!==0,p||s?(p=n.stateNode,o=s&&typeof o.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,e!==null&&s?(n.child=Ki(n,e.child,null,d),n.child=Ki(n,null,o,d)):wt(e,n,o,d),n.memoizedState=p.state,e=n.child):e=Pn(e,n,d),e}function qd(e,n,o,s){return Oi(),n.flags|=256,wt(e,n,o,s),n.child}var Kr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xr(e){return{baseLanes:e,cachePool:Mf()}}function $r(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=$t),e}function Pd(e,n,o){var s=n.pendingProps,d=!1,p=(n.flags&128)!==0,S;if((S=p)||(S=e!==null&&e.memoizedState===null?!1:(ot.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(Le){if(d?hi(n):gi(),(e=Ze)?(e=Xm(e,sn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ri!==null?{id:En,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},o=Sf(e),o.return=n,n.child=o,At=n,Ze=null)):e=null,e===null)throw ci(n);return ku(e)?n.lanes=32:n.lanes=536870912,null}var E=s.children;return s=s.fallback,d?(gi(),d=n.mode,E=Va({mode:"hidden",children:E},d),s=Pi(s,d,o,null),E.return=n,s.return=n,E.sibling=s,n.child=E,s=n.child,s.memoizedState=Xr(o),s.childLanes=$r(e,S,o),n.memoizedState=Kr,Ao(null,s)):(hi(n),Qr(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(p)n.flags&256?(hi(n),n.flags&=-257,n=Zr(e,n,o)):n.memoizedState!==null?(gi(),n.child=e.child,n.flags|=128,n=null):(gi(),E=s.fallback,d=n.mode,s=Va({mode:"visible",children:s.children},d),E=Pi(E,d,o,null),E.flags|=2,s.return=n,E.return=n,s.sibling=E,n.child=s,Ki(n,e.child,null,o),s=n.child,s.memoizedState=Xr(o),s.childLanes=$r(e,S,o),n.memoizedState=Kr,n=Ao(null,s));else if(hi(n),ku(E)){if(S=E.nextSibling&&E.nextSibling.dataset,S)var z=S.dgst;S=z,s=Error(a(419)),s.stack="",s.digest=S,po({value:s,source:null,stack:null}),n=Zr(e,n,o)}else if(dt||Tl(e,n,o,!1),S=(o&e.childLanes)!==0,dt||S){if(S=Qe,S!==null&&(s=ta(S,o),s!==0&&s!==C.retryLane))throw C.retryLane=s,qi(e,s),Bt(S,e,s),Jr;Iu(E)||Ka(),n=Zr(e,n,o)}else Iu(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,Ze=un(E.nextSibling),At=n,Le=!0,ui=null,sn=!1,e!==null&&Ef(n,e),n=Qr(n,s.children),n.flags|=4096);return n}return d?(gi(),E=s.fallback,d=n.mode,C=e.child,z=C.sibling,s=zn(C,{mode:"hidden",children:s.children}),s.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=zn(z,E):(E=Pi(E,d,o,null),E.flags|=2),E.return=n,s.return=n,s.sibling=E,n.child=s,Ao(null,s),s=n.child,E=e.child.memoizedState,E===null?E=Xr(o):(d=E.cachePool,d!==null?(C=ct._currentValue,d=d.parent!==C?{parent:C,pool:C}:d):d=Mf(),E={baseLanes:E.baseLanes|o,cachePool:d}),s.memoizedState=E,s.childLanes=$r(e,S,o),n.memoizedState=Kr,Ao(e.child,s)):(hi(n),o=e.child,e=o.sibling,o=zn(o,{mode:"visible",children:s.children}),o.return=n,o.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=o,n.memoizedState=null,o)}function Qr(e,n){return n=Va({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Va(e,n){return e=Jt(22,e,null,n),e.lanes=0,e}function Zr(e,n,o){return Ki(n,e.child,null,o),e=Qr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Od(e,n,o){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),mr(e.return,n,o)}function Wr(e,n,o,s,d,p){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:o,tailMode:d,treeForkCount:p}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=o,S.tailMode=d,S.treeForkCount=p)}function Bd(e,n,o){var s=n.pendingProps,d=s.revealOrder,p=s.tail;s=s.children;var S=ot.current,E=(S&2)!==0;if(E?(S=S&1|2,n.flags|=128):S&=1,te(ot,S),wt(e,n,s,o),s=Le?mo:0,!E&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Od(e,o,n);else if(e.tag===19)Od(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(o=n.child,d=null;o!==null;)e=o.alternate,e!==null&&Na(e)===null&&(d=o),o=o.sibling;o=d,o===null?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),Wr(n,!1,d,o,p,s);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&Na(e)===null){n.child=d;break}e=d.sibling,d.sibling=o,o=d,d=e}Wr(n,!0,o,null,p,s);break;case"together":Wr(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function Pn(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),xi|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(Tl(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,o=zn(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=zn(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function eu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&xa(e)))}function Ey(e,n,o){switch(n.tag){case 3:K(n,n.stateNode.containerInfo),fi(n,ct,e.memoizedState.cache),Oi();break;case 27:case 5:Ie(n);break;case 4:K(n,n.stateNode.containerInfo);break;case 10:fi(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Cr(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(hi(n),n.flags|=128,null):(o&n.child.childLanes)!==0?Pd(e,n,o):(hi(n),e=Pn(e,n,o),e!==null?e.sibling:null);hi(n);break;case 19:var d=(e.flags&128)!==0;if(s=(o&n.childLanes)!==0,s||(Tl(e,n,o,!1),s=(o&n.childLanes)!==0),d){if(s)return Bd(e,n,o);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),te(ot,ot.current),s)break;return null;case 22:return n.lanes=0,zd(e,n,o,n.pendingProps);case 24:fi(n,ct,e.memoizedState.cache)}return Pn(e,n,o)}function Fd(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)dt=!0;else{if(!eu(e,o)&&(n.flags&128)===0)return dt=!1,Ey(e,n,o);dt=(e.flags&131072)!==0}else dt=!1,Le&&(n.flags&1048576)!==0&&_f(n,mo,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=Ji(n.elementType),n.type=e,typeof e=="function")or(e)?(s=$i(e,s),n.tag=1,n=Vd(null,n,e,s,o)):(n.tag=0,n=jr(null,n,e,s,o));else{if(e!=null){var d=e.$$typeof;if(d===X){n.tag=11,n=kd(null,n,e,s,o);break e}else if(d===Q){n.tag=14,n=Dd(null,n,e,s,o);break e}}throw n=ce(e)||e,Error(a(306,n,""))}}return n;case 0:return jr(e,n,n.type,n.pendingProps,o);case 1:return s=n.type,d=$i(s,n.pendingProps),Vd(e,n,s,d,o);case 3:e:{if(K(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var p=n.memoizedState;d=p.element,Sr(e,n),To(n,s,null,o);var S=n.memoizedState;if(s=S.cache,fi(n,ct,s),s!==p.cache&&pr(n,[ct],o,!0),So(),s=S.element,p.isDehydrated)if(p={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=qd(e,n,s,o);break e}else if(s!==d){d=ln(Error(a(424)),n),po(d),n=qd(e,n,s,o);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ze=un(e.firstChild),At=n,Le=!0,ui=null,sn=!0,o=zf(n,null,s,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Oi(),s===d){n=Pn(e,n,o);break e}wt(e,n,s,o)}n=n.child}return n;case 26:return Ha(e,n),e===null?(o=tp(n.type,null,n.pendingProps,null))?n.memoizedState=o:Le||(o=n.type,e=n.pendingProps,s=ts(xe.current).createElement(o),s[pt]=n,s[bt]=e,Mt(s,o,e),nt(s),n.stateNode=s):n.memoizedState=tp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ie(n),e===null&&Le&&(s=n.stateNode=Zm(n.type,n.pendingProps,xe.current),At=n,sn=!0,d=Ze,bi(n.type)?(Du=d,Ze=un(s.firstChild)):Ze=d),wt(e,n,n.pendingProps.children,o),Ha(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Le&&((d=s=Ze)&&(s=Wy(s,n.type,n.pendingProps,sn),s!==null?(n.stateNode=s,At=n,Ze=un(s.firstChild),sn=!1,d=!0):d=!1),d||ci(n)),Ie(n),d=n.type,p=n.pendingProps,S=e!==null?e.memoizedProps:null,s=p.children,wu(d,p)?s=null:S!==null&&wu(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=Nr(e,n,py,null,null,o),Po._currentValue=d),Ha(e,n),wt(e,n,s,o),n.child;case 6:return e===null&&Le&&((e=o=Ze)&&(o=ev(o,n.pendingProps,sn),o!==null?(n.stateNode=o,At=n,Ze=null,e=!0):e=!1),e||ci(n)),null;case 13:return Pd(e,n,o);case 4:return K(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=Ki(n,null,s,o):wt(e,n,s,o),n.child;case 11:return kd(e,n,n.type,n.pendingProps,o);case 7:return wt(e,n,n.pendingProps,o),n.child;case 8:return wt(e,n,n.pendingProps.children,o),n.child;case 12:return wt(e,n,n.pendingProps.children,o),n.child;case 10:return s=n.pendingProps,fi(n,n.type,s.value),wt(e,n,s.children,o),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,Fi(n),d=Nt(d),s=s(d),n.flags|=1,wt(e,n,s,o),n.child;case 14:return Dd(e,n,n.type,n.pendingProps,o);case 15:return Ud(e,n,n.type,n.pendingProps,o);case 19:return Bd(e,n,o);case 31:return _y(e,n,o);case 22:return zd(e,n,o,n.pendingProps);case 24:return Fi(n),s=Nt(ct),e===null?(d=yr(),d===null&&(d=Qe,p=hr(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),n.memoizedState={parent:s,cache:d},xr(n),fi(n,ct,d)):((e.lanes&o)!==0&&(Sr(e,n),To(n,null,null,o),So()),d=e.memoizedState,p=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),fi(n,ct,s)):(s=p.cache,fi(n,ct,s),s!==d.cache&&pr(n,[ct],o,!0))),wt(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function On(e){e.flags|=4}function tu(e,n,o,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(ym())e.flags|=8192;else throw ji=Ea,vr}else e.flags&=-16777217}function Yd(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ap(n))if(ym())e.flags|=8192;else throw ji=Ea,vr}function qa(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Gt():536870912,e.lanes|=n,Dl|=n)}function No(e,n){if(!Le)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var s=null;o!==null;)o.alternate!==null&&(s=o),o=o.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function We(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,s=0;if(n)for(var d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)o|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=o,n}function by(e,n,o){var s=n.pendingProps;switch(ur(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(n),null;case 1:return We(n),null;case 3:return o=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Hn(ct),ie(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(Sl(n)?On(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,fr())),We(n),null;case 26:var d=n.type,p=n.memoizedState;return e===null?(On(n),p!==null?(We(n),Yd(n,p)):(We(n),tu(n,d,null,s,o))):p?p!==e.memoizedState?(On(n),We(n),Yd(n,p)):(We(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&On(n),We(n),tu(n,d,e,s,o)),null;case 27:if(rt(n),o=xe.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&On(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return We(n),null}e=ae.current,Sl(n)?bf(n):(e=Zm(d,s,o),n.stateNode=e,On(n))}return We(n),null;case 5:if(rt(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&On(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return We(n),null}if(p=ae.current,Sl(n))bf(n);else{var S=ts(xe.current);switch(p){case 1:p=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=S.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?p.multiple=!0:s.size&&(p.size=s.size);break;default:p=typeof s.is=="string"?S.createElement(d,{is:s.is}):S.createElement(d)}}p[pt]=n,p[bt]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)p.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=p;e:switch(Mt(p,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&On(n)}}return We(n),tu(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&On(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=xe.current,Sl(n)){if(e=n.stateNode,o=n.memoizedProps,s=null,d=At,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[pt]=n,e=!!(e.nodeValue===o||s!==null&&s.suppressHydrationWarning===!0||Pm(e.nodeValue,o)),e||ci(n,!0)}else e=ts(e).createTextNode(s),e[pt]=n,n.stateNode=e}return We(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(s=Sl(n),o!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[pt]=n}else Oi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;We(n),e=!1}else o=fr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(Kt(n),n):(Kt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return We(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Sl(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[pt]=n}else Oi(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;We(n),d=!1}else d=fr(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Kt(n),n):(Kt(n),null)}return Kt(n),(n.flags&128)!==0?(n.lanes=o,n):(o=s!==null,e=e!==null&&e.memoizedState!==null,o&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),p=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(p=s.memoizedState.cachePool.pool),p!==d&&(s.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),qa(n,n.updateQueue),We(n),null);case 4:return ie(),e===null&&Eu(n.stateNode.containerInfo),We(n),null;case 10:return Hn(n.type),We(n),null;case 19:if(O(ot),s=n.memoizedState,s===null)return We(n),null;if(d=(n.flags&128)!==0,p=s.rendering,p===null)if(d)No(s,!1);else{if(lt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(p=Na(e),p!==null){for(n.flags|=128,No(s,!1),e=p.updateQueue,n.updateQueue=e,qa(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)xf(o,e),o=o.sibling;return te(ot,ot.current&1|2),Le&&Ln(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&yt()>Ya&&(n.flags|=128,d=!0,No(s,!1),n.lanes=4194304)}else{if(!d)if(e=Na(p),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,qa(n,e),No(s,!0),s.tail===null&&s.tailMode==="hidden"&&!p.alternate&&!Le)return We(n),null}else 2*yt()-s.renderingStartTime>Ya&&o!==536870912&&(n.flags|=128,d=!0,No(s,!1),n.lanes=4194304);s.isBackwards?(p.sibling=n.child,n.child=p):(e=s.last,e!==null?e.sibling=p:n.child=p,s.last=p)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=yt(),e.sibling=null,o=ot.current,te(ot,d?o&1|2:o&1),Le&&Ln(n,s.treeForkCount),e):(We(n),null);case 22:case 23:return Kt(n),br(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(o&536870912)!==0&&(n.flags&128)===0&&(We(n),n.subtreeFlags&6&&(n.flags|=8192)):We(n),o=n.updateQueue,o!==null&&qa(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==o&&(n.flags|=2048),e!==null&&O(Yi),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Hn(ct),We(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function Cy(e,n){switch(ur(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Hn(ct),ie(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return rt(n),null;case 31:if(n.memoizedState!==null){if(Kt(n),n.alternate===null)throw Error(a(340));Oi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Kt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Oi()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return O(ot),null;case 4:return ie(),null;case 10:return Hn(n.type),null;case 22:case 23:return Kt(n),br(),e!==null&&O(Yi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Hn(ct),null;case 25:return null;default:return null}}function Jd(e,n){switch(ur(n),n.tag){case 3:Hn(ct),ie();break;case 26:case 27:case 5:rt(n);break;case 4:ie();break;case 31:n.memoizedState!==null&&Kt(n);break;case 13:Kt(n);break;case 19:O(ot);break;case 10:Hn(n.type);break;case 22:case 23:Kt(n),br(),e!==null&&O(Yi);break;case 24:Hn(ct)}}function wo(e,n){try{var o=n.updateQueue,s=o!==null?o.lastEffect:null;if(s!==null){var d=s.next;o=d;do{if((o.tag&e)===e){s=void 0;var p=o.create,S=o.inst;s=p(),S.destroy=s}o=o.next}while(o!==d)}}catch(E){Je(n,n.return,E)}}function yi(e,n,o){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var p=d.next;s=p;do{if((s.tag&e)===e){var S=s.inst,E=S.destroy;if(E!==void 0){S.destroy=void 0,d=n;var C=o,z=E;try{z()}catch(P){Je(d,C,P)}}}s=s.next}while(s!==p)}}catch(P){Je(n,n.return,P)}}function jd(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{Gf(n,o)}catch(s){Je(e,e.return,s)}}}function Kd(e,n,o){o.props=$i(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(s){Je(e,n,s)}}function Mo(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof o=="function"?e.refCleanup=o(s):o.current=s}}catch(d){Je(e,n,d)}}function Cn(e,n){var o=e.ref,s=e.refCleanup;if(o!==null)if(typeof s=="function")try{s()}catch(d){Je(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Je(e,n,d)}else o.current=null}function Xd(e){var n=e.type,o=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&s.focus();break e;case"img":o.src?s.src=o.src:o.srcSet&&(s.srcset=o.srcSet)}}catch(d){Je(e,e.return,d)}}function nu(e,n,o){try{var s=e.stateNode;jy(s,e.type,o,n),s[bt]=n}catch(d){Je(e,e.return,d)}}function $d(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&bi(e.type)||e.tag===4}function iu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||$d(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&bi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lu(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Dn));else if(s!==4&&(s===27&&bi(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(lu(e,n,o),e=e.sibling;e!==null;)lu(e,n,o),e=e.sibling}function Pa(e,n,o){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(s!==4&&(s===27&&bi(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(Pa(e,n,o),e=e.sibling;e!==null;)Pa(e,n,o),e=e.sibling}function Qd(e){var n=e.stateNode,o=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);Mt(n,s,o),n[pt]=e,n[bt]=o}catch(p){Je(e,e.return,p)}}var Bn=!1,mt=!1,ou=!1,Zd=typeof WeakSet=="function"?WeakSet:Set,St=null;function Ay(e,n){if(e=e.containerInfo,Au=rs,e=cf(e),Zs(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var s=o.getSelection&&o.getSelection();if(s&&s.rangeCount!==0){o=s.anchorNode;var d=s.anchorOffset,p=s.focusNode;s=s.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var S=0,E=-1,C=-1,z=0,P=0,J=e,G=null;t:for(;;){for(var V;J!==o||d!==0&&J.nodeType!==3||(E=S+d),J!==p||s!==0&&J.nodeType!==3||(C=S+s),J.nodeType===3&&(S+=J.nodeValue.length),(V=J.firstChild)!==null;)G=J,J=V;for(;;){if(J===e)break t;if(G===o&&++z===d&&(E=S),G===p&&++P===s&&(C=S),(V=J.nextSibling)!==null)break;J=G,G=J.parentNode}J=V}o=E===-1||C===-1?null:{start:E,end:C}}else o=null}o=o||{start:0,end:0}}else o=null;for(Nu={focusedElem:e,selectionRange:o},rs=!1,St=n;St!==null;)if(n=St,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,St=e;else for(;St!==null;){switch(n=St,p=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)d=e[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&p!==null){e=void 0,o=n,d=p.memoizedProps,p=p.memoizedState,s=o.stateNode;try{var re=$i(o.type,d);e=s.getSnapshotBeforeUpdate(re,p),s.__reactInternalSnapshotBeforeUpdate=e}catch(ye){Je(o,o.return,ye)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)Ru(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ru(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,St=e;break}St=n.return}}function Wd(e,n,o){var s=o.flags;switch(o.tag){case 0:case 11:case 15:Yn(e,o),s&4&&wo(5,o);break;case 1:if(Yn(e,o),s&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(S){Je(o,o.return,S)}else{var d=$i(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Je(o,o.return,S)}}s&64&&jd(o),s&512&&Mo(o,o.return);break;case 3:if(Yn(e,o),s&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{Gf(e,n)}catch(S){Je(o,o.return,S)}}break;case 27:n===null&&s&4&&Qd(o);case 26:case 5:Yn(e,o),n===null&&s&4&&Xd(o),s&512&&Mo(o,o.return);break;case 12:Yn(e,o);break;case 31:Yn(e,o),s&4&&nm(e,o);break;case 13:Yn(e,o),s&4&&im(e,o),s&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=zy.bind(null,o),tv(e,o))));break;case 22:if(s=o.memoizedState!==null||Bn,!s){n=n!==null&&n.memoizedState!==null||mt,d=Bn;var p=mt;Bn=s,(mt=n)&&!p?Jn(e,o,(o.subtreeFlags&8772)!==0):Yn(e,o),Bn=d,mt=p}break;case 30:break;default:Yn(e,o)}}function em(e){var n=e.alternate;n!==null&&(e.alternate=null,em(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&tt(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var et=null,Vt=!1;function Fn(e,n,o){for(o=o.child;o!==null;)tm(e,n,o),o=o.sibling}function tm(e,n,o){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(Mn,o)}catch{}switch(o.tag){case 26:mt||Cn(o,n),Fn(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:mt||Cn(o,n);var s=et,d=Vt;bi(o.type)&&(et=o.stateNode,Vt=!1),Fn(e,n,o),Ho(o.stateNode),et=s,Vt=d;break;case 5:mt||Cn(o,n);case 6:if(s=et,d=Vt,et=null,Fn(e,n,o),et=s,Vt=d,et!==null)if(Vt)try{(et.nodeType===9?et.body:et.nodeName==="HTML"?et.ownerDocument.body:et).removeChild(o.stateNode)}catch(p){Je(o,n,p)}else try{et.removeChild(o.stateNode)}catch(p){Je(o,n,p)}break;case 18:et!==null&&(Vt?(e=et,jm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Pl(e)):jm(et,o.stateNode));break;case 4:s=et,d=Vt,et=o.stateNode.containerInfo,Vt=!0,Fn(e,n,o),et=s,Vt=d;break;case 0:case 11:case 14:case 15:yi(2,o,n),mt||yi(4,o,n),Fn(e,n,o);break;case 1:mt||(Cn(o,n),s=o.stateNode,typeof s.componentWillUnmount=="function"&&Kd(o,n,s)),Fn(e,n,o);break;case 21:Fn(e,n,o);break;case 22:mt=(s=mt)||o.memoizedState!==null,Fn(e,n,o),mt=s;break;default:Fn(e,n,o)}}function nm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pl(e)}catch(o){Je(n,n.return,o)}}}function im(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pl(e)}catch(o){Je(n,n.return,o)}}function Ny(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Zd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Zd),n;default:throw Error(a(435,e.tag))}}function Oa(e,n){var o=Ny(e);n.forEach(function(s){if(!o.has(s)){o.add(s);var d=Ly.bind(null,e,s);s.then(d,d)}})}function qt(e,n){var o=n.deletions;if(o!==null)for(var s=0;s<o.length;s++){var d=o[s],p=e,S=n,E=S;e:for(;E!==null;){switch(E.tag){case 27:if(bi(E.type)){et=E.stateNode,Vt=!1;break e}break;case 5:et=E.stateNode,Vt=!1;break e;case 3:case 4:et=E.stateNode.containerInfo,Vt=!0;break e}E=E.return}if(et===null)throw Error(a(160));tm(p,S,d),et=null,Vt=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)lm(n,e),n=n.sibling}var hn=null;function lm(e,n){var o=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qt(n,e),Pt(e),s&4&&(yi(3,e,e.return),wo(3,e),yi(5,e,e.return));break;case 1:qt(n,e),Pt(e),s&512&&(mt||o===null||Cn(o,o.return)),s&64&&Bn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?s:o.concat(s))));break;case 26:var d=hn;if(qt(n,e),Pt(e),s&512&&(mt||o===null||Cn(o,o.return)),s&4){var p=o!==null?o.memoizedState:null;if(s=e.memoizedState,o===null)if(s===null)if(e.stateNode===null){e:{s=e.type,o=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Be]||p[pt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(s),d.head.insertBefore(p,d.querySelector("head > title"))),Mt(p,s,o),p[pt]=e,nt(p),s=p;break e;case"link":var S=lp("link","href",d).get(s+(o.href||""));if(S){for(var E=0;E<S.length;E++)if(p=S[E],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(E,1);break t}}p=d.createElement(s),Mt(p,s,o),d.head.appendChild(p);break;case"meta":if(S=lp("meta","content",d).get(s+(o.content||""))){for(E=0;E<S.length;E++)if(p=S[E],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(E,1);break t}}p=d.createElement(s),Mt(p,s,o),d.head.appendChild(p);break;default:throw Error(a(468,s))}p[pt]=e,nt(p),s=p}e.stateNode=s}else op(d,e.type,e.stateNode);else e.stateNode=ip(d,s,e.memoizedProps);else p!==s?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,s===null?op(d,e.type,e.stateNode):ip(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&nu(e,e.memoizedProps,o.memoizedProps)}break;case 27:qt(n,e),Pt(e),s&512&&(mt||o===null||Cn(o,o.return)),o!==null&&s&4&&nu(e,e.memoizedProps,o.memoizedProps);break;case 5:if(qt(n,e),Pt(e),s&512&&(mt||o===null||Cn(o,o.return)),e.flags&32){d=e.stateNode;try{cl(d,"")}catch(re){Je(e,e.return,re)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,nu(e,d,o!==null?o.memoizedProps:d)),s&1024&&(ou=!0);break;case 6:if(qt(n,e),Pt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,o=e.stateNode;try{o.nodeValue=s}catch(re){Je(e,e.return,re)}}break;case 3:if(ls=null,d=hn,hn=ns(n.containerInfo),qt(n,e),hn=d,Pt(e),s&4&&o!==null&&o.memoizedState.isDehydrated)try{Pl(n.containerInfo)}catch(re){Je(e,e.return,re)}ou&&(ou=!1,om(e));break;case 4:s=hn,hn=ns(e.stateNode.containerInfo),qt(n,e),Pt(e),hn=s;break;case 12:qt(n,e),Pt(e);break;case 31:qt(n,e),Pt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Oa(e,s)));break;case 13:qt(n,e),Pt(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Fa=yt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Oa(e,s)));break;case 22:d=e.memoizedState!==null;var C=o!==null&&o.memoizedState!==null,z=Bn,P=mt;if(Bn=z||d,mt=P||C,qt(n,e),mt=P,Bn=z,Pt(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(o===null||C||Bn||mt||Qi(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){C=o=n;try{if(p=C.stateNode,d)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{E=C.stateNode;var J=C.memoizedProps.style,G=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=G==null||typeof G=="boolean"?"":(""+G).trim()}}catch(re){Je(C,C.return,re)}}}else if(n.tag===6){if(o===null){C=n;try{C.stateNode.nodeValue=d?"":C.memoizedProps}catch(re){Je(C,C.return,re)}}}else if(n.tag===18){if(o===null){C=n;try{var V=C.stateNode;d?Km(V,!0):Km(C.stateNode,!1)}catch(re){Je(C,C.return,re)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(o=s.retryQueue,o!==null&&(s.retryQueue=null,Oa(e,o))));break;case 19:qt(n,e),Pt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Oa(e,s)));break;case 30:break;case 21:break;default:qt(n,e),Pt(e)}}function Pt(e){var n=e.flags;if(n&2){try{for(var o,s=e.return;s!==null;){if($d(s)){o=s;break}s=s.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var d=o.stateNode,p=iu(e);Pa(e,p,d);break;case 5:var S=o.stateNode;o.flags&32&&(cl(S,""),o.flags&=-33);var E=iu(e);Pa(e,E,S);break;case 3:case 4:var C=o.stateNode.containerInfo,z=iu(e);lu(e,z,C);break;default:throw Error(a(161))}}catch(P){Je(e,e.return,P)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function om(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;om(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Yn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Wd(e,n.alternate,n),n=n.sibling}function Qi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:yi(4,n,n.return),Qi(n);break;case 1:Cn(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Kd(n,n.return,o),Qi(n);break;case 27:Ho(n.stateNode);case 26:case 5:Cn(n,n.return),Qi(n);break;case 22:n.memoizedState===null&&Qi(n);break;case 30:Qi(n);break;default:Qi(n)}e=e.sibling}}function Jn(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,p=n,S=p.flags;switch(p.tag){case 0:case 11:case 15:Jn(d,p,o),wo(4,p);break;case 1:if(Jn(d,p,o),s=p,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(z){Je(s,s.return,z)}if(s=p,d=s.updateQueue,d!==null){var E=s.stateNode;try{var C=d.shared.hiddenCallbacks;if(C!==null)for(d.shared.hiddenCallbacks=null,d=0;d<C.length;d++)Lf(C[d],E)}catch(z){Je(s,s.return,z)}}o&&S&64&&jd(p),Mo(p,p.return);break;case 27:Qd(p);case 26:case 5:Jn(d,p,o),o&&s===null&&S&4&&Xd(p),Mo(p,p.return);break;case 12:Jn(d,p,o);break;case 31:Jn(d,p,o),o&&S&4&&nm(d,p);break;case 13:Jn(d,p,o),o&&S&4&&im(d,p);break;case 22:p.memoizedState===null&&Jn(d,p,o),Mo(p,p.return);break;case 30:break;default:Jn(d,p,o)}n=n.sibling}}function au(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&ho(o))}function su(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ho(e))}function gn(e,n,o,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)am(e,n,o,s),n=n.sibling}function am(e,n,o,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:gn(e,n,o,s),d&2048&&wo(9,n);break;case 1:gn(e,n,o,s);break;case 3:gn(e,n,o,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ho(e)));break;case 12:if(d&2048){gn(e,n,o,s),e=n.stateNode;try{var p=n.memoizedProps,S=p.id,E=p.onPostCommit;typeof E=="function"&&E(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Je(n,n.return,C)}}else gn(e,n,o,s);break;case 31:gn(e,n,o,s);break;case 13:gn(e,n,o,s);break;case 23:break;case 22:p=n.stateNode,S=n.alternate,n.memoizedState!==null?p._visibility&2?gn(e,n,o,s):Ro(e,n):p._visibility&2?gn(e,n,o,s):(p._visibility|=2,Rl(e,n,o,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&au(S,n);break;case 24:gn(e,n,o,s),d&2048&&su(n.alternate,n);break;default:gn(e,n,o,s)}}function Rl(e,n,o,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var p=e,S=n,E=o,C=s,z=S.flags;switch(S.tag){case 0:case 11:case 15:Rl(p,S,E,C,d),wo(8,S);break;case 23:break;case 22:var P=S.stateNode;S.memoizedState!==null?P._visibility&2?Rl(p,S,E,C,d):Ro(p,S):(P._visibility|=2,Rl(p,S,E,C,d)),d&&z&2048&&au(S.alternate,S);break;case 24:Rl(p,S,E,C,d),d&&z&2048&&su(S.alternate,S);break;default:Rl(p,S,E,C,d)}n=n.sibling}}function Ro(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,s=n,d=s.flags;switch(s.tag){case 22:Ro(o,s),d&2048&&au(s.alternate,s);break;case 24:Ro(o,s),d&2048&&su(s.alternate,s);break;default:Ro(o,s)}n=n.sibling}}var Io=8192;function Il(e,n,o){if(e.subtreeFlags&Io)for(e=e.child;e!==null;)sm(e,n,o),e=e.sibling}function sm(e,n,o){switch(e.tag){case 26:Il(e,n,o),e.flags&Io&&e.memoizedState!==null&&mv(o,hn,e.memoizedState,e.memoizedProps);break;case 5:Il(e,n,o);break;case 3:case 4:var s=hn;hn=ns(e.stateNode.containerInfo),Il(e,n,o),hn=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Io,Io=16777216,Il(e,n,o),Io=s):Il(e,n,o));break;default:Il(e,n,o)}}function rm(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ko(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];St=s,cm(s,e)}rm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)um(e),e=e.sibling}function um(e){switch(e.tag){case 0:case 11:case 15:ko(e),e.flags&2048&&yi(9,e,e.return);break;case 3:ko(e);break;case 12:ko(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ba(e)):ko(e);break;default:ko(e)}}function Ba(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var s=n[o];St=s,cm(s,e)}rm(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:yi(8,n,n.return),Ba(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Ba(n));break;default:Ba(n)}e=e.sibling}}function cm(e,n){for(;St!==null;){var o=St;switch(o.tag){case 0:case 11:case 15:yi(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var s=o.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ho(o.memoizedState.cache)}if(s=o.child,s!==null)s.return=o,St=s;else e:for(o=e;St!==null;){s=St;var d=s.sibling,p=s.return;if(em(s),s===o){St=null;break e}if(d!==null){d.return=p,St=d;break e}St=p}}}var wy={getCacheForType:function(e){var n=Nt(ct),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return Nt(ct).controller.signal}},My=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Qe=null,ke=null,Ue=0,Ye=0,Xt=null,vi=!1,kl=!1,ru=!1,jn=0,lt=0,xi=0,Zi=0,uu=0,$t=0,Dl=0,Do=null,Ot=null,cu=!1,Fa=0,fm=0,Ya=1/0,Ja=null,Si=null,ht=0,Ti=null,Ul=null,Kn=0,fu=0,du=null,dm=null,Uo=0,mu=null;function Qt(){return(Oe&2)!==0&&Ue!==0?Ue&-Ue:H.T!==null?xu():na()}function mm(){if($t===0)if((Ue&536870912)===0||Le){var e=ii;ii<<=1,(ii&3932160)===0&&(ii=262144),$t=e}else $t=536870912;return e=jt.current,e!==null&&(e.flags|=32),$t}function Bt(e,n,o){(e===Qe&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)&&(zl(e,0),_i(e,Ue,$t,!1)),In(e,o),((Oe&2)===0||e!==Qe)&&(e===Qe&&((Oe&2)===0&&(Zi|=o),lt===4&&_i(e,Ue,$t,!1)),An(e))}function pm(e,n,o){if((Oe&6)!==0)throw Error(a(327));var s=!o&&(n&127)===0&&(n&e.expiredLanes)===0||Fe(e,n),d=s?ky(e,n):hu(e,n,!0),p=s;do{if(d===0){kl&&!s&&_i(e,n,0,!1);break}else{if(o=e.current.alternate,p&&!Ry(o)){d=hu(e,n,!1),p=!1;continue}if(d===2){if(p=n,e.errorRecoveryDisabledLanes&p)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var E=e;d=Do;var C=E.current.memoizedState.isDehydrated;if(C&&(zl(E,S).flags|=256),S=hu(E,S,!1),S!==2){if(ru&&!C){E.errorRecoveryDisabledLanes|=p,Zi|=p,d=4;break e}p=Ot,Ot=d,p!==null&&(Ot===null?Ot=p:Ot.push.apply(Ot,p))}d=S}if(p=!1,d!==2)continue}}if(d===1){zl(e,0),_i(e,n,0,!0);break}e:{switch(s=e,p=d,p){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:_i(s,n,$t,!vi);break e;case 2:Ot=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=Fa+300-yt(),10<d)){if(_i(s,n,$t,!vi),Te(s,0,!0)!==0)break e;Kn=n,s.timeoutHandle=Ym(hm.bind(null,s,o,Ot,Ja,cu,n,$t,Zi,Dl,vi,p,"Throttled",-0,0),d);break e}hm(s,o,Ot,Ja,cu,n,$t,Zi,Dl,vi,p,null,-0,0)}}break}while(!0);An(e)}function hm(e,n,o,s,d,p,S,E,C,z,P,J,G,V){if(e.timeoutHandle=-1,J=n.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dn},sm(n,p,J);var re=(p&62914560)===p?Fa-yt():(p&4194048)===p?fm-yt():0;if(re=pv(J,re),re!==null){Kn=p,e.cancelPendingCommit=re(Em.bind(null,e,n,p,o,s,d,S,E,C,P,J,null,G,V)),_i(e,p,S,!z);return}}Em(e,n,p,o,s,d,S,E,C)}function Ry(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var s=0;s<o.length;s++){var d=o[s],p=d.getSnapshot;d=d.value;try{if(!Yt(p(),d))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function _i(e,n,o,s){n&=~uu,n&=~Zi,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var p=31-Et(d),S=1<<p;s[p]=-1,d&=~S}o!==0&&Wo(e,o,n)}function ja(){return(Oe&6)===0?(zo(0),!1):!0}function pu(){if(ke!==null){if(Ye===0)var e=ke.return;else e=ke,Gn=Bi=null,Rr(e),Cl=null,yo=0,e=ke;for(;e!==null;)Jd(e.alternate,e),e=e.return;ke=null}}function zl(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,$y(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),Kn=0,pu(),Qe=e,ke=o=zn(e.current,null),Ue=n,Ye=0,Xt=null,vi=!1,kl=Fe(e,n),ru=!1,Dl=$t=uu=Zi=xi=lt=0,Ot=Do=null,cu=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-Et(s),p=1<<d;n|=e[d],s&=~p}return jn=n,pa(),o}function gm(e,n){Ce=null,H.H=Co,n===bl||n===_a?(n=kf(),Ye=3):n===vr?(n=kf(),Ye=4):Ye=n===Jr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Xt=n,ke===null&&(lt=1,La(e,ln(n,e.current)))}function ym(){var e=jt.current;return e===null?!0:(Ue&4194048)===Ue?rn===null:(Ue&62914560)===Ue||(Ue&536870912)!==0?e===rn:!1}function vm(){var e=H.H;return H.H=Co,e===null?Co:e}function xm(){var e=H.A;return H.A=wy,e}function Ka(){lt=4,vi||(Ue&4194048)!==Ue&&jt.current!==null||(kl=!0),(xi&134217727)===0&&(Zi&134217727)===0||Qe===null||_i(Qe,Ue,$t,!1)}function hu(e,n,o){var s=Oe;Oe|=2;var d=vm(),p=xm();(Qe!==e||Ue!==n)&&(Ja=null,zl(e,n)),n=!1;var S=lt;e:do try{if(Ye!==0&&ke!==null){var E=ke,C=Xt;switch(Ye){case 8:pu(),S=6;break e;case 3:case 2:case 9:case 6:jt.current===null&&(n=!0);var z=Ye;if(Ye=0,Xt=null,Ll(e,E,C,z),o&&kl){S=0;break e}break;default:z=Ye,Ye=0,Xt=null,Ll(e,E,C,z)}}Iy(),S=lt;break}catch(P){gm(e,P)}while(!0);return n&&e.shellSuspendCounter++,Gn=Bi=null,Oe=s,H.H=d,H.A=p,ke===null&&(Qe=null,Ue=0,pa()),S}function Iy(){for(;ke!==null;)Sm(ke)}function ky(e,n){var o=Oe;Oe|=2;var s=vm(),d=xm();Qe!==e||Ue!==n?(Ja=null,Ya=yt()+500,zl(e,n)):kl=Fe(e,n);e:do try{if(Ye!==0&&ke!==null){n=ke;var p=Xt;t:switch(Ye){case 1:Ye=0,Xt=null,Ll(e,n,p,1);break;case 2:case 9:if(Rf(p)){Ye=0,Xt=null,Tm(n);break}n=function(){Ye!==2&&Ye!==9||Qe!==e||(Ye=7),An(e)},p.then(n,n);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:Rf(p)?(Ye=0,Xt=null,Tm(n)):(Ye=0,Xt=null,Ll(e,n,p,7));break;case 5:var S=null;switch(ke.tag){case 26:S=ke.memoizedState;case 5:case 27:var E=ke;if(S?ap(S):E.stateNode.complete){Ye=0,Xt=null;var C=E.sibling;if(C!==null)ke=C;else{var z=E.return;z!==null?(ke=z,Xa(z)):ke=null}break t}}Ye=0,Xt=null,Ll(e,n,p,5);break;case 6:Ye=0,Xt=null,Ll(e,n,p,6);break;case 8:pu(),lt=6;break e;default:throw Error(a(462))}}Dy();break}catch(P){gm(e,P)}while(!0);return Gn=Bi=null,H.H=s,H.A=d,Oe=o,ke!==null?0:(Qe=null,Ue=0,pa(),lt)}function Dy(){for(;ke!==null&&!nl();)Sm(ke)}function Sm(e){var n=Fd(e.alternate,e,jn);e.memoizedProps=e.pendingProps,n===null?Xa(e):ke=n}function Tm(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=Hd(o,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=Hd(o,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:Rr(n);default:Jd(o,n),n=ke=xf(n,jn),n=Fd(o,n,jn)}e.memoizedProps=e.pendingProps,n===null?Xa(e):ke=n}function Ll(e,n,o,s){Gn=Bi=null,Rr(n),Cl=null,yo=0;var d=n.return;try{if(Ty(e,d,n,o,Ue)){lt=1,La(e,ln(o,e.current)),ke=null;return}}catch(p){if(d!==null)throw ke=d,p;lt=1,La(e,ln(o,e.current)),ke=null;return}n.flags&32768?(Le||s===1?e=!0:kl||(Ue&536870912)!==0?e=!1:(vi=e=!0,(s===2||s===9||s===3||s===6)&&(s=jt.current,s!==null&&s.tag===13&&(s.flags|=16384))),_m(n,e)):Xa(n)}function Xa(e){var n=e;do{if((n.flags&32768)!==0){_m(n,vi);return}e=n.return;var o=by(n.alternate,n,jn);if(o!==null){ke=o;return}if(n=n.sibling,n!==null){ke=n;return}ke=n=e}while(n!==null);lt===0&&(lt=5)}function _m(e,n){do{var o=Cy(e.alternate,e);if(o!==null){o.flags&=32767,ke=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){ke=e;return}ke=e=o}while(e!==null);lt=6,ke=null}function Em(e,n,o,s,d,p,S,E,C){e.cancelPendingCommit=null;do $a();while(ht!==0);if((Oe&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(p=n.lanes|n.childLanes,p|=ir,li(e,o,p,S,E,C),e===Qe&&(ke=Qe=null,Ue=0),Ul=n,Ti=e,Kn=o,fu=p,du=d,dm=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Gy(ni,function(){return wm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null,d=ee.p,ee.p=2,S=Oe,Oe|=4;try{Ay(e,n,o)}finally{Oe=S,ee.p=d,H.T=s}}ht=1,bm(),Cm(),Am()}}function bm(){if(ht===1){ht=0;var e=Ti,n=Ul,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null;var s=ee.p;ee.p=2;var d=Oe;Oe|=4;try{lm(n,e);var p=Nu,S=cf(e.containerInfo),E=p.focusedElem,C=p.selectionRange;if(S!==E&&E&&E.ownerDocument&&uf(E.ownerDocument.documentElement,E)){if(C!==null&&Zs(E)){var z=C.start,P=C.end;if(P===void 0&&(P=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(P,E.value.length);else{var J=E.ownerDocument||document,G=J&&J.defaultView||window;if(G.getSelection){var V=G.getSelection(),re=E.textContent.length,ye=Math.min(C.start,re),Xe=C.end===void 0?ye:Math.min(C.end,re);!V.extend&&ye>Xe&&(S=Xe,Xe=ye,ye=S);var R=rf(E,ye),N=rf(E,Xe);if(R&&N&&(V.rangeCount!==1||V.anchorNode!==R.node||V.anchorOffset!==R.offset||V.focusNode!==N.node||V.focusOffset!==N.offset)){var U=J.createRange();U.setStart(R.node,R.offset),V.removeAllRanges(),ye>Xe?(V.addRange(U),V.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),V.addRange(U))}}}}for(J=[],V=E;V=V.parentNode;)V.nodeType===1&&J.push({element:V,left:V.scrollLeft,top:V.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var F=J[E];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}rs=!!Au,Nu=Au=null}finally{Oe=d,ee.p=s,H.T=o}}e.current=n,ht=2}}function Cm(){if(ht===2){ht=0;var e=Ti,n=Ul,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=H.T,H.T=null;var s=ee.p;ee.p=2;var d=Oe;Oe|=4;try{Wd(e,n.alternate,n)}finally{Oe=d,ee.p=s,H.T=o}}ht=3}}function Am(){if(ht===4||ht===3){ht=0,Di();var e=Ti,n=Ul,o=Kn,s=dm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ht=5:(ht=0,Ul=Ti=null,Nm(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Si=null),Wl(o),n=n.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(Mn,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=H.T,d=ee.p,ee.p=2,H.T=null;try{for(var p=e.onRecoverableError,S=0;S<s.length;S++){var E=s[S];p(E.value,{componentStack:E.stack})}}finally{H.T=n,ee.p=d}}(Kn&3)!==0&&$a(),An(e),d=e.pendingLanes,(o&261930)!==0&&(d&42)!==0?e===mu?Uo++:(Uo=0,mu=e):Uo=0,zo(0)}}function Nm(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ho(n)))}function $a(){return bm(),Cm(),Am(),wm()}function wm(){if(ht!==5)return!1;var e=Ti,n=fu;fu=0;var o=Wl(Kn),s=H.T,d=ee.p;try{ee.p=32>o?32:o,H.T=null,o=du,du=null;var p=Ti,S=Kn;if(ht=0,Ul=Ti=null,Kn=0,(Oe&6)!==0)throw Error(a(331));var E=Oe;if(Oe|=4,um(p.current),am(p,p.current,S,o),Oe=E,zo(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(Mn,p)}catch{}return!0}finally{ee.p=d,H.T=s,Nm(e,n)}}function Mm(e,n,o){n=ln(o,n),n=Yr(e.stateNode,n,2),e=pi(e,n,2),e!==null&&(In(e,2),An(e))}function Je(e,n,o){if(e.tag===3)Mm(e,e,o);else for(;n!==null;){if(n.tag===3){Mm(n,e,o);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Si===null||!Si.has(s))){e=ln(o,e),o=Rd(2),s=pi(n,o,2),s!==null&&(Id(o,s,n,e),In(s,2),An(s));break}}n=n.return}}function gu(e,n,o){var s=e.pingCache;if(s===null){s=e.pingCache=new My;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(o)||(ru=!0,d.add(o),e=Uy.bind(null,e,n,o),n.then(e,e))}function Uy(e,n,o){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Qe===e&&(Ue&o)===o&&(lt===4||lt===3&&(Ue&62914560)===Ue&&300>yt()-Fa?(Oe&2)===0&&zl(e,0):uu|=o,Dl===Ue&&(Dl=0)),An(e)}function Rm(e,n){n===0&&(n=Gt()),e=qi(e,n),e!==null&&(In(e,n),An(e))}function zy(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),Rm(e,o)}function Ly(e,n){var o=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(o=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),Rm(e,o)}function Gy(e,n){return ut(e,n)}var Qa=null,Gl=null,yu=!1,Za=!1,vu=!1,Ei=0;function An(e){e!==Gl&&e.next===null&&(Gl===null?Qa=Gl=e:Gl=Gl.next=e),Za=!0,yu||(yu=!0,Vy())}function zo(e,n){if(!vu&&Za){vu=!0;do for(var o=!1,s=Qa;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var p=0;else{var S=s.suspendedLanes,E=s.pingedLanes;p=(1<<31-Et(42|e)+1)-1,p&=d&~(S&~E),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Um(s,p))}else p=Ue,p=Te(s,s===Qe?p:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(p&3)===0||Fe(s,p)||(o=!0,Um(s,p));s=s.next}while(o);vu=!1}}function Hy(){Im()}function Im(){Za=yu=!1;var e=0;Ei!==0&&Xy()&&(e=Ei);for(var n=yt(),o=null,s=Qa;s!==null;){var d=s.next,p=km(s,n);p===0?(s.next=null,o===null?Qa=d:o.next=d,d===null&&(Gl=o)):(o=s,(e!==0||(p&3)!==0)&&(Za=!0)),s=d}ht!==0&&ht!==5||zo(e),Ei!==0&&(Ei=0)}function km(e,n){for(var o=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,p=e.pendingLanes&-62914561;0<p;){var S=31-Et(p),E=1<<S,C=d[S];C===-1?((E&o)===0||(E&s)!==0)&&(d[S]=$e(E,n)):C<=n&&(e.expiredLanes|=E),p&=~E}if(n=Qe,o=Ue,o=Te(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,o===0||e===n&&(Ye===2||Ye===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&wn(s),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Fe(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(s!==null&&wn(s),Wl(o)){case 2:case 8:o=ti;break;case 32:o=ni;break;case 268435456:o=Li;break;default:o=ni}return s=Dm.bind(null,e),o=ut(o,s),e.callbackPriority=n,e.callbackNode=o,n}return s!==null&&s!==null&&wn(s),e.callbackPriority=2,e.callbackNode=null,2}function Dm(e,n){if(ht!==0&&ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if($a()&&e.callbackNode!==o)return null;var s=Ue;return s=Te(e,e===Qe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(pm(e,s,n),km(e,yt()),e.callbackNode!=null&&e.callbackNode===o?Dm.bind(null,e):null)}function Um(e,n){if($a())return null;pm(e,n,!0)}function Vy(){Qy(function(){(Oe&6)!==0?ut(zi,Hy):Im()})}function xu(){if(Ei===0){var e=_l;e===0&&(e=Tn,Tn<<=1,(Tn&261888)===0&&(Tn=256)),Ei=e}return Ei}function zm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function Lm(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function qy(e,n,o,s,d){if(n==="submit"&&o&&o.stateNode===d){var p=zm((d[bt]||null).action),S=s.submitter;S&&(n=(n=S[bt]||null)?zm(n.formAction):S.getAttribute("formAction"),n!==null&&(p=n,S=null));var E=new ca("action","action",null,s,d);e.push({event:E,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Ei!==0){var C=S?Lm(d,S):new FormData(d);Vr(o,{pending:!0,data:C,method:d.method,action:p},null,C)}}else typeof p=="function"&&(E.preventDefault(),C=S?Lm(d,S):new FormData(d),Vr(o,{pending:!0,data:C,method:d.method,action:p},p,C))},currentTarget:d}]})}}for(var Su=0;Su<nr.length;Su++){var Tu=nr[Su],Py=Tu.toLowerCase(),Oy=Tu[0].toUpperCase()+Tu.slice(1);pn(Py,"on"+Oy)}pn(mf,"onAnimationEnd"),pn(pf,"onAnimationIteration"),pn(hf,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(ly,"onTransitionRun"),pn(oy,"onTransitionStart"),pn(ay,"onTransitionCancel"),pn(gf,"onTransitionEnd"),ai("onMouseEnter",["mouseout","mouseover"]),ai("onMouseLeave",["mouseout","mouseover"]),ai("onPointerEnter",["pointerout","pointerover"]),ai("onPointerLeave",["pointerout","pointerover"]),_n("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_n("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_n("onBeforeInput",["compositionend","keypress","textInput","paste"]),_n("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_n("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),By=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lo));function Gm(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var s=e[o],d=s.event;s=s.listeners;e:{var p=void 0;if(n)for(var S=s.length-1;0<=S;S--){var E=s[S],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==p&&d.isPropagationStopped())break e;p=E,d.currentTarget=z;try{p(d)}catch(P){ma(P)}d.currentTarget=null,p=C}else for(S=0;S<s.length;S++){if(E=s[S],C=E.instance,z=E.currentTarget,E=E.listener,C!==p&&d.isPropagationStopped())break e;p=E,d.currentTarget=z;try{p(d)}catch(P){ma(P)}d.currentTarget=null,p=C}}}}function De(e,n){var o=n[se];o===void 0&&(o=n[se]=new Set);var s=e+"__bubble";o.has(s)||(Hm(n,e,2,!1),o.add(s))}function _u(e,n,o){var s=0;n&&(s|=4),Hm(o,e,s,n)}var Wa="_reactListening"+Math.random().toString(36).slice(2);function Eu(e){if(!e[Wa]){e[Wa]=!0,to.forEach(function(o){o!=="selectionchange"&&(By.has(o)||_u(o,!1,e),_u(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Wa]||(n[Wa]=!0,_u("selectionchange",!1,n))}}function Hm(e,n,o,s){switch(mp(n)){case 2:var d=yv;break;case 8:d=vv;break;default:d=Hu}o=d.bind(null,n,o,e),d=void 0,!Bs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,o,{capture:!0,passive:d}):e.addEventListener(n,o,!0):d!==void 0?e.addEventListener(n,o,{passive:d}):e.addEventListener(n,o,!1)}function bu(e,n,o,s,d){var p=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var E=s.stateNode.containerInfo;if(E===d)break;if(S===4)for(S=s.return;S!==null;){var C=S.tag;if((C===3||C===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;E!==null;){if(S=Ct(E),S===null)return;if(C=S.tag,C===5||C===6||C===26||C===27){s=p=S;continue e}E=E.parentNode}}s=s.return}Oc(function(){var z=p,P=Ps(o),J=[];e:{var G=yf.get(e);if(G!==void 0){var V=ca,re=e;switch(e){case"keypress":if(ra(o)===0)break e;case"keydown":case"keyup":V=L0;break;case"focusin":re="focus",V=js;break;case"focusout":re="blur",V=js;break;case"beforeblur":case"afterblur":V=js;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":V=Yc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":V=b0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":V=V0;break;case mf:case pf:case hf:V=N0;break;case gf:V=P0;break;case"scroll":case"scrollend":V=_0;break;case"wheel":V=B0;break;case"copy":case"cut":case"paste":V=M0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":V=jc;break;case"toggle":case"beforetoggle":V=Y0}var ye=(n&4)!==0,Xe=!ye&&(e==="scroll"||e==="scrollend"),R=ye?G!==null?G+"Capture":null:G;ye=[];for(var N=z,U;N!==null;){var F=N;if(U=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||U===null||R===null||(F=io(N,R),F!=null&&ye.push(Go(N,F,U))),Xe)break;N=N.return}0<ye.length&&(G=new V(G,re,null,o,P),J.push({event:G,listeners:ye}))}}if((n&7)===0){e:{if(G=e==="mouseover"||e==="pointerover",V=e==="mouseout"||e==="pointerout",G&&o!==qs&&(re=o.relatedTarget||o.fromElement)&&(Ct(re)||re[L]))break e;if((V||G)&&(G=P.window===P?P:(G=P.ownerDocument)?G.defaultView||G.parentWindow:window,V?(re=o.relatedTarget||o.toElement,V=z,re=re?Ct(re):null,re!==null&&(Xe=c(re),ye=re.tag,re!==Xe||ye!==5&&ye!==27&&ye!==6)&&(re=null)):(V=null,re=z),V!==re)){if(ye=Yc,F="onMouseLeave",R="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ye=jc,F="onPointerLeave",R="onPointerEnter",N="pointer"),Xe=V==null?G:xt(V),U=re==null?G:xt(re),G=new ye(F,N+"leave",V,o,P),G.target=Xe,G.relatedTarget=U,F=null,Ct(P)===z&&(ye=new ye(R,N+"enter",re,o,P),ye.target=U,ye.relatedTarget=Xe,F=ye),Xe=F,V&&re)t:{for(ye=Fy,R=V,N=re,U=0,F=R;F;F=ye(F))U++;F=0;for(var me=N;me;me=ye(me))F++;for(;0<U-F;)R=ye(R),U--;for(;0<F-U;)N=ye(N),F--;for(;U--;){if(R===N||N!==null&&R===N.alternate){ye=R;break t}R=ye(R),N=ye(N)}ye=null}else ye=null;V!==null&&Vm(J,G,V,ye,!1),re!==null&&Xe!==null&&Vm(J,Xe,re,ye,!0)}}e:{if(G=z?xt(z):window,V=G.nodeName&&G.nodeName.toLowerCase(),V==="select"||V==="input"&&G.type==="file")var He=tf;else if(Wc(G))if(nf)He=ty;else{He=W0;var ue=Z0}else V=G.nodeName,!V||V.toLowerCase()!=="input"||G.type!=="checkbox"&&G.type!=="radio"?z&&Vs(z.elementType)&&(He=tf):He=ey;if(He&&(He=He(e,z))){ef(J,He,o,P);break e}ue&&ue(e,G,z),e==="focusout"&&z&&G.type==="number"&&z.memoizedProps.value!=null&&Hs(G,"number",G.value)}switch(ue=z?xt(z):window,e){case"focusin":(Wc(ue)||ue.contentEditable==="true")&&(pl=ue,Ws=z,fo=null);break;case"focusout":fo=Ws=pl=null;break;case"mousedown":er=!0;break;case"contextmenu":case"mouseup":case"dragend":er=!1,ff(J,o,P);break;case"selectionchange":if(iy)break;case"keydown":case"keyup":ff(J,o,P)}var Ne;if(Xs)e:{switch(e){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else ml?Qc(e,o)&&(ze="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(ze="onCompositionStart");ze&&(Kc&&o.locale!=="ko"&&(ml||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&ml&&(Ne=Bc()):(si=P,Fs="value"in si?si.value:si.textContent,ml=!0)),ue=es(z,ze),0<ue.length&&(ze=new Jc(ze,e,null,o,P),J.push({event:ze,listeners:ue}),Ne?ze.data=Ne:(Ne=Zc(o),Ne!==null&&(ze.data=Ne)))),(Ne=j0?K0(e,o):X0(e,o))&&(ze=es(z,"onBeforeInput"),0<ze.length&&(ue=new Jc("onBeforeInput","beforeinput",null,o,P),J.push({event:ue,listeners:ze}),ue.data=Ne)),qy(J,e,z,o,P)}Gm(J,n)})}function Go(e,n,o){return{instance:e,listener:n,currentTarget:o}}function es(e,n){for(var o=n+"Capture",s=[];e!==null;){var d=e,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=io(e,o),d!=null&&s.unshift(Go(e,d,p)),d=io(e,n),d!=null&&s.push(Go(e,d,p))),e.tag===3)return s;e=e.return}return[]}function Fy(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Vm(e,n,o,s,d){for(var p=n._reactName,S=[];o!==null&&o!==s;){var E=o,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===s)break;E!==5&&E!==26&&E!==27||z===null||(C=z,d?(z=io(o,p),z!=null&&S.unshift(Go(o,z,C))):d||(z=io(o,p),z!=null&&S.push(Go(o,z,C)))),o=o.return}S.length!==0&&e.push({event:n,listeners:S})}var Yy=/\r\n?/g,Jy=/\u0000|\uFFFD/g;function qm(e){return(typeof e=="string"?e:""+e).replace(Yy,`
`).replace(Jy,"")}function Pm(e,n){return n=qm(n),qm(e)===n}function Ke(e,n,o,s,d,p){switch(o){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||cl(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&cl(e,""+s);break;case"className":la(e,"class",s);break;case"tabIndex":la(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":la(e,o,s);break;case"style":qc(e,s,p);break;case"data":if(n!=="object"){la(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=aa(""+s),e.setAttribute(o,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(n!=="input"&&Ke(e,n,"name",d.name,d,null),Ke(e,n,"formEncType",d.formEncType,d,null),Ke(e,n,"formMethod",d.formMethod,d,null),Ke(e,n,"formTarget",d.formTarget,d,null)):(Ke(e,n,"encType",d.encType,d,null),Ke(e,n,"method",d.method,d,null),Ke(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(o);break}s=aa(""+s),e.setAttribute(o,s);break;case"onClick":s!=null&&(e.onclick=Dn);break;case"onScroll":s!=null&&De("scroll",e);break;case"onScrollEnd":s!=null&&De("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}o=aa(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""+s):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":s===!0?e.setAttribute(o,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(o,s):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(o,s):e.removeAttribute(o);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(o):e.setAttribute(o,s);break;case"popover":De("beforetoggle",e),De("toggle",e),ia(e,"popover",s);break;case"xlinkActuate":kn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":kn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":kn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":kn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":kn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":kn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":kn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":kn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":kn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ia(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=S0.get(o)||o,ia(e,o,s))}}function Cu(e,n,o,s,d,p){switch(o){case"style":qc(e,s,p);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(o=s.__html,o!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=o}}break;case"children":typeof s=="string"?cl(e,s):(typeof s=="number"||typeof s=="bigint")&&cl(e,""+s);break;case"onScroll":s!=null&&De("scroll",e);break;case"onScrollEnd":s!=null&&De("scrollend",e);break;case"onClick":s!=null&&(e.onclick=Dn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),n=o.slice(2,d?o.length-7:void 0),p=e[bt]||null,p=p!=null?p[o]:null,typeof p=="function"&&e.removeEventListener(n,p,d),typeof s=="function")){typeof p!="function"&&p!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,s,d);break e}o in e?e[o]=s:s===!0?e.setAttribute(o,""):ia(e,o,s)}}}function Mt(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":De("error",e),De("load",e);var s=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var S=o[p];if(S!=null)switch(p){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ke(e,n,p,S,o,null)}}d&&Ke(e,n,"srcSet",o.srcSet,o,null),s&&Ke(e,n,"src",o.src,o,null);return;case"input":De("invalid",e);var E=p=S=d=null,C=null,z=null;for(s in o)if(o.hasOwnProperty(s)){var P=o[s];if(P!=null)switch(s){case"name":d=P;break;case"type":S=P;break;case"checked":C=P;break;case"defaultChecked":z=P;break;case"value":p=P;break;case"defaultValue":E=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(a(137,n));break;default:Ke(e,n,s,P,o,null)}}Lc(e,p,E,C,z,S,d,!1);return;case"select":De("invalid",e),s=S=p=null;for(d in o)if(o.hasOwnProperty(d)&&(E=o[d],E!=null))switch(d){case"value":p=E;break;case"defaultValue":S=E;break;case"multiple":s=E;default:Ke(e,n,d,E,o,null)}n=p,o=S,e.multiple=!!s,n!=null?ul(e,!!s,n,!1):o!=null&&ul(e,!!s,o,!0);return;case"textarea":De("invalid",e),p=d=s=null;for(S in o)if(o.hasOwnProperty(S)&&(E=o[S],E!=null))switch(S){case"value":s=E;break;case"defaultValue":d=E;break;case"children":p=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Ke(e,n,S,E,o,null)}Hc(e,s,d,p);return;case"option":for(C in o)if(o.hasOwnProperty(C)&&(s=o[C],s!=null))switch(C){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Ke(e,n,C,s,o,null)}return;case"dialog":De("beforetoggle",e),De("toggle",e),De("cancel",e),De("close",e);break;case"iframe":case"object":De("load",e);break;case"video":case"audio":for(s=0;s<Lo.length;s++)De(Lo[s],e);break;case"image":De("error",e),De("load",e);break;case"details":De("toggle",e);break;case"embed":case"source":case"link":De("error",e),De("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in o)if(o.hasOwnProperty(z)&&(s=o[z],s!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ke(e,n,z,s,o,null)}return;default:if(Vs(n)){for(P in o)o.hasOwnProperty(P)&&(s=o[P],s!==void 0&&Cu(e,n,P,s,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(s=o[E],s!=null&&Ke(e,n,E,s,o,null))}function jy(e,n,o,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,S=null,E=null,C=null,z=null,P=null;for(V in o){var J=o[V];if(o.hasOwnProperty(V)&&J!=null)switch(V){case"checked":break;case"value":break;case"defaultValue":C=J;default:s.hasOwnProperty(V)||Ke(e,n,V,null,s,J)}}for(var G in s){var V=s[G];if(J=o[G],s.hasOwnProperty(G)&&(V!=null||J!=null))switch(G){case"type":p=V;break;case"name":d=V;break;case"checked":z=V;break;case"defaultChecked":P=V;break;case"value":S=V;break;case"defaultValue":E=V;break;case"children":case"dangerouslySetInnerHTML":if(V!=null)throw Error(a(137,n));break;default:V!==J&&Ke(e,n,G,V,s,J)}}Gs(e,S,E,C,z,P,p,d);return;case"select":V=S=E=G=null;for(p in o)if(C=o[p],o.hasOwnProperty(p)&&C!=null)switch(p){case"value":break;case"multiple":V=C;default:s.hasOwnProperty(p)||Ke(e,n,p,null,s,C)}for(d in s)if(p=s[d],C=o[d],s.hasOwnProperty(d)&&(p!=null||C!=null))switch(d){case"value":G=p;break;case"defaultValue":E=p;break;case"multiple":S=p;default:p!==C&&Ke(e,n,d,p,s,C)}n=E,o=S,s=V,G!=null?ul(e,!!o,G,!1):!!s!=!!o&&(n!=null?ul(e,!!o,n,!0):ul(e,!!o,o?[]:"",!1));return;case"textarea":V=G=null;for(E in o)if(d=o[E],o.hasOwnProperty(E)&&d!=null&&!s.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Ke(e,n,E,null,s,d)}for(S in s)if(d=s[S],p=o[S],s.hasOwnProperty(S)&&(d!=null||p!=null))switch(S){case"value":G=d;break;case"defaultValue":V=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==p&&Ke(e,n,S,d,s,p)}Gc(e,G,V);return;case"option":for(var re in o)if(G=o[re],o.hasOwnProperty(re)&&G!=null&&!s.hasOwnProperty(re))switch(re){case"selected":e.selected=!1;break;default:Ke(e,n,re,null,s,G)}for(C in s)if(G=s[C],V=o[C],s.hasOwnProperty(C)&&G!==V&&(G!=null||V!=null))switch(C){case"selected":e.selected=G&&typeof G!="function"&&typeof G!="symbol";break;default:Ke(e,n,C,G,s,V)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in o)G=o[ye],o.hasOwnProperty(ye)&&G!=null&&!s.hasOwnProperty(ye)&&Ke(e,n,ye,null,s,G);for(z in s)if(G=s[z],V=o[z],s.hasOwnProperty(z)&&G!==V&&(G!=null||V!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Ke(e,n,z,G,s,V)}return;default:if(Vs(n)){for(var Xe in o)G=o[Xe],o.hasOwnProperty(Xe)&&G!==void 0&&!s.hasOwnProperty(Xe)&&Cu(e,n,Xe,void 0,s,G);for(P in s)G=s[P],V=o[P],!s.hasOwnProperty(P)||G===V||G===void 0&&V===void 0||Cu(e,n,P,G,s,V);return}}for(var R in o)G=o[R],o.hasOwnProperty(R)&&G!=null&&!s.hasOwnProperty(R)&&Ke(e,n,R,null,s,G);for(J in s)G=s[J],V=o[J],!s.hasOwnProperty(J)||G===V||G==null&&V==null||Ke(e,n,J,G,s,V)}function Om(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ky(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),s=0;s<o.length;s++){var d=o[s],p=d.transferSize,S=d.initiatorType,E=d.duration;if(p&&E&&Om(S)){for(S=0,E=d.responseEnd,s+=1;s<o.length;s++){var C=o[s],z=C.startTime;if(z>E)break;var P=C.transferSize,J=C.initiatorType;P&&Om(J)&&(C=C.responseEnd,S+=P*(C<E?1:(E-z)/(C-z)))}if(--s,n+=8*(p+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Au=null,Nu=null;function ts(e){return e.nodeType===9?e:e.ownerDocument}function Bm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fm(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function wu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Mu=null;function Xy(){var e=window.event;return e&&e.type==="popstate"?e===Mu?!1:(Mu=e,!0):(Mu=null,!1)}var Ym=typeof setTimeout=="function"?setTimeout:void 0,$y=typeof clearTimeout=="function"?clearTimeout:void 0,Jm=typeof Promise=="function"?Promise:void 0,Qy=typeof queueMicrotask=="function"?queueMicrotask:typeof Jm<"u"?function(e){return Jm.resolve(null).then(e).catch(Zy)}:Ym;function Zy(e){setTimeout(function(){throw e})}function bi(e){return e==="head"}function jm(e,n){var o=n,s=0;do{var d=o.nextSibling;if(e.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(s===0){e.removeChild(d),Pl(n);return}s--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")s++;else if(o==="html")Ho(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,Ho(o);for(var p=o.firstChild;p;){var S=p.nextSibling,E=p.nodeName;p[Be]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=S}}else o==="body"&&Ho(e.ownerDocument.body);o=d}while(o);Pl(n)}function Km(e,n){var o=e;e=0;do{var s=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),s&&s.nodeType===8)if(o=s.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=s}while(o)}function Ru(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ru(o),tt(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function Wy(e,n,o,s){for(;e.nodeType===1;){var d=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Be])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(p=e.getAttribute("rel"),p==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(p!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(p=e.getAttribute("src"),(p!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===p)return e}else return e;if(e=un(e.nextSibling),e===null)break}return null}function ev(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=un(e.nextSibling),e===null))return null;return e}function Xm(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=un(e.nextSibling),e===null))return null;return e}function Iu(e){return e.data==="$?"||e.data==="$~"}function ku(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function tv(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var s=function(){n(),o.removeEventListener("DOMContentLoaded",s)};o.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Du=null;function $m(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return un(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function Qm(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function Zm(e,n,o){switch(n=ts(o),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Ho(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);tt(e)}var cn=new Map,Wm=new Set;function ns(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xn=ee.d;ee.d={f:nv,r:iv,D:lv,C:ov,L:av,m:sv,X:uv,S:rv,M:cv};function nv(){var e=Xn.f(),n=ja();return e||n}function iv(e){var n=Ft(e);n!==null&&n.tag===5&&n.type==="form"?gd(n):Xn.r(e)}var Hl=typeof document>"u"?null:document;function ep(e,n,o){var s=Hl;if(s&&typeof n=="string"&&n){var d=tn(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),Wm.has(d)||(Wm.add(d),e={rel:e,crossOrigin:o,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),Mt(n,"link",e),nt(n),s.head.appendChild(n)))}}function lv(e){Xn.D(e),ep("dns-prefetch",e,null)}function ov(e,n){Xn.C(e,n),ep("preconnect",e,n)}function av(e,n,o){Xn.L(e,n,o);var s=Hl;if(s&&e&&n){var d='link[rel="preload"][as="'+tn(n)+'"]';n==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+tn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+tn(o.imageSizes)+'"]')):d+='[href="'+tn(e)+'"]';var p=d;switch(n){case"style":p=Vl(e);break;case"script":p=ql(e)}cn.has(p)||(e=T({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),cn.set(p,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(Vo(p))||n==="script"&&s.querySelector(qo(p))||(n=s.createElement("link"),Mt(n,"link",e),nt(n),s.head.appendChild(n)))}}function sv(e,n){Xn.m(e,n);var o=Hl;if(o&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+tn(s)+'"][href="'+tn(e)+'"]',p=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ql(e)}if(!cn.has(p)&&(e=T({rel:"modulepreload",href:e},n),cn.set(p,e),o.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(qo(p)))return}s=o.createElement("link"),Mt(s,"link",e),nt(s),o.head.appendChild(s)}}}function rv(e,n,o){Xn.S(e,n,o);var s=Hl;if(s&&e){var d=oi(s).hoistableStyles,p=Vl(e);n=n||"default";var S=d.get(p);if(!S){var E={loading:0,preload:null};if(S=s.querySelector(Vo(p)))E.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},o),(o=cn.get(p))&&Uu(e,o);var C=S=s.createElement("link");nt(C),Mt(C,"link",e),C._p=new Promise(function(z,P){C.onload=z,C.onerror=P}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,is(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:E},d.set(p,S)}}}function uv(e,n){Xn.X(e,n);var o=Hl;if(o&&e){var s=oi(o).hoistableScripts,d=ql(e),p=s.get(d);p||(p=o.querySelector(qo(d)),p||(e=T({src:e,async:!0},n),(n=cn.get(d))&&zu(e,n),p=o.createElement("script"),nt(p),Mt(p,"link",e),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(d,p))}}function cv(e,n){Xn.M(e,n);var o=Hl;if(o&&e){var s=oi(o).hoistableScripts,d=ql(e),p=s.get(d);p||(p=o.querySelector(qo(d)),p||(e=T({src:e,async:!0,type:"module"},n),(n=cn.get(d))&&zu(e,n),p=o.createElement("script"),nt(p),Mt(p,"link",e),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},s.set(d,p))}}function tp(e,n,o,s){var d=(d=xe.current)?ns(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=Vl(o.href),o=oi(d).hoistableStyles,s=o.get(n),s||(s={type:"style",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Vl(o.href);var p=oi(d).hoistableStyles,S=p.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(e,S),(p=d.querySelector(Vo(e)))&&!p._p&&(S.instance=p,S.state.loading=5),cn.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},cn.set(e,o),p||fv(d,e,o,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ql(o),o=oi(d).hoistableScripts,s=o.get(n),s||(s={type:"script",instance:null,count:0,state:null},o.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Vl(e){return'href="'+tn(e)+'"'}function Vo(e){return'link[rel="stylesheet"]['+e+"]"}function np(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function fv(e,n,o,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),Mt(n,"link",o),nt(n),e.head.appendChild(n))}function ql(e){return'[src="'+tn(e)+'"]'}function qo(e){return"script[async]"+e}function ip(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+tn(o.href)+'"]');if(s)return n.instance=s,nt(s),s;var d=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),nt(s),Mt(s,"style",d),is(s,o.precedence,e),n.instance=s;case"stylesheet":d=Vl(o.href);var p=e.querySelector(Vo(d));if(p)return n.state.loading|=4,n.instance=p,nt(p),p;s=np(o),(d=cn.get(d))&&Uu(s,d),p=(e.ownerDocument||e).createElement("link"),nt(p);var S=p;return S._p=new Promise(function(E,C){S.onload=E,S.onerror=C}),Mt(p,"link",s),n.state.loading|=4,is(p,o.precedence,e),n.instance=p;case"script":return p=ql(o.src),(d=e.querySelector(qo(p)))?(n.instance=d,nt(d),d):(s=o,(d=cn.get(p))&&(s=T({},o),zu(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),nt(d),Mt(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,is(s,o.precedence,e));return n.instance}function is(e,n,o){for(var s=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,p=d,S=0;S<s.length;S++){var E=s[S];if(E.dataset.precedence===n)p=E;else if(p!==d)break}p?p.parentNode.insertBefore(e,p.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function Uu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function zu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ls=null;function lp(e,n,o){if(ls===null){var s=new Map,d=ls=new Map;d.set(o,s)}else d=ls,s=d.get(o),s||(s=new Map,d.set(o,s));if(s.has(e))return s;for(s.set(e,null),o=o.getElementsByTagName(e),d=0;d<o.length;d++){var p=o[d];if(!(p[Be]||p[pt]||e==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(n)||"";S=e+S;var E=s.get(S);E?E.push(p):s.set(S,[p])}}return s}function op(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function dv(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function ap(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function mv(e,n,o,s){if(o.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Vl(s.href),p=n.querySelector(Vo(d));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=os.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=p,nt(p);return}p=n.ownerDocument||n,s=np(s),(d=cn.get(d))&&Uu(s,d),p=p.createElement("link"),nt(p);var S=p;S._p=new Promise(function(E,C){S.onload=E,S.onerror=C}),Mt(p,"link",s),o.instance=p}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=os.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var Lu=0;function pv(e,n){return e.stylesheets&&e.count===0&&ss(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var s=setTimeout(function(){if(e.stylesheets&&ss(e,e.stylesheets),e.unsuspend){var p=e.unsuspend;e.unsuspend=null,p()}},6e4+n);0<e.imgBytes&&Lu===0&&(Lu=62500*Ky());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&ss(e,e.stylesheets),e.unsuspend)){var p=e.unsuspend;e.unsuspend=null,p()}},(e.imgBytes>Lu?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function os(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ss(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var as=null;function ss(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,as=new Map,n.forEach(hv,e),as=null,os.call(e))}function hv(e,n){if(!(n.state.loading&4)){var o=as.get(e);if(o)var s=o.get(null);else{o=new Map,as.set(e,o);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var S=d[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),s=S)}s&&o.set(null,s)}d=n.instance,S=d.getAttribute("data-precedence"),p=o.get(S)||s,p===s&&o.set(null,d),o.set(S,d),this.count++,s=os.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),p?p.parentNode.insertBefore(d,p.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var Po={$$typeof:D,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function gv(e,n,o,s,d,p,S,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Rn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Rn(0),this.hiddenUpdates=Rn(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function sp(e,n,o,s,d,p,S,E,C,z,P,J){return e=new gv(e,n,o,S,C,z,P,J,E),n=1,p===!0&&(n|=24),p=Jt(3,null,null,n),e.current=p,p.stateNode=e,n=hr(),n.refCount++,e.pooledCache=n,n.refCount++,p.memoizedState={element:s,isDehydrated:o,cache:n},xr(p),e}function rp(e){return e?(e=yl,e):yl}function up(e,n,o,s,d,p){d=rp(d),s.context===null?s.context=d:s.pendingContext=d,s=mi(n),s.payload={element:o},p=p===void 0?null:p,p!==null&&(s.callback=p),o=pi(e,s,n),o!==null&&(Bt(o,e,n),xo(o,e,n))}function cp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function Gu(e,n){cp(e,n),(e=e.alternate)&&cp(e,n)}function fp(e){if(e.tag===13||e.tag===31){var n=qi(e,67108864);n!==null&&Bt(n,e,67108864),Gu(e,67108864)}}function dp(e){if(e.tag===13||e.tag===31){var n=Qt();n=Zl(n);var o=qi(e,n);o!==null&&Bt(o,e,n),Gu(e,n)}}var rs=!0;function yv(e,n,o,s){var d=H.T;H.T=null;var p=ee.p;try{ee.p=2,Hu(e,n,o,s)}finally{ee.p=p,H.T=d}}function vv(e,n,o,s){var d=H.T;H.T=null;var p=ee.p;try{ee.p=8,Hu(e,n,o,s)}finally{ee.p=p,H.T=d}}function Hu(e,n,o,s){if(rs){var d=Vu(s);if(d===null)bu(e,n,s,us,o),pp(e,s);else if(Sv(d,e,n,o,s))s.stopPropagation();else if(pp(e,s),n&4&&-1<xv.indexOf(e)){for(;d!==null;){var p=Ft(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=Z(p.pendingLanes);if(S!==0){var E=p;for(E.pendingLanes|=2,E.entangledLanes|=2;S;){var C=1<<31-Et(S);E.entanglements[1]|=C,S&=~C}An(p),(Oe&6)===0&&(Ya=yt()+500,zo(0))}}break;case 31:case 13:E=qi(p,2),E!==null&&Bt(E,p,2),ja(),Gu(p,2)}if(p=Vu(s),p===null&&bu(e,n,s,us,o),p===d)break;d=p}d!==null&&s.stopPropagation()}else bu(e,n,s,null,o)}}function Vu(e){return e=Ps(e),qu(e)}var us=null;function qu(e){if(us=null,e=Ct(e),e!==null){var n=c(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=m(n),e!==null)return e;e=null}else if(o===31){if(e=g(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return us=e,null}function mp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ui()){case zi:return 2;case ti:return 8;case ni:case il:return 32;case Li:return 268435456;default:return 32}default:return 32}}var Pu=!1,Ci=null,Ai=null,Ni=null,Oo=new Map,Bo=new Map,wi=[],xv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function pp(e,n){switch(e){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Ai=null;break;case"mouseover":case"mouseout":Ni=null;break;case"pointerover":case"pointerout":Oo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bo.delete(n.pointerId)}}function Fo(e,n,o,s,d,p){return e===null||e.nativeEvent!==p?(e={blockedOn:n,domEventName:o,eventSystemFlags:s,nativeEvent:p,targetContainers:[d]},n!==null&&(n=Ft(n),n!==null&&fp(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function Sv(e,n,o,s,d){switch(n){case"focusin":return Ci=Fo(Ci,e,n,o,s,d),!0;case"dragenter":return Ai=Fo(Ai,e,n,o,s,d),!0;case"mouseover":return Ni=Fo(Ni,e,n,o,s,d),!0;case"pointerover":var p=d.pointerId;return Oo.set(p,Fo(Oo.get(p)||null,e,n,o,s,d)),!0;case"gotpointercapture":return p=d.pointerId,Bo.set(p,Fo(Bo.get(p)||null,e,n,o,s,d)),!0}return!1}function hp(e){var n=Ct(e.target);if(n!==null){var o=c(n);if(o!==null){if(n=o.tag,n===13){if(n=m(o),n!==null){e.blockedOn=n,eo(e.priority,function(){dp(o)});return}}else if(n===31){if(n=g(o),n!==null){e.blockedOn=n,eo(e.priority,function(){dp(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function cs(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Vu(e.nativeEvent);if(o===null){o=e.nativeEvent;var s=new o.constructor(o.type,o);qs=s,o.target.dispatchEvent(s),qs=null}else return n=Ft(o),n!==null&&fp(n),e.blockedOn=o,!1;n.shift()}return!0}function gp(e,n,o){cs(e)&&o.delete(n)}function Tv(){Pu=!1,Ci!==null&&cs(Ci)&&(Ci=null),Ai!==null&&cs(Ai)&&(Ai=null),Ni!==null&&cs(Ni)&&(Ni=null),Oo.forEach(gp),Bo.forEach(gp)}function fs(e,n){e.blockedOn===n&&(e.blockedOn=null,Pu||(Pu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Tv)))}var ds=null;function yp(e){ds!==e&&(ds=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){ds===e&&(ds=null);for(var n=0;n<e.length;n+=3){var o=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(qu(s||o)===null)continue;break}var p=Ft(o);p!==null&&(e.splice(n,3),n-=3,Vr(p,{pending:!0,data:d,method:o.method,action:s},s,d))}}))}function Pl(e){function n(C){return fs(C,e)}Ci!==null&&fs(Ci,e),Ai!==null&&fs(Ai,e),Ni!==null&&fs(Ni,e),Oo.forEach(n),Bo.forEach(n);for(var o=0;o<wi.length;o++){var s=wi[o];s.blockedOn===e&&(s.blockedOn=null)}for(;0<wi.length&&(o=wi[0],o.blockedOn===null);)hp(o),o.blockedOn===null&&wi.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(s=0;s<o.length;s+=3){var d=o[s],p=o[s+1],S=d[bt]||null;if(typeof p=="function")S||yp(o);else if(S){var E=null;if(p&&p.hasAttribute("formAction")){if(d=p,S=p[bt]||null)E=S.formAction;else if(qu(d)!==null)continue}else E=S.action;typeof E=="function"?o[s+1]=E:(o.splice(s,3),s-=3),yp(o)}}}function vp(){function e(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(o,20)}function o(){if(!s&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function Ou(e){this._internalRoot=e}ms.prototype.render=Ou.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var o=n.current,s=Qt();up(o,s,e,n,null,null)},ms.prototype.unmount=Ou.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;up(e.current,2,null,e,null,null),ja(),n[L]=null}};function ms(e){this._internalRoot=e}ms.prototype.unstable_scheduleHydration=function(e){if(e){var n=na();e={blockedOn:null,target:e,priority:n};for(var o=0;o<wi.length&&n!==0&&n<wi[o].priority;o++);wi.splice(o,0,e),o===0&&hp(e)}};var xp=t.version;if(xp!=="19.2.4")throw Error(a(527,xp,"19.2.4"));ee.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=h(n),e=e!==null?x(e):null,e=e===null?null:e.stateNode,e};var _v={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ps=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ps.isDisabled&&ps.supportsFiber)try{Mn=ps.inject(_v),vt=ps}catch{}}return Jo.createRoot=function(e,n){if(!r(e))throw Error(a(299));var o=!1,s="",d=Ad,p=Nd,S=wd;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=sp(e,1,!1,null,null,o,s,null,d,p,S,vp),e[L]=n.current,Eu(e),new Ou(n)},Jo.hydrateRoot=function(e,n,o){if(!r(e))throw Error(a(299));var s=!1,d="",p=Ad,S=Nd,E=wd,C=null;return o!=null&&(o.unstable_strictMode===!0&&(s=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.formState!==void 0&&(C=o.formState)),n=sp(e,1,!0,n,o??null,s,d,C,p,S,E,vp),n.context=rp(null),o=n.current,s=Qt(),s=Zl(s),d=mi(s),d.callback=null,pi(o,d,s),o=s,n.current.lanes=o,In(n,o),An(n),e[L]=n.current,Eu(e),new ms(n)},Jo.version="19.2.4",Jo}var Mp;function Dv(){if(Mp)return Yu.exports;Mp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Yu.exports=kv(),Yu.exports}var Uv=Dv();const zv=mg(Uv);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=(...i)=>i.filter((t,l,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===l).join(" ").trim();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,l,a)=>a?a.toUpperCase():l.toLowerCase());/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rp=i=>{const t=Gv(i);return t.charAt(0).toUpperCase()+t.slice(1)};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=i=>{for(const t in i)if(t.startsWith("aria-")||t==="role"||t==="title")return!0;return!1};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=j.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:l=2,absoluteStrokeWidth:a,className:r="",children:c,iconNode:m,...g},y)=>j.createElement("svg",{ref:y,...Hv,width:t,height:t,stroke:i,strokeWidth:a?Number(l)*24/Number(t):l,className:pg("lucide",r),...!c&&!Vv(g)&&{"aria-hidden":"true"},...g},[...m.map(([h,x])=>j.createElement(h,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pe=(i,t)=>{const l=j.forwardRef(({className:a,...r},c)=>j.createElement(qv,{ref:c,iconNode:t,className:pg(`lucide-${Lv(Rp(i))}`,`lucide-${i}`,a),...r}));return l.displayName=Rp(i),l};/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pv=[["path",{d:"M12 17V3",key:"1cwfxf"}],["path",{d:"m6 11 6 6 6-6",key:"12ii2o"}],["path",{d:"M19 21H5",key:"150jfl"}]],Ov=pe("arrow-down-to-line",Pv);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],Fv=pe("arrow-left-right",Bv);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Jv=pe("arrow-left",Yv);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=[["path",{d:"m18 9-6-6-6 6",key:"kcunyi"}],["path",{d:"M12 3v14",key:"7cf3v8"}],["path",{d:"M5 21h14",key:"11awu3"}]],Kv=pe("arrow-up-from-line",jv);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],$v=pe("book-open",Xv);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=[["path",{d:"M17 3a2 2 0 0 1 2 2v15a1 1 0 0 1-1.496.868l-4.512-2.578a2 2 0 0 0-1.984 0l-4.512 2.578A1 1 0 0 1 5 20V5a2 2 0 0 1 2-2z",key:"oz39mx"}]],Zv=pe("bookmark",Qv);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],ex=pe("box",Wv);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],nx=pe("brain",tx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ix=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],ec=pe("camera",ix);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ox=pe("check",lx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Qn=pe("chevron-left",ax);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],rx=pe("chevron-right",sx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],cx=pe("chevron-up",ux);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],dx=pe("circle-alert",fx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],tc=pe("circle-check",mx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],hg=pe("circle-plus",px);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],gg=pe("circle",hx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],yg=pe("cloud",gx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],vx=pe("download",yx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],vg=pe("ellipsis",xx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Tx=pe("file-text",Sx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ex=pe("globe",_x);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],Cx=pe("grid-3x3",bx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],jo=pe("heart",Ax);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],wx=pe("house",Nx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mx=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Tc=pe("image",Mx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Ix=pe("key",Rx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kx=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Dx=pe("layers",kx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ux=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zx=pe("loader-circle",Ux);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Gx=pe("map-pin",Lx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],Ip=pe("message-circle",Hx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}],["path",{d:"M12 8v6",key:"1ib9pf"}],["path",{d:"M9 11h6",key:"1fldmi"}]],qx=pe("message-square-plus",Vx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],Ox=pe("mic",Px);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["path",{d:"M5 12h14",key:"1ays0h"}]],xg=pe("minus",Bx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],Yx=pe("moon",Fx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],jx=pe("pen",Jx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sg=pe("plus",Kx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],$x=pe("quote",Xx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qx=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],kp=pe("refresh-ccw",Qx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Wx=pe("rotate-ccw",Zx);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eS=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tS=pe("save",eS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nS=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],iS=pe("search",nS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lS=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],oS=pe("send",lS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aS=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],sS=pe("smartphone",aS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],uS=pe("smile",rS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cS=[["path",{d:"m10 20-1.25-2.5L6 18",key:"18frcb"}],["path",{d:"M10 4 8.75 6.5 6 6",key:"7mghy3"}],["path",{d:"m14 20 1.25-2.5L18 18",key:"1chtki"}],["path",{d:"m14 4 1.25 2.5L18 6",key:"1b4wsy"}],["path",{d:"m17 21-3-6h-4",key:"15hhxa"}],["path",{d:"m17 3-3 6 1.5 3",key:"11697g"}],["path",{d:"M2 12h6.5L10 9",key:"kv9z4n"}],["path",{d:"m20 10-1.5 2 1.5 2",key:"1swlpi"}],["path",{d:"M22 12h-6.5L14 15",key:"1mxi28"}],["path",{d:"m4 10 1.5 2L4 14",key:"k9enpj"}],["path",{d:"m7 21 3-6-1.5-3",key:"j8hb9u"}],["path",{d:"m7 3 3 6h4",key:"1otusx"}]],fS=pe("snowflake",cS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dS=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],mS=pe("sparkles",dS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],hS=pe("square-plus",pS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gS=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],yS=pe("sun",gS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nc=pe("trash-2",vS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ii=pe("user",xS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],TS=pe("users",SS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _S=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],ES=pe("wifi",_S);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ic=pe("x",bS);/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],AS=pe("zap",CS),NS=()=>{const[i,t]=j.useState("");return j.useEffect(()=>{const l=()=>{t(new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))};l();const a=setInterval(l,6e4);return()=>clearInterval(a)},[]),v.jsxs("div",{className:"w-full h-12 px-6 flex justify-between items-center text-white z-50 absolute top-0 left-0 select-none mix-blend-difference",children:[v.jsx("div",{className:"font-semibold text-[15px] tracking-wide w-20 text-center",children:i}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(yg,{size:16}),v.jsx(fS,{size:16}),v.jsxs("div",{className:"relative ml-1",children:[v.jsx("div",{className:"w-[24px] h-[12px] border border-current rounded-[3.5px] p-[1.5px] flex items-center",children:v.jsx("div",{className:"h-full bg-current rounded-[1px] w-[60%]"})}),v.jsx("div",{className:"absolute -right-[2.5px] top-1/2 -translate-y-1/2 w-[1.5px] h-[4px] bg-current rounded-r-[1px] opacity-90"})]})]})]})};var st=(i=>(i.HOME="HOME",i.WECHAT_LIST="WECHAT_LIST",i.CHAT="CHAT",i.WORLD_BOOK="WORLD_BOOK",i.SETTINGS="SETTINGS",i.INSTAGRAM="INSTAGRAM",i))(st||{});const $n={apiKey:"",provider:"google",baseUrl:"https://generativelanguage.googleapis.com",selectedModel:"gemini-2.0-flash",availableModels:["gemini-2.0-flash","gemini-1.5-flash"],userName:"",userAvatarUrl:"",instagramUserAvatar:"",userBio:`Life is a journey. 
Art & Design enthusiast.`,userFollowers:128,userFollowing:42,theme:"system",homeWallpaperUrl:"https://s1.img-e.com/20260217/6994859f20f52.jpg",homeWallpaperOpacity:.8},hs={name:"Gemini ",persona:" AI ",style:"",catchphrases:"",memory:"",avatarUrl:"",replyLimit:0},wS=[],Wi=({name:i,icon:t,color:l,onClick:a,isShaking:r,onLongPress:c})=>{const m=j.useRef(null),g=()=>{m.current=setTimeout(()=>{c&&(c(),navigator.vibrate&&navigator.vibrate(50))},800)},y=()=>{m.current&&(clearTimeout(m.current),m.current=null)},h=x=>{if(r){x.preventDefault(),x.stopPropagation();return}a()};return v.jsxs("div",{className:`flex flex-col items-center gap-1.5 cursor-pointer select-none relative ${r?"animate-wiggle":""}`,onTouchStart:g,onTouchEnd:y,onMouseDown:g,onMouseUp:y,onMouseLeave:y,onClick:h,children:[v.jsxs("div",{className:"relative group",children:[v.jsx("div",{className:`w-[60px] h-[60px] rounded-[14px] flex items-center justify-center text-white shadow-sm transition-transform duration-200 group-active:scale-90 ${l}`,children:t}),r&&v.jsx("div",{className:"absolute -top-2 -left-2 w-5 h-5 bg-gray-400/80 backdrop-blur-sm rounded-full flex items-center justify-center border border-white/50 animate-fade-in z-20",children:v.jsx(xg,{size:14,className:"text-white",strokeWidth:3})})]}),i&&v.jsx("span",{className:"text-[11px] font-medium text-white tracking-tight mt-0.5",style:{textShadow:"0px 1px 3px rgba(0,0,0,0.6)"},children:i})]})},MS=()=>{const i=j.useRef(null);return j.useEffect(()=>{const t=i.current;if(!t)return;const l=t.getContext("2d");if(!l)return;const a=()=>{t.width=t.offsetWidth,t.height=t.offsetHeight};a(),window.addEventListener("resize",a);const r=[],c=45;for(let h=0;h<c;h++)r.push({x:Math.random()*t.width,y:Math.random()*t.height,r:Math.random()*2+1.5,d:Math.random()*c,opacity:Math.random()*.5+.4});let m,g=0;const y=()=>{l.clearRect(0,0,t.width,t.height),l.fillStyle="white",g+=.005;for(let h=0;h<c;h++){const x=r[h];l.beginPath(),l.fillStyle=`rgba(255, 255, 255, ${x.opacity})`,l.moveTo(x.x,x.y),l.arc(x.x,x.y,x.r,0,Math.PI*2,!0),l.fill(),x.y+=Math.cos(g+x.d)*.5+.4+x.r/3,x.x+=Math.sin(g*2)*.3,(x.x>t.width+5||x.x<-5||x.y>t.height)&&(h%3>0?r[h]={x:Math.random()*t.width,y:-10,r:x.r,d:x.d,opacity:x.opacity}:Math.sin(g)>0?r[h]={x:-5,y:Math.random()*t.height,r:x.r,d:x.d,opacity:x.opacity}:r[h]={x:t.width+5,y:Math.random()*t.height,r:x.r,d:x.d,opacity:x.opacity})}m=requestAnimationFrame(y)};return y(),()=>{cancelAnimationFrame(m),window.removeEventListener("resize",a)}},[]),v.jsx("canvas",{ref:i,className:"absolute inset-0 w-full h-full pointer-events-none z-0"})},RS=({opacity:i})=>{const t=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],l=new Date,a=l.getDay(),r=new Date(l);r.setDate(l.getDate()-a);const c=t.map((h,x)=>{const T=new Date(r);return T.setDate(r.getDate()+x),{day:h,date:T.getDate(),isToday:x===a}}),m=i<.6,g=m?"text-[#C4E4FF]":"text-[#6CB4EE]",y=m?"bg-[#C4E4FF]/20":"bg-[#6CB4EE]/20";return v.jsxs("div",{className:`w-[335px] h-[175px] rounded-[22px] bg-white/20 backdrop-blur-xl border border-white/30 flex flex-col justify-between p-4 ${g} shadow-sm pointer-events-auto select-none relative overflow-hidden`,children:[v.jsxs("div",{className:"grid grid-cols-3 items-center pt-1",children:[v.jsx("div",{className:"justify-self-start",children:v.jsx("span",{className:"text-[48px] font-thin leading-none tracking-tighter",children:"16"})}),v.jsxs("div",{className:"justify-self-center flex items-center gap-1",children:[v.jsx("span",{className:"text-[18px] font-bold tracking-wide italic",children:"Syracuse"}),v.jsx(Gx,{size:12,className:"opacity-80",fill:"currentColor"})]}),v.jsxs("div",{className:"justify-self-end flex flex-col items-end gap-0.5",children:[v.jsx(yg,{size:24,fill:"currentColor",className:"opacity-90"}),v.jsx("span",{className:"text-[12px] font-medium",children:""}),v.jsx("div",{className:"text-[10px] font-medium opacity-80",children:"H:20 L:12"})]})]}),v.jsx("div",{className:"flex justify-between items-center px-1 mt-1 border-none",children:c.map((h,x)=>v.jsxs("div",{className:`flex flex-col items-center gap-1 ${h.isToday?"opacity-100":"opacity-60"}`,children:[v.jsx("span",{className:"text-[10px] uppercase font-medium tracking-wide",children:h.day}),v.jsx("div",{className:`text-[12px] font-semibold w-6 h-6 flex items-center justify-center rounded-full ${h.isToday?y:""}`,children:h.date})]},x))}),v.jsx("div",{className:"mt-1 flex justify-center w-full border-none outline-none",children:v.jsx("p",{className:"text-[13px] font-medium opacity-90 leading-relaxed text-shadow-sm whitespace-nowrap overflow-hidden text-ellipsis border-none",children:""})})]})},IS=({isEditing:i})=>{const t="https://i.imgs.ovh/2026/02/18/yx1xNY.jpeg",[l,a]=j.useState(()=>localStorage.getItem("os_polaroid_img")||t),r=j.useRef(null),c=g=>{var h;const y=(h=g.target.files)==null?void 0:h[0];if(y){const x=new FileReader;x.onload=T=>{var _;if((_=T.target)!=null&&_.result){const b=T.target.result;a(b),localStorage.setItem("os_polaroid_img",b)}},x.readAsDataURL(y)}},m=g=>{g.stopPropagation(),a(null),localStorage.removeItem("os_polaroid_img")};return v.jsxs("div",{className:`w-full h-full flex items-center justify-center ${i?"animate-wiggle":""}`,onClick:()=>{var g;return!i&&((g=r.current)==null?void 0:g.click())},children:[v.jsxs("div",{className:"relative bg-white w-[140px] h-[160px] p-2 pb-8 shadow-xl transform rotate-2 transition-transform hover:scale-105 duration-300 rounded-[2px] cursor-pointer flex flex-col group active:rotate-1",children:[v.jsxs("div",{className:"bg-gray-100 flex-1 w-full overflow-hidden relative border border-gray-100",children:[l?v.jsx("img",{src:l,className:"w-full h-full object-cover filter contrast-[1.1] saturate-[0.9]",alt:"Memory"}):v.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300",children:v.jsx(Sg,{size:32})}),v.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-white/10 to-transparent pointer-events-none"})]}),i&&l&&v.jsx("div",{className:"absolute -top-2 -left-2 w-6 h-6 bg-gray-400/90 backdrop-blur-sm rounded-full flex items-center justify-center border border-white/50 z-20 shadow-sm animate-fade-in",onClick:m,children:v.jsx(xg,{size:16,className:"text-white",strokeWidth:3})})]}),v.jsx("input",{type:"file",ref:r,className:"hidden",accept:"image/*",onChange:c})]})},Dp=({onNavigate:i,settings:t})=>{const[l,a]=j.useState(!1),r=t.homeWallpaperOpacity??.8,c=()=>{l&&a(!1)},m=()=>{a(!0)},g="https://i.imgs.ovh/2026/02/17/yxK4qc.th.jpeg",y="https://i.imgs.ovh/2026/02/17/yxKoZ9.th.jpeg";return v.jsxs("div",{className:"h-full w-full relative overflow-hidden",onClick:c,children:[v.jsx(MS,{}),v.jsx("style",{children:`
        @keyframes wiggle {
          0% { transform: rotate(0deg); }
          25% { transform: rotate(-2deg); }
          50% { transform: rotate(2deg); }
          75% { transform: rotate(-1deg); }
          100% { transform: rotate(0deg); }
        }
        .animate-wiggle {
          animation: wiggle 0.25s linear infinite;
        }
      `}),l&&v.jsx("div",{className:"absolute top-12 right-6 z-50",children:v.jsx("button",{className:"bg-white/20 backdrop-blur-md px-3 py-1 rounded-full text-xs font-medium border border-white/20",onClick:()=>a(!1),children:""})}),v.jsx("div",{className:"absolute inset-0 flex flex-col justify-start pt-24 z-10 pointer-events-none",children:v.jsxs("div",{className:"px-5 w-full flex flex-col items-center",children:[v.jsx("div",{className:"flex justify-center w-full mb-8 animate-fade-in pl-1",children:v.jsx(RS,{opacity:r})}),v.jsxs("div",{className:"grid grid-cols-4 gap-y-6 gap-x-5 pointer-events-auto w-full max-w-[340px]",children:[v.jsx("div",{className:"flex justify-center",children:v.jsx(Wi,{name:"",icon:v.jsx("img",{src:"https://i.imgs.ovh/2026/02/17/yxIT1M.th.jpeg",className:"w-full h-full object-cover rounded-[14px]",alt:"Settings"}),color:"bg-transparent",onClick:()=>i(st.SETTINGS),isShaking:l,onLongPress:m})}),v.jsx("div",{className:"flex justify-center",children:v.jsx(Wi,{name:"",icon:v.jsx("img",{src:"https://i.imgs.ovh/2026/02/17/yxI0Ap.th.jpeg",className:"w-full h-full object-cover rounded-[14px]",alt:"World Book"}),color:"bg-transparent",onClick:()=>i(st.WORLD_BOOK),isShaking:l,onLongPress:m})}),v.jsx("div",{className:"col-span-2 row-span-2 flex items-center justify-center",children:v.jsx(IS,{isEditing:l})}),v.jsx("div",{className:"flex justify-center",children:v.jsx(Wi,{name:"",icon:v.jsx("img",{src:y,className:"w-full h-full object-cover rounded-[14px]",alt:"WeChat"}),color:"bg-transparent",onClick:()=>i(st.WECHAT_LIST),isShaking:l,onLongPress:m})}),v.jsx("div",{className:"flex justify-center",children:v.jsx(Wi,{name:"Instagram",icon:v.jsx("img",{src:"https://i.imgs.ovh/2026/02/17/yxIccY.th.jpeg",className:"w-full h-full object-cover rounded-[14px]",alt:"Instagram"}),color:"bg-transparent",onClick:()=>i(st.INSTAGRAM),isShaking:l,onLongPress:m})})]})]})}),v.jsxs("div",{className:"absolute bottom-6 left-4 right-4 h-[94px] bg-white/20 backdrop-blur-2xl rounded-[30px] flex items-center justify-around px-4 z-20",children:[v.jsx(Wi,{name:"",icon:v.jsx("img",{src:g,className:"w-full h-full object-cover rounded-[14px]",alt:"Phone"}),color:"bg-transparent",onClick:()=>{},isShaking:l,onLongPress:m}),v.jsx(Wi,{name:"",icon:v.jsx("img",{src:y,className:"w-full h-full object-cover rounded-[14px]",alt:"WeChat"}),color:"bg-transparent",onClick:()=>i(st.WECHAT_LIST),isShaking:l,onLongPress:m}),v.jsx(Wi,{name:"",icon:v.jsx("img",{src:"https://i.imgs.ovh/2026/02/17/yxKJpm.th.jpeg",className:"w-full h-full object-cover rounded-[14px]",alt:"Messages"}),color:"bg-transparent",onClick:()=>{},isShaking:l,onLongPress:m})]})]})},kS=Object.prototype.toString,DS=i=>kS.call(i)==="[object Error]",US=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function zS(i){if(!(i&&DS(i)&&i.name==="TypeError"&&typeof i.message=="string"))return!1;const{message:l,stack:a}=i;return l==="Load failed"?a===void 0||"__sentry_captured__"in i:l.startsWith("error sending request for url")?!0:US.has(l)}function LS(i){if(typeof i=="number"){if(i<0)throw new TypeError("Expected `retries` to be a non-negative number.");if(Number.isNaN(i))throw new TypeError("Expected `retries` to be a valid number or Infinity, got NaN.")}else if(i!==void 0)throw new TypeError("Expected `retries` to be a number or Infinity.")}function gs(i,t,{min:l=0,allowInfinity:a=!1}={}){if(t!==void 0){if(typeof t!="number"||Number.isNaN(t))throw new TypeError(`Expected \`${i}\` to be a number${a?" or Infinity":""}.`);if(!a&&!Number.isFinite(t))throw new TypeError(`Expected \`${i}\` to be a finite number.`);if(t<l)throw new TypeError(`Expected \`${i}\` to be  ${l}.`)}}class Tg extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}function GS(i,t){const l=Math.max(1,i+1),a=t.randomize?Math.random()+1:1;let r=Math.round(a*t.minTimeout*t.factor**(l-1));return r=Math.min(r,t.maxTimeout),r}function Up(i,t){return Number.isFinite(t)?t-(performance.now()-i):t}async function HS({error:i,attemptNumber:t,retriesConsumed:l,startTime:a,options:r}){var b,M,k,I;const c=i instanceof Error?i:new TypeError(`Non-error was thrown: "${i}". You should only throw errors.`);if(c instanceof Tg)throw c.originalError;const m=Number.isFinite(r.retries)?Math.max(0,r.retries-l):r.retries,g=r.maxRetryTime??Number.POSITIVE_INFINITY,y=Object.freeze({error:c,attemptNumber:t,retriesLeft:m,retriesConsumed:l});if(await r.onFailedAttempt(y),Up(a,g)<=0)throw c;const h=await r.shouldConsumeRetry(y),x=Up(a,g);if(x<=0||m<=0)throw c;if(c instanceof TypeError&&!zS(c)){if(h)throw c;return(b=r.signal)==null||b.throwIfAborted(),!1}if(!await r.shouldRetry(y))throw c;if(!h)return(M=r.signal)==null||M.throwIfAborted(),!1;const T=GS(l,r),_=Math.min(T,x);return(k=r.signal)==null||k.throwIfAborted(),_>0&&await new Promise((w,Y)=>{var W,q;const D=()=>{var Q;clearTimeout(X),(Q=r.signal)==null||Q.removeEventListener("abort",D),Y(r.signal.reason)},X=setTimeout(()=>{var Q;(Q=r.signal)==null||Q.removeEventListener("abort",D),w()},_);r.unref&&((W=X.unref)==null||W.call(X)),(q=r.signal)==null||q.addEventListener("abort",D,{once:!0})}),(I=r.signal)==null||I.throwIfAborted(),!0}async function VS(i,t={}){var c,m,g;if(t={...t},LS(t.retries),Object.hasOwn(t,"forever"))throw new Error("The `forever` option is no longer supported. For many use-cases, you can set `retries: Infinity` instead.");t.retries??(t.retries=10),t.factor??(t.factor=2),t.minTimeout??(t.minTimeout=1e3),t.maxTimeout??(t.maxTimeout=Number.POSITIVE_INFINITY),t.maxRetryTime??(t.maxRetryTime=Number.POSITIVE_INFINITY),t.randomize??(t.randomize=!1),t.onFailedAttempt??(t.onFailedAttempt=()=>{}),t.shouldRetry??(t.shouldRetry=()=>!0),t.shouldConsumeRetry??(t.shouldConsumeRetry=()=>!0),gs("factor",t.factor,{min:0,allowInfinity:!1}),gs("minTimeout",t.minTimeout,{min:0,allowInfinity:!1}),gs("maxTimeout",t.maxTimeout,{min:0,allowInfinity:!0}),gs("maxRetryTime",t.maxRetryTime,{min:0,allowInfinity:!0}),t.factor>0||(t.factor=1),(c=t.signal)==null||c.throwIfAborted();let l=0,a=0;const r=performance.now();for(;!Number.isFinite(t.retries)||a<=t.retries;){l++;try{(m=t.signal)==null||m.throwIfAborted();const y=await i(l);return(g=t.signal)==null||g.throwIfAborted(),y}catch(y){await HS({error:y,attemptNumber:l,retriesConsumed:a,startTime:r,options:t})&&a++}}throw new Error("Retry attempts exhausted without throwing an error.")}var qS={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let PS,OS;function BS(){return{geminiUrl:PS,vertexUrl:OS}}function FS(i,t,l,a){var r,c;if(!(i!=null&&i.baseUrl)){const m=BS();return t?(r=m.vertexUrl)!==null&&r!==void 0?r:l:(c=m.geminiUrl)!==null&&c!==void 0?c:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Wn{}function le(i,t){const l=/\{([^}]+)\}/g;return i.replace(l,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const c=t[r];return c!=null?String(c):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function f(i,t,l){for(let c=0;c<t.length-1;c++){const m=t[c];if(m.endsWith("[]")){const g=m.slice(0,-2);if(!(g in i))if(Array.isArray(l))i[g]=Array.from({length:l.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(i[g])){const y=i[g];if(Array.isArray(l))for(let h=0;h<y.length;h++){const x=y[h];f(x,t.slice(c+1),l[h])}else for(const h of y)f(h,t.slice(c+1),l)}return}else if(m.endsWith("[0]")){const g=m.slice(0,-3);g in i||(i[g]=[{}]);const y=i[g];f(y[0],t.slice(c+1),l);return}(!i[m]||typeof i[m]!="object")&&(i[m]={}),i=i[m]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!l||typeof l=="object"&&Object.keys(l).length===0||l===r)return;if(typeof r=="object"&&typeof l=="object"&&r!==null&&l!==null)Object.assign(r,l);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof l=="object"&&l!==null&&!Array.isArray(l)?Object.assign(i,l):i[a]=l}function u(i,t,l=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return l;const r=t[a];if(r.endsWith("[]")){const c=r.slice(0,-2);if(c in i){const m=i[c];return Array.isArray(m)?m.map(g=>u(g,t.slice(a+1),l)):l}else return l}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return l;throw a}}function YS(i,t){for(const[l,a]of Object.entries(t)){const r=l.split("."),c=a.split("."),m=new Set;let g=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){g=y;break}if(g!==-1&&c.length>g)for(let y=g;y<c.length;y++){const h=c[y];h!=="*"&&!h.endsWith("[]")&&!h.endsWith("[0]")&&m.add(h)}lc(i,r,c,0,m)}}function lc(i,t,l,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const c=t[a];if(c.endsWith("[]")){const m=c.slice(0,-2),g=i;if(m in g&&Array.isArray(g[m]))for(const y of g[m])lc(y,t,l,a+1,r)}else if(c==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const m=i,g=Object.keys(m).filter(h=>!h.startsWith("_")&&!r.has(h)),y={};for(const h of g)y[h]=m[h];for(const[h,x]of Object.entries(y)){const T=[];for(const _ of l.slice(a))_==="*"?T.push(h):T.push(_);f(m,T,x)}for(const h of g)delete m[h]}}else{const m=i;c in m&&lc(m[c],t,l,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _c(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function JS(i){const t={},l=u(i,["operationName"]);l!=null&&f(t,["operationName"],l);const a=u(i,["resourceName"]);return a!=null&&f(t,["_url","resourceName"],a),t}function jS(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const m=u(i,["response","generateVideoResponse"]);return m!=null&&f(t,["response"],XS(m)),t}function KS(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const m=u(i,["response"]);return m!=null&&f(t,["response"],$S(m)),t}function XS(i){const t={},l=u(i,["generatedSamples"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>QS(m))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function $S(i){const t={},l=u(i,["videos"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(m=>ZS(m))),f(t,["generatedVideos"],c)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&f(t,["raiMediaFilteredReasons"],r),t}function QS(i){const t={},l=u(i,["video"]);return l!=null&&f(t,["video"],lT(l)),t}function ZS(i){const t={},l=u(i,["_self"]);return l!=null&&f(t,["video"],oT(l)),t}function WS(i){const t={},l=u(i,["operationName"]);return l!=null&&f(t,["_url","operationName"],l),t}function eT(i){const t={},l=u(i,["operationName"]);return l!=null&&f(t,["_url","operationName"],l),t}function tT(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const m=u(i,["response"]);return m!=null&&f(t,["response"],nT(m)),t}function nT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function _g(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const m=u(i,["response"]);return m!=null&&f(t,["response"],iT(m)),t}function iT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function lT(i){const t={},l=u(i,["uri"]);l!=null&&f(t,["uri"],l);const a=u(i,["encodedVideo"]);a!=null&&f(t,["videoBytes"],_c(a));const r=u(i,["encoding"]);return r!=null&&f(t,["mimeType"],r),t}function oT(i){const t={},l=u(i,["gcsUri"]);l!=null&&f(t,["uri"],l);const a=u(i,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],_c(a));const r=u(i,["mimeType"]);return r!=null&&f(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var zp;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(zp||(zp={}));var Lp;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Lp||(Lp={}));var Gp;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(Gp||(Gp={}));var Ri;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Ri||(Ri={}));var Hp;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Hp||(Hp={}));var Vp;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(Vp||(Vp={}));var qp;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(qp||(qp={}));var Pp;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Pp||(Pp={}));var Op;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(Op||(Op={}));var Bp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(Bp||(Bp={}));var Fp;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(Fp||(Fp={}));var Yp;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(Yp||(Yp={}));var Jp;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Jp||(Jp={}));var jp;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(jp||(jp={}));var Kp;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(Kp||(Kp={}));var Xp;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(Xp||(Xp={}));var $p;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})($p||($p={}));var Qp;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Qp||(Qp={}));var Zp;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Zp||(Zp={}));var Wp;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(Wp||(Wp={}));var eh;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(eh||(eh={}));var bs;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(bs||(bs={}));var th;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(th||(th={}));var nh;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(nh||(nh={}));var ih;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(ih||(ih={}));var oc;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(oc||(oc={}));var lh;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(lh||(lh={}));var oh;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(oh||(oh={}));var ac;(function(i){i.COLLECTION="COLLECTION"})(ac||(ac={}));var ah;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(ah||(ah={}));var sh;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(sh||(sh={}));var rh;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(rh||(rh={}));var uh;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(uh||(uh={}));var ch;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(ch||(ch={}));var fh;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(fh||(fh={}));var dh;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(dh||(dh={}));var mh;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(mh||(mh={}));var ph;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ph||(ph={}));var hh;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(hh||(hh={}));var gh;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(gh||(gh={}));var yh;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(yh||(yh={}));var vh;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(vh||(vh={}));var xh;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING",i.DISTILLATION="DISTILLATION"})(xh||(xh={}));var Sh;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Sh||(Sh={}));var Th;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(Th||(Th={}));var _h;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(_h||(_h={}));var Eh;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Eh||(Eh={}));var bh;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(bh||(bh={}));var Ch;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Ch||(Ch={}));var Ah;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(Ah||(Ah={}));var Nh;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Nh||(Nh={}));var wh;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(wh||(wh={}));var Mh;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Mh||(Mh={}));var Rh;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Rh||(Rh={}));var Ih;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Ih||(Ih={}));var kh;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(kh||(kh={}));var Bl;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(Bl||(Bl={}));class sc{constructor(t){const l={};for(const a of t.headers.entries())l[a[0]]=a[1];this.headers=l,this.responseInternal=t}json(){return this.responseInternal.json()}}class Ko{get text(){var t,l,a,r,c,m,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let h="",x=!1;const T=[];for(const _ of(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[b,M]of Object.entries(_))b!=="text"&&b!=="thought"&&b!=="thoughtSignature"&&(M!==null||M!==void 0)&&T.push(b);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;x=!0,h+=_.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),x?h:void 0}get data(){var t,l,a,r,c,m,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let h="";const x=[];for(const T of(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)!==null&&y!==void 0?y:[]){for(const[_,b]of Object.entries(T))_!=="inlineData"&&(b!==null||b!==void 0)&&x.push(_);T.inlineData&&typeof T.inlineData.data=="string"&&(h+=atob(T.inlineData.data))}return x.length>0&&console.warn(`there are non-data parts ${x} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),h.length>0?btoa(h):void 0}get functionCalls(){var t,l,a,r,c,m,g,y;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const h=(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(x=>x.functionCall).map(x=>x.functionCall).filter(x=>x!==void 0);if((h==null?void 0:h.length)!==0)return h}get executableCode(){var t,l,a,r,c,m,g,y,h;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const x=(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(h=x==null?void 0:x[0])===null||h===void 0?void 0:h.code}get codeExecutionResult(){var t,l,a,r,c,m,g,y,h;if(((r=(a=(l=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||l===void 0?void 0:l.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const x=(y=(g=(m=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content)===null||g===void 0?void 0:g.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((x==null?void 0:x.length)!==0)return(h=x==null?void 0:x[0])===null||h===void 0?void 0:h.output}}class Dh{}class Uh{}class aT{}class sT{}class rT{}class uT{}class zh{}class Lh{}class Gh{}class cT{}class Cs{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Cs;let r;const c=t;return l?r=KS(c):r=jS(c),Object.assign(a,r),a}}class Hh{}class Vh{}class qh{}class Ph{}class fT{}class dT{}class mT{}class Ec{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new Ec,c=tT(t);return Object.assign(a,c),a}}class pT{}class hT{}class gT{}class yT{}class Oh{}class vT{get text(){var t,l,a;let r="",c=!1;const m=[];for(const g of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[y,h]of Object.entries(g))y!=="text"&&y!=="thought"&&h!==null&&m.push(y);if(typeof g.text=="string"){if(typeof g.thought=="boolean"&&g.thought)continue;c=!0,r+=g.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?r:void 0}get data(){var t,l,a;let r="";const c=[];for(const m of(a=(l=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||l===void 0?void 0:l.parts)!==null&&a!==void 0?a:[]){for(const[g,y]of Object.entries(m))g!=="inlineData"&&y!==null&&c.push(g);m.inlineData&&typeof m.inlineData.data=="string"&&(r+=atob(m.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class xT{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class bc{_fromAPIResponse({apiResponse:t,_isVertexAI:l}){const a=new bc,c=_g(t);return Object.assign(a,c),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qe(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const l=t.split("/",2);return`publishers/${l[0]}/models/${l[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Eg(i,t){const l=qe(i,t);return l?l.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}`:l.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${l}`:l:""}function bg(i){return Array.isArray(i)?i.map(t=>As(t)):[As(i)]}function As(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Cg(i){const t=As(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Ag(i){const t=As(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Bh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Ng(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>Bh(t)):[Bh(i)]}function rc(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function Fh(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function Yh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function It(i){if(i==null)throw new Error("ContentUnion is required");return rc(i)?i:{role:"user",parts:Ng(i)}}function Cc(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(l=>{const a=It(l);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const l=It(t);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]}return Array.isArray(t)?t.map(l=>It(l)):[It(t)]}function fn(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(Fh(i)||Yh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[It(i)]}const t=[],l=[],a=rc(i[0]);for(const r of i){const c=rc(r);if(c!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(r);else{if(Fh(r)||Yh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");l.push(r)}}return a||t.push({role:"user",parts:Ng(l)}),t}function ST(i,t){i.includes("null")&&(t.nullable=!0);const l=i.filter(a=>a!=="null");if(l.length===1)t.type=Object.values(Ri).includes(l[0].toUpperCase())?l[0].toUpperCase():Ri.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of l)t.anyOf.push({type:Object.values(Ri).includes(a.toUpperCase())?a.toUpperCase():Ri.TYPE_UNSPECIFIED})}}function Yl(i){const t={},l=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=i.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,i=c[1]):c[1].type==="null"&&(t.nullable=!0,i=c[0])),i.type instanceof Array&&ST(i.type,t);for(const[m,g]of Object.entries(i))if(g!=null)if(m=="type"){if(g==="null")throw new Error("type: null can not be the only possible type for the field.");if(g instanceof Array)continue;t.type=Object.values(Ri).includes(g.toUpperCase())?g.toUpperCase():Ri.TYPE_UNSPECIFIED}else if(l.includes(m))t[m]=Yl(g);else if(a.includes(m)){const y=[];for(const h of g){if(h.type=="null"){t.nullable=!0;continue}y.push(Yl(h))}t[m]=y}else if(r.includes(m)){const y={};for(const[h,x]of Object.entries(g))y[h]=Yl(x);t[m]=y}else{if(m==="additionalProperties")continue;t[m]=g}return t}function Ac(i){return Yl(i)}function Nc(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function wc(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function jl(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Yl(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Yl(t.response));return i}function Kl(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const l of i)t.push(l);return t}function TT(i,t,l,a=1){const r=!t.startsWith(`${l}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${l}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${l}/${t}`:t:r?`${l}/${t}`:t}function ei(i,t){if(typeof t!="string")throw new Error("name must be a string");return TT(i,t,"cachedContents")}function wg(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function ki(i){return _c(i)}function _T(i){return i!=null&&typeof i=="object"&&"name"in i}function ET(i){return i!=null&&typeof i=="object"&&"video"in i}function bT(i){return i!=null&&typeof i=="object"&&"uri"in i}function Mg(i){var t;let l;if(_T(i)&&(l=i.name),!(bT(i)&&(l=i.uri,l===void 0))&&!(ET(i)&&(l=(t=i.video)===null||t===void 0?void 0:t.uri,l===void 0))){if(typeof i=="string"&&(l=i),l===void 0)throw new Error("Could not extract file name from the provided input.");if(l.startsWith("https://")){const r=l.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${l}`);l=r[0]}else l.startsWith("files/")&&(l=l.split("files/")[1]);return l}}function Rg(i,t){let l;return i.isVertexAI()?l=t?"publishers/google/models":"models":l=t?"models":"tunedModels",l}function Ig(i){for(const t of["models","tunedModels","publisherModels"])if(CT(i,t))return i[t];return[]}function CT(i,t){return i!==null&&typeof i=="object"&&t in i}function AT(i,t={}){const l=i,a={name:l.name,description:l.description,parametersJsonSchema:l.inputSchema};return l.outputSchema&&(a.responseJsonSchema=l.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function NT(i,t={}){const l=[],a=new Set;for(const r of i){const c=r.name;if(a.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);a.add(c);const m=AT(r,t);m.functionDeclarations&&l.push(...m.functionDeclarations)}return{functionDeclarations:l}}function kg(i,t){let l;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))l={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))l={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))l={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");l={inlinedRequests:t}}else l=t;const a=[l.gcsUri,l.bigqueryUri].filter(Boolean).length,r=[l.inlinedRequests,l.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return l}function wT(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Dg(i){if(typeof i!="object"||i===null)return{};const t=i,l=t.inlinedResponses;if(typeof l!="object"||l===null)return i;const r=l.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let c=!1;for(const m of r){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){c=!0;break}}return c&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function Xl(i,t){const l=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(l))return l.split("/").pop();throw new Error(`Invalid batch job name: ${l}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(l))return l.split("/").pop();if(/^\d+$/.test(l))return l;throw new Error(`Invalid batch job name: ${l}.`)}function Ug(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MT(i){const t={},l=u(i,["responsesFile"]);l!=null&&f(t,["fileName"],l);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(m=>u_(m))),f(t,["inlinedResponses"],c)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>m)),f(t,["inlinedEmbedContentResponses"],c)}return t}function RT(i){const t={},l=u(i,["predictionsFormat"]);l!=null&&f(t,["format"],l);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&f(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function IT(i){const t={},l=u(i,["format"]);l!=null&&f(t,["predictionsFormat"],l);const a=u(i,["gcsUri"]);a!=null&&f(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function _s(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata","displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&f(t,["state"],Ug(r));const c=u(i,["metadata","createTime"]);c!=null&&f(t,["createTime"],c);const m=u(i,["metadata","endTime"]);m!=null&&f(t,["endTime"],m);const g=u(i,["metadata","updateTime"]);g!=null&&f(t,["updateTime"],g);const y=u(i,["metadata","model"]);y!=null&&f(t,["model"],y);const h=u(i,["metadata","output"]);return h!=null&&f(t,["dest"],MT(Dg(h))),t}function uc(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["displayName"]);a!=null&&f(t,["displayName"],a);const r=u(i,["state"]);r!=null&&f(t,["state"],Ug(r));const c=u(i,["error"]);c!=null&&f(t,["error"],c);const m=u(i,["createTime"]);m!=null&&f(t,["createTime"],m);const g=u(i,["startTime"]);g!=null&&f(t,["startTime"],g);const y=u(i,["endTime"]);y!=null&&f(t,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&f(t,["updateTime"],h);const x=u(i,["model"]);x!=null&&f(t,["model"],x);const T=u(i,["inputConfig"]);T!=null&&f(t,["src"],kT(T));const _=u(i,["outputConfig"]);_!=null&&f(t,["dest"],RT(Dg(_)));const b=u(i,["completionStats"]);return b!=null&&f(t,["completionStats"],b),t}function kT(i){const t={},l=u(i,["instancesFormat"]);l!=null&&f(t,["format"],l);const a=u(i,["gcsSource","uris"]);a!=null&&f(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&f(t,["bigqueryUri"],r),t}function DT(i,t){const l={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&f(l,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>r_(i,m))),f(l,["requests","requests"],c)}return l}function UT(i){const t={},l=u(i,["format"]);l!=null&&f(t,["instancesFormat"],l);const a=u(i,["gcsUri"]);a!=null&&f(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&f(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function zT(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function LT(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],Xl(i,a)),l}function GT(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],Xl(i,a)),l}function HT(i){const t={},l=u(i,["content"]);l!=null&&f(t,["content"],l);const a=u(i,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],VT(a));const r=u(i,["tokenCount"]);r!=null&&f(t,["tokenCount"],r);const c=u(i,["finishReason"]);c!=null&&f(t,["finishReason"],c);const m=u(i,["avgLogprobs"]);m!=null&&f(t,["avgLogprobs"],m);const g=u(i,["groundingMetadata"]);g!=null&&f(t,["groundingMetadata"],g);const y=u(i,["index"]);y!=null&&f(t,["index"],y);const h=u(i,["logprobsResult"]);h!=null&&f(t,["logprobsResult"],h);const x=u(i,["safetyRatings"]);if(x!=null){let _=x;Array.isArray(_)&&(_=_.map(b=>b)),f(t,["safetyRatings"],_)}const T=u(i,["urlContextMetadata"]);return T!=null&&f(t,["urlContextMetadata"],T),t}function VT(i){const t={},l=u(i,["citationSources"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["citations"],a)}return t}function zg(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>g_(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function qT(i,t){const l={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&f(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return l}function PT(i,t){const l={},a=u(i,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&f(t,["outputConfig"],IT(wT(r))),l}function Jh(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],qe(i,a));const r=u(t,["src"]);r!=null&&f(l,["batch","inputConfig"],DT(i,kg(i,r)));const c=u(t,["config"]);return c!=null&&qT(c,l),l}function OT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["model"],qe(i,a));const r=u(t,["src"]);r!=null&&f(l,["inputConfig"],UT(kg(i,r)));const c=u(t,["config"]);return c!=null&&PT(c,l),l}function BT(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&f(t,["batch","displayName"],a),l}function FT(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["_url","model"],qe(i,a));const r=u(t,["src"]);r!=null&&f(l,["batch","inputConfig"],QT(i,r));const c=u(t,["config"]);return c!=null&&BT(c,l),l}function YT(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],Xl(i,a)),l}function JT(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],Xl(i,a)),l}function jT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function KT(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);return c!=null&&f(t,["error"],c),t}function XT(i,t){const l={},a=u(t,["contents"]);if(a!=null){let c=Cc(i,a);Array.isArray(c)&&(c=c.map(m=>m)),f(l,["requests[]","request","content"],c)}const r=u(t,["config"]);return r!=null&&(f(l,["_self"],$T(r,l)),YS(l,{"requests[].*":"requests[].request.*"})),l}function $T(i,t){const l={},a=u(i,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&f(t,["requests[]","title"],r);const c=u(i,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return l}function QT(i,t){const l={},a=u(t,["fileName"]);a!=null&&f(l,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&f(l,["requests"],XT(i,r)),l}function ZT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function WT(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function e_(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&f(t,["allowedFunctionNames"],l);const a=u(i,["mode"]);if(a!=null&&f(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function t_(i,t,l){const a={},r=u(t,["systemInstruction"]);l!==void 0&&r!=null&&f(l,["systemInstruction"],zg(It(r)));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const m=u(t,["topP"]);m!=null&&f(a,["topP"],m);const g=u(t,["topK"]);g!=null&&f(a,["topK"],g);const y=u(t,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const h=u(t,["maxOutputTokens"]);h!=null&&f(a,["maxOutputTokens"],h);const x=u(t,["stopSequences"]);x!=null&&f(a,["stopSequences"],x);const T=u(t,["responseLogprobs"]);T!=null&&f(a,["responseLogprobs"],T);const _=u(t,["logprobs"]);_!=null&&f(a,["logprobs"],_);const b=u(t,["presencePenalty"]);b!=null&&f(a,["presencePenalty"],b);const M=u(t,["frequencyPenalty"]);M!=null&&f(a,["frequencyPenalty"],M);const k=u(t,["seed"]);k!=null&&f(a,["seed"],k);const I=u(t,["responseMimeType"]);I!=null&&f(a,["responseMimeType"],I);const w=u(t,["responseSchema"]);w!=null&&f(a,["responseSchema"],Ac(w));const Y=u(t,["responseJsonSchema"]);if(Y!=null&&f(a,["responseJsonSchema"],Y),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=u(t,["safetySettings"]);if(l!==void 0&&D!=null){let Se=D;Array.isArray(Se)&&(Se=Se.map(ce=>y_(ce))),f(l,["safetySettings"],Se)}const X=u(t,["tools"]);if(l!==void 0&&X!=null){let Se=Kl(X);Array.isArray(Se)&&(Se=Se.map(ce=>x_(jl(ce)))),f(l,["tools"],Se)}const W=u(t,["toolConfig"]);if(l!==void 0&&W!=null&&f(l,["toolConfig"],v_(W)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const q=u(t,["cachedContent"]);l!==void 0&&q!=null&&f(l,["cachedContent"],ei(i,q));const Q=u(t,["responseModalities"]);Q!=null&&f(a,["responseModalities"],Q);const ve=u(t,["mediaResolution"]);ve!=null&&f(a,["mediaResolution"],ve);const ne=u(t,["speechConfig"]);if(ne!=null&&f(a,["speechConfig"],Nc(ne)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const $=u(t,["thinkingConfig"]);$!=null&&f(a,["thinkingConfig"],$);const fe=u(t,["imageConfig"]);fe!=null&&f(a,["imageConfig"],s_(fe));const de=u(t,["enableEnhancedCivicAnswers"]);if(de!=null&&f(a,["enableEnhancedCivicAnswers"],de),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function n_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(h=>HT(h))),f(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&f(t,["modelVersion"],r);const c=u(i,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const m=u(i,["responseId"]);m!=null&&f(t,["responseId"],m);const g=u(i,["usageMetadata"]);return g!=null&&f(t,["usageMetadata"],g),t}function i_(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],Xl(i,a)),l}function l_(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],Xl(i,a)),l}function o_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function a_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function s_(i){const t={},l=u(i,["aspectRatio"]);l!=null&&f(t,["aspectRatio"],l);const a=u(i,["imageSize"]);if(a!=null&&f(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function r_(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["request","model"],qe(i,a));const r=u(t,["contents"]);if(r!=null){let g=fn(r);Array.isArray(g)&&(g=g.map(y=>zg(y))),f(l,["request","contents"],g)}const c=u(t,["metadata"]);c!=null&&f(l,["metadata"],c);const m=u(t,["config"]);return m!=null&&f(l,["request","generationConfig"],t_(i,m,u(l,["request"],{}))),l}function u_(i){const t={},l=u(i,["response"]);l!=null&&f(t,["response"],n_(l));const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["error"]);return r!=null&&f(t,["error"],r),t}function c_(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return l}function f_(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&f(t,["_query","pageToken"],r);const c=u(i,["filter"]);return t!==void 0&&c!=null&&f(t,["_query","filter"],c),l}function d_(i){const t={},l=u(i,["config"]);return l!=null&&c_(l,t),t}function m_(i){const t={},l=u(i,["config"]);return l!=null&&f_(l,t),t}function p_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>_s(m))),f(t,["batchJobs"],c)}return t}function h_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>uc(m))),f(t,["batchJobs"],c)}return t}function g_(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],ZT(c));const m=u(i,["functionCall"]);m!=null&&f(t,["functionCall"],WT(m));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],zT(y));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const x=u(i,["thought"]);x!=null&&f(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&f(t,["thoughtSignature"],T);const _=u(i,["videoMetadata"]);return _!=null&&f(t,["videoMetadata"],_),t}function y_(i){const t={},l=u(i,["category"]);if(l!=null&&f(t,["category"],l),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function v_(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&f(t,["retrievalConfig"],l);const a=u(i,["functionCallingConfig"]);return a!=null&&f(t,["functionCallingConfig"],e_(a)),t}function x_(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&f(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(T=>T)),f(t,["functionDeclarations"],x)}const m=u(i,["googleMaps"]);m!=null&&f(t,["googleMaps"],o_(m));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],a_(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&f(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Zn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(Zn||(Zn={}));class tl{constructor(t,l,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=l,this.init(t,a,r)}init(t,l,a){var r,c;this.nameInternal=t,this.pageInternal=l[this.nameInternal]||[],this.sdkHttpResponseInternal=l==null?void 0:l.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!a||Object.keys(a).length===0?m={config:{}}:typeof a=="object"?m=Object.assign({},a):m=a,m.config&&(m.config.pageToken=l.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(c=(r=m.config)===null||r===void 0?void 0:r.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class S_ extends Wn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new tl(Zn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.create=async l=>(this.apiClient.isVertexAI()&&(l.config=this.formatDestination(l.src,l.config)),this.createInternal(l)),this.createEmbeddings=async l=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(l)}}createInlinedGenerateContentRequest(t){const l=Jh(this.apiClient,t),a=l._url,r=le("{model}:batchGenerateContent",a),g=l.batch.inputConfig.requests,y=g.requests,h=[];for(const x of y){const T=Object.assign({},x);if(T.systemInstruction){const _=T.systemInstruction;delete T.systemInstruction;const b=T.request;b.systemInstruction=_,T.request=b}h.push(T)}return g.requests=h,delete l.config,delete l._url,delete l._query,{path:r,body:l}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,l){const a=l?Object.assign({},l):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const c=this.getGcsUri(t),m=this.getBigqueryUri(t);if(c)c.endsWith(".jsonl")?a.dest=`${c.slice(0,-6)}/dest`:a.dest=`${c}_dest_${r}`;else if(m)a.dest=`${m}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=OT(this.apiClient,t);return g=le("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>uc(x))}else{const h=Jh(this.apiClient,t);return g=le("{model}:batchGenerateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>_s(x))}}async createEmbeddingsInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=FT(this.apiClient,t);return c=le("{model}:asyncBatchEmbedContent",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>_s(y))}}async get(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=l_(this.apiClient,t);return g=le("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>uc(x))}else{const h=i_(this.apiClient,t);return g=le("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>_s(x))}}async cancel(t){var l,a,r,c;let m="",g={};if(this.apiClient.isVertexAI()){const y=GT(this.apiClient,t);m=le("batchPredictionJobs/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=LT(this.apiClient,t);m=le("batches/{name}:cancel",y._url),g=y._query,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:g,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=m_(t);return g=le("batchPredictionJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>{const T=h_(x),_=new Oh;return Object.assign(_,T),_})}else{const h=d_(t);return g=le("batches",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>{const T=p_(x),_=new Oh;return Object.assign(_,T),_})}}async delete(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=JT(this.apiClient,t);return g=le("batchPredictionJobs/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>KT(x))}else{const h=YT(this.apiClient,t);return g=le("batches/{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>jT(x))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T_(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function jh(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>F_(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function __(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const m=u(i,["contents"]);if(t!==void 0&&m!=null){let x=fn(m);Array.isArray(x)&&(x=x.map(T=>jh(T))),f(t,["contents"],x)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],jh(It(g)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let x=y;Array.isArray(x)&&(x=x.map(T=>J_(T))),f(t,["tools"],x)}const h=u(i,["toolConfig"]);if(t!==void 0&&h!=null&&f(t,["toolConfig"],Y_(h)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return l}function E_(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&f(t,["expireTime"],r);const c=u(i,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const m=u(i,["contents"]);if(t!==void 0&&m!=null){let T=fn(m);Array.isArray(T)&&(T=T.map(_=>_)),f(t,["contents"],T)}const g=u(i,["systemInstruction"]);t!==void 0&&g!=null&&f(t,["systemInstruction"],It(g));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(_=>j_(_))),f(t,["tools"],T)}const h=u(i,["toolConfig"]);t!==void 0&&h!=null&&f(t,["toolConfig"],h);const x=u(i,["kmsKeyName"]);return t!==void 0&&x!=null&&f(t,["encryption_spec","kmsKeyName"],x),l}function b_(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["model"],Eg(i,a));const r=u(t,["config"]);return r!=null&&__(r,l),l}function C_(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["model"],Eg(i,a));const r=u(t,["config"]);return r!=null&&E_(r,l),l}function A_(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ei(i,a)),l}function N_(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ei(i,a)),l}function w_(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function M_(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function R_(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function I_(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function k_(i){const t={},l=u(i,["allowedFunctionNames"]);l!=null&&f(t,["allowedFunctionNames"],l);const a=u(i,["mode"]);if(a!=null&&f(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function D_(i){const t={},l=u(i,["description"]);l!=null&&f(t,["description"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const m=u(i,["response"]);m!=null&&f(t,["response"],m);const g=u(i,["responseJsonSchema"]);if(g!=null&&f(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function U_(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ei(i,a)),l}function z_(i,t){const l={},a=u(t,["name"]);return a!=null&&f(l,["_url","name"],ei(i,a)),l}function L_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function G_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function H_(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function V_(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function q_(i){const t={},l=u(i,["config"]);return l!=null&&H_(l,t),t}function P_(i){const t={},l=u(i,["config"]);return l!=null&&V_(l,t),t}function O_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>m)),f(t,["cachedContents"],c)}return t}function B_(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>m)),f(t,["cachedContents"],c)}return t}function F_(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],R_(c));const m=u(i,["functionCall"]);m!=null&&f(t,["functionCall"],I_(m));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],T_(y));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const x=u(i,["thought"]);x!=null&&f(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&f(t,["thoughtSignature"],T);const _=u(i,["videoMetadata"]);return _!=null&&f(t,["videoMetadata"],_),t}function Y_(i){const t={},l=u(i,["retrievalConfig"]);l!=null&&f(t,["retrievalConfig"],l);const a=u(i,["functionCallingConfig"]);return a!=null&&f(t,["functionCallingConfig"],k_(a)),t}function J_(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&f(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(T=>T)),f(t,["functionDeclarations"],x)}const m=u(i,["googleMaps"]);m!=null&&f(t,["googleMaps"],L_(m));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],G_(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&f(t,["urlContext"],h),t}function j_(i){const t={},l=u(i,["retrieval"]);l!=null&&f(t,["retrieval"],l);const a=u(i,["computerUse"]);if(a!=null&&f(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&f(t,["codeExecution"],r);const c=u(i,["enterpriseWebSearch"]);c!=null&&f(t,["enterpriseWebSearch"],c);const m=u(i,["functionDeclarations"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(_=>D_(_))),f(t,["functionDeclarations"],T)}const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&f(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&f(t,["googleSearchRetrieval"],h);const x=u(i,["urlContext"]);return x!=null&&f(t,["urlContext"],x),t}function K_(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),l}function X_(i,t){const l={},a=u(i,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&f(t,["expireTime"],r),l}function $_(i,t){const l={},a=u(t,["name"]);a!=null&&f(l,["_url","name"],ei(i,a));const r=u(t,["config"]);return r!=null&&K_(r,l),l}function Q_(i,t){const l={},a=u(t,["name"]);a!=null&&f(l,["_url","name"],ei(i,a));const r=u(t,["config"]);return r!=null&&X_(r,l),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Z_ extends Wn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new tl(Zn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(l),l)}async create(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=C_(this.apiClient,t);return g=le("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const h=b_(this.apiClient,t);return g=le("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async get(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=z_(this.apiClient,t);return g=le("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const h=U_(this.apiClient,t);return g=le("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async delete(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=N_(this.apiClient,t);return g=le("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>{const T=M_(x),_=new qh;return Object.assign(_,T),_})}else{const h=A_(this.apiClient,t);return g=le("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>{const T=w_(x),_=new qh;return Object.assign(_,T),_})}}async update(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Q_(this.apiClient,t);return g=le("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>x)}else{const h=$_(this.apiClient,t);return g=le("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>x)}}async listInternal(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=P_(t);return g=le("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>{const T=B_(x),_=new Ph;return Object.assign(_,T),_})}else{const h=q_(t);return g=le("cachedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>{const T=O_(x),_=new Ph;return Object.assign(_,T),_})}}}function Ns(i,t){var l={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(l[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(l[a[r]]=i[a[r]]);return l}function Kh(i){var t=typeof Symbol=="function"&&Symbol.iterator,l=t&&i[t],a=0;if(l)return l.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ee(i){return this instanceof Ee?(this.v=i,this):new Ee(i)}function yn(i,t,l){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=l.apply(i,t||[]),r,c=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),g("next"),g("throw"),g("return",m),r[Symbol.asyncIterator]=function(){return this},r;function m(b){return function(M){return Promise.resolve(M).then(b,T)}}function g(b,M){a[b]&&(r[b]=function(k){return new Promise(function(I,w){c.push([b,k,I,w])>1||y(b,k)})},M&&(r[b]=M(r[b])))}function y(b,M){try{h(a[b](M))}catch(k){_(c[0][3],k)}}function h(b){b.value instanceof Ee?Promise.resolve(b.value.v).then(x,T):_(c[0][2],b)}function x(b){y("next",b)}function T(b){y("throw",b)}function _(b,M){b(M),c.shift(),c.length&&y(c[0][0],c[0][1])}}function vn(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],l;return t?t.call(i):(i=typeof Kh=="function"?Kh(i):i[Symbol.iterator](),l={},a("next"),a("throw"),a("return"),l[Symbol.asyncIterator]=function(){return this},l);function a(c){l[c]=i[c]&&function(m){return new Promise(function(g,y){m=i[c](m),r(g,y,m.done,m.value)})}}function r(c,m,g,y){Promise.resolve(y).then(function(h){c({value:h,done:g})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W_(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const l=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return l===void 0?!1:Lg(l)}function Lg(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function e1(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function Xh(i){if(i===void 0||i.length===0)return[];const t=[],l=i.length;let a=0;for(;a<l;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let c=!0;for(;a<l&&i[a].role==="model";)r.push(i[a]),c&&!Lg(i[a])&&(c=!1),a++;c?t.push(...r):t.pop()}return t}class t1{constructor(t,l){this.modelsModule=t,this.apiClient=l}create(t){return new n1(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class n1{constructor(t,l,a,r={},c=[]){this.apiClient=t,this.modelsModule=l,this.model=a,this.config=r,this.history=c,this.sendPromise=Promise.resolve(),e1(c)}async sendMessage(t){var l;await this.sendPromise;const a=It(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});return this.sendPromise=(async()=>{var c,m,g;const y=await r,h=(m=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||m===void 0?void 0:m.content,x=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let _=[];x!=null&&(_=(g=x.slice(T))!==null&&g!==void 0?g:[]);const b=h?[h]:[];this.recordHistory(a,b,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var l;await this.sendPromise;const a=It(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(l=t.config)!==null&&l!==void 0?l:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const c=await r;return this.processStreamResponse(c,a)}getHistory(t=!1){const l=t?Xh(this.history):this.history;return structuredClone(l)}processStreamResponse(t,l){return yn(this,arguments,function*(){var r,c,m,g,y,h;const x=[];try{for(var T=!0,_=vn(t),b;b=yield Ee(_.next()),r=b.done,!r;T=!0){g=b.value,T=!1;const M=g;if(W_(M)){const k=(h=(y=M.candidates)===null||y===void 0?void 0:y[0])===null||h===void 0?void 0:h.content;k!==void 0&&x.push(k)}yield yield Ee(M)}}catch(M){c={error:M}}finally{try{!T&&!r&&(m=_.return)&&(yield Ee(m.call(_)))}finally{if(c)throw c.error}}this.recordHistory(l,x)})}recordHistory(t,l,a){let r=[];l.length>0&&l.every(c=>c.role!==void 0)?r=l:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...Xh(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qo extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,Qo.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function i1(i){const t={},l=u(i,["file"]);return l!=null&&f(t,["file"],l),t}function l1(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function o1(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","file"],Mg(l)),t}function a1(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}function s1(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","file"],Mg(l)),t}function r1(i){const t={},l=u(i,["uris"]);return l!=null&&f(t,["uris"],l),t}function u1(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function c1(i){const t={},l=u(i,["config"]);return l!=null&&u1(l,t),t}function f1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>m)),f(t,["files"],c)}return t}function d1(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["files"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(t,["files"],r)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class m1 extends Wn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new tl(Zn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(l),l)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(l=>l)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=c1(t);return c=le("files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const h=f1(y),x=new pT;return Object.assign(x,h),x})}}async createInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=i1(t);return c=le("upload/v1beta/files",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=l1(y),x=new hT;return Object.assign(x,h),x})}}async get(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=s1(t);return c=le("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=o1(t);return c=le("files/{file}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const h=a1(y),x=new gT;return Object.assign(x,h),x})}}async registerFilesInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=r1(t);return c=le("files:register",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=d1(y),x=new yT;return Object.assign(x,h),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Es(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function p1(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>R1(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function h1(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function g1(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function y1(i){const t={},l=u(i,["description"]);l!=null&&f(t,["description"],l);const a=u(i,["name"]);a!=null&&f(t,["name"],a);const r=u(i,["parameters"]);r!=null&&f(t,["parameters"],r);const c=u(i,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const m=u(i,["response"]);m!=null&&f(t,["response"],m);const g=u(i,["responseJsonSchema"]);if(g!=null&&f(t,["responseJsonSchema"],g),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function v1(i){const t={},l=u(i,["modelSelectionConfig"]);l!=null&&f(t,["modelConfig"],l);const a=u(i,["responseJsonSchema"]);a!=null&&f(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&f(t,["audioTimestamp"],r);const c=u(i,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const m=u(i,["enableAffectiveDialog"]);m!=null&&f(t,["enableAffectiveDialog"],m);const g=u(i,["frequencyPenalty"]);g!=null&&f(t,["frequencyPenalty"],g);const y=u(i,["logprobs"]);y!=null&&f(t,["logprobs"],y);const h=u(i,["maxOutputTokens"]);h!=null&&f(t,["maxOutputTokens"],h);const x=u(i,["mediaResolution"]);x!=null&&f(t,["mediaResolution"],x);const T=u(i,["presencePenalty"]);T!=null&&f(t,["presencePenalty"],T);const _=u(i,["responseLogprobs"]);_!=null&&f(t,["responseLogprobs"],_);const b=u(i,["responseMimeType"]);b!=null&&f(t,["responseMimeType"],b);const M=u(i,["responseModalities"]);M!=null&&f(t,["responseModalities"],M);const k=u(i,["responseSchema"]);k!=null&&f(t,["responseSchema"],k);const I=u(i,["routingConfig"]);I!=null&&f(t,["routingConfig"],I);const w=u(i,["seed"]);w!=null&&f(t,["seed"],w);const Y=u(i,["speechConfig"]);Y!=null&&f(t,["speechConfig"],Y);const D=u(i,["stopSequences"]);D!=null&&f(t,["stopSequences"],D);const X=u(i,["temperature"]);X!=null&&f(t,["temperature"],X);const W=u(i,["thinkingConfig"]);W!=null&&f(t,["thinkingConfig"],W);const q=u(i,["topK"]);q!=null&&f(t,["topK"],q);const Q=u(i,["topP"]);if(Q!=null&&f(t,["topP"],Q),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function x1(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function S1(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function T1(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const m=u(i,["topP"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","mediaResolution"],h);const x=u(i,["seed"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","seed"],x);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","speechConfig"],wc(T));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","thinkingConfig"],_);const b=u(i,["enableAffectiveDialog"]);t!==void 0&&b!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],b);const M=u(i,["systemInstruction"]);t!==void 0&&M!=null&&f(t,["setup","systemInstruction"],p1(It(M)));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let q=Kl(k);Array.isArray(q)&&(q=q.map(Q=>k1(jl(Q)))),f(t,["setup","tools"],q)}const I=u(i,["sessionResumption"]);t!==void 0&&I!=null&&f(t,["setup","sessionResumption"],I1(I));const w=u(i,["inputAudioTranscription"]);t!==void 0&&w!=null&&f(t,["setup","inputAudioTranscription"],w);const Y=u(i,["outputAudioTranscription"]);t!==void 0&&Y!=null&&f(t,["setup","outputAudioTranscription"],Y);const D=u(i,["realtimeInputConfig"]);t!==void 0&&D!=null&&f(t,["setup","realtimeInputConfig"],D);const X=u(i,["contextWindowCompression"]);t!==void 0&&X!=null&&f(t,["setup","contextWindowCompression"],X);const W=u(i,["proactivity"]);if(t!==void 0&&W!=null&&f(t,["setup","proactivity"],W),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function _1(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],v1(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const m=u(i,["topP"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","mediaResolution"],h);const x=u(i,["seed"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","seed"],x);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","speechConfig"],wc(T));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","thinkingConfig"],_);const b=u(i,["enableAffectiveDialog"]);t!==void 0&&b!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],b);const M=u(i,["systemInstruction"]);t!==void 0&&M!=null&&f(t,["setup","systemInstruction"],It(M));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let Q=Kl(k);Array.isArray(Q)&&(Q=Q.map(ve=>D1(jl(ve)))),f(t,["setup","tools"],Q)}const I=u(i,["sessionResumption"]);t!==void 0&&I!=null&&f(t,["setup","sessionResumption"],I);const w=u(i,["inputAudioTranscription"]);t!==void 0&&w!=null&&f(t,["setup","inputAudioTranscription"],w);const Y=u(i,["outputAudioTranscription"]);t!==void 0&&Y!=null&&f(t,["setup","outputAudioTranscription"],Y);const D=u(i,["realtimeInputConfig"]);t!==void 0&&D!=null&&f(t,["setup","realtimeInputConfig"],D);const X=u(i,["contextWindowCompression"]);t!==void 0&&X!=null&&f(t,["setup","contextWindowCompression"],X);const W=u(i,["proactivity"]);t!==void 0&&W!=null&&f(t,["setup","proactivity"],W);const q=u(i,["explicitVadSignal"]);return t!==void 0&&q!=null&&f(t,["setup","explicitVadSignal"],q),l}function E1(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["setup","model"],qe(i,a));const r=u(t,["config"]);return r!=null&&f(l,["config"],T1(r,l)),l}function b1(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["setup","model"],qe(i,a));const r=u(t,["config"]);return r!=null&&f(l,["config"],_1(r,l)),l}function C1(i){const t={},l=u(i,["musicGenerationConfig"]);return l!=null&&f(t,["musicGenerationConfig"],l),t}function A1(i){const t={},l=u(i,["weightedPrompts"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(r=>r)),f(t,["weightedPrompts"],a)}return t}function N1(i){const t={},l=u(i,["media"]);if(l!=null){let h=bg(l);Array.isArray(h)&&(h=h.map(x=>Es(x))),f(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&f(t,["audio"],Es(Ag(a)));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],Es(Cg(c)));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const g=u(i,["activityStart"]);g!=null&&f(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function w1(i){const t={},l=u(i,["media"]);if(l!=null){let h=bg(l);Array.isArray(h)&&(h=h.map(x=>x)),f(t,["mediaChunks"],h)}const a=u(i,["audio"]);a!=null&&f(t,["audio"],Ag(a));const r=u(i,["audioStreamEnd"]);r!=null&&f(t,["audioStreamEnd"],r);const c=u(i,["video"]);c!=null&&f(t,["video"],Cg(c));const m=u(i,["text"]);m!=null&&f(t,["text"],m);const g=u(i,["activityStart"]);g!=null&&f(t,["activityStart"],g);const y=u(i,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function M1(i){const t={},l=u(i,["setupComplete"]);l!=null&&f(t,["setupComplete"],l);const a=u(i,["serverContent"]);a!=null&&f(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&f(t,["toolCall"],r);const c=u(i,["toolCallCancellation"]);c!=null&&f(t,["toolCallCancellation"],c);const m=u(i,["usageMetadata"]);m!=null&&f(t,["usageMetadata"],U1(m));const g=u(i,["goAway"]);g!=null&&f(t,["goAway"],g);const y=u(i,["sessionResumptionUpdate"]);y!=null&&f(t,["sessionResumptionUpdate"],y);const h=u(i,["voiceActivityDetectionSignal"]);h!=null&&f(t,["voiceActivityDetectionSignal"],h);const x=u(i,["voiceActivity"]);return x!=null&&f(t,["voiceActivity"],z1(x)),t}function R1(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],h1(c));const m=u(i,["functionCall"]);m!=null&&f(t,["functionCall"],g1(m));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],Es(y));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const x=u(i,["thought"]);x!=null&&f(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&f(t,["thoughtSignature"],T);const _=u(i,["videoMetadata"]);return _!=null&&f(t,["videoMetadata"],_),t}function I1(i){const t={},l=u(i,["handle"]);if(l!=null&&f(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function k1(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&f(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(T=>T)),f(t,["functionDeclarations"],x)}const m=u(i,["googleMaps"]);m!=null&&f(t,["googleMaps"],x1(m));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],S1(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&f(t,["urlContext"],h),t}function D1(i){const t={},l=u(i,["retrieval"]);l!=null&&f(t,["retrieval"],l);const a=u(i,["computerUse"]);if(a!=null&&f(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&f(t,["codeExecution"],r);const c=u(i,["enterpriseWebSearch"]);c!=null&&f(t,["enterpriseWebSearch"],c);const m=u(i,["functionDeclarations"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(_=>y1(_))),f(t,["functionDeclarations"],T)}const g=u(i,["googleMaps"]);g!=null&&f(t,["googleMaps"],g);const y=u(i,["googleSearch"]);y!=null&&f(t,["googleSearch"],y);const h=u(i,["googleSearchRetrieval"]);h!=null&&f(t,["googleSearchRetrieval"],h);const x=u(i,["urlContext"]);return x!=null&&f(t,["urlContext"],x),t}function U1(i){const t={},l=u(i,["promptTokenCount"]);l!=null&&f(t,["promptTokenCount"],l);const a=u(i,["cachedContentTokenCount"]);a!=null&&f(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&f(t,["responseTokenCount"],r);const c=u(i,["toolUsePromptTokenCount"]);c!=null&&f(t,["toolUsePromptTokenCount"],c);const m=u(i,["thoughtsTokenCount"]);m!=null&&f(t,["thoughtsTokenCount"],m);const g=u(i,["totalTokenCount"]);g!=null&&f(t,["totalTokenCount"],g);const y=u(i,["promptTokensDetails"]);if(y!=null){let b=y;Array.isArray(b)&&(b=b.map(M=>M)),f(t,["promptTokensDetails"],b)}const h=u(i,["cacheTokensDetails"]);if(h!=null){let b=h;Array.isArray(b)&&(b=b.map(M=>M)),f(t,["cacheTokensDetails"],b)}const x=u(i,["candidatesTokensDetails"]);if(x!=null){let b=x;Array.isArray(b)&&(b=b.map(M=>M)),f(t,["responseTokensDetails"],b)}const T=u(i,["toolUsePromptTokensDetails"]);if(T!=null){let b=T;Array.isArray(b)&&(b=b.map(M=>M)),f(t,["toolUsePromptTokensDetails"],b)}const _=u(i,["trafficType"]);return _!=null&&f(t,["trafficType"],_),t}function z1(i){const t={},l=u(i,["type"]);return l!=null&&f(t,["voiceActivityType"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function L1(i,t){const l={},a=u(i,["data"]);if(a!=null&&f(l,["data"],a),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=u(i,["mimeType"]);return r!=null&&f(l,["mimeType"],r),l}function G1(i,t){const l={},a=u(i,["content"]);a!=null&&f(l,["content"],a);const r=u(i,["citationMetadata"]);r!=null&&f(l,["citationMetadata"],H1(r));const c=u(i,["tokenCount"]);c!=null&&f(l,["tokenCount"],c);const m=u(i,["finishReason"]);m!=null&&f(l,["finishReason"],m);const g=u(i,["avgLogprobs"]);g!=null&&f(l,["avgLogprobs"],g);const y=u(i,["groundingMetadata"]);y!=null&&f(l,["groundingMetadata"],y);const h=u(i,["index"]);h!=null&&f(l,["index"],h);const x=u(i,["logprobsResult"]);x!=null&&f(l,["logprobsResult"],x);const T=u(i,["safetyRatings"]);if(T!=null){let b=T;Array.isArray(b)&&(b=b.map(M=>M)),f(l,["safetyRatings"],b)}const _=u(i,["urlContextMetadata"]);return _!=null&&f(l,["urlContextMetadata"],_),l}function H1(i,t){const l={},a=u(i,["citationSources"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(l,["citations"],r)}return l}function V1(i,t,l){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],qe(i,r));const c=u(t,["contents"]);if(c!=null){let m=fn(c);Array.isArray(m)&&(m=m.map(g=>g)),f(a,["contents"],m)}return a}function q1(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["tokensInfo"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>m)),f(l,["tokensInfo"],c)}return l}function P1(i,t){const l={},a=u(i,["values"]);a!=null&&f(l,["values"],a);const r=u(i,["statistics"]);return r!=null&&f(l,["statistics"],O1(r)),l}function O1(i,t){const l={},a=u(i,["truncated"]);a!=null&&f(l,["truncated"],a);const r=u(i,["token_count"]);return r!=null&&f(l,["tokenCount"],r),l}function Rs(i,t){const l={},a=u(i,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(m=>QE(m))),f(l,["parts"],c)}const r=u(i,["role"]);return r!=null&&f(l,["role"],r),l}function B1(i,t){const l={},a=u(i,["controlType"]);a!=null&&f(l,["controlType"],a);const r=u(i,["enableControlImageComputation"]);return r!=null&&f(l,["computeControl"],r),l}function F1(i,t){const l={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return l}function Y1(i,t,l){const a={},r=u(i,["systemInstruction"]);t!==void 0&&r!=null&&f(t,["systemInstruction"],It(r));const c=u(i,["tools"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>qg(y))),f(t,["tools"],g)}const m=u(i,["generationConfig"]);return t!==void 0&&m!=null&&f(t,["generationConfig"],LE(m)),a}function J1(i,t,l){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],qe(i,r));const c=u(t,["contents"]);if(c!=null){let g=fn(c);Array.isArray(g)&&(g=g.map(y=>Rs(y))),f(a,["contents"],g)}const m=u(t,["config"]);return m!=null&&F1(m),a}function j1(i,t,l){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],qe(i,r));const c=u(t,["contents"]);if(c!=null){let g=fn(c);Array.isArray(g)&&(g=g.map(y=>y)),f(a,["contents"],g)}const m=u(t,["config"]);return m!=null&&Y1(m,a),a}function K1(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["totalTokens"]);r!=null&&f(l,["totalTokens"],r);const c=u(i,["cachedContentTokenCount"]);return c!=null&&f(l,["cachedContentTokenCount"],c),l}function X1(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["totalTokens"]);return r!=null&&f(l,["totalTokens"],r),l}function $1(i,t,l){const a={},r=u(t,["model"]);return r!=null&&f(a,["_url","name"],qe(i,r)),a}function Q1(i,t,l){const a={},r=u(t,["model"]);return r!=null&&f(a,["_url","name"],qe(i,r)),a}function Z1(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(l,["sdkHttpResponse"],a),l}function W1(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(l,["sdkHttpResponse"],a),l}function eE(i,t,l){const a={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["negativePrompt"]);t!==void 0&&c!=null&&f(t,["parameters","negativePrompt"],c);const m=u(i,["numberOfImages"]);t!==void 0&&m!=null&&f(t,["parameters","sampleCount"],m);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&f(t,["parameters","aspectRatio"],g);const y=u(i,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const h=u(i,["seed"]);t!==void 0&&h!=null&&f(t,["parameters","seed"],h);const x=u(i,["safetyFilterLevel"]);t!==void 0&&x!=null&&f(t,["parameters","safetySetting"],x);const T=u(i,["personGeneration"]);t!==void 0&&T!=null&&f(t,["parameters","personGeneration"],T);const _=u(i,["includeSafetyAttributes"]);t!==void 0&&_!=null&&f(t,["parameters","includeSafetyAttributes"],_);const b=u(i,["includeRaiReason"]);t!==void 0&&b!=null&&f(t,["parameters","includeRaiReason"],b);const M=u(i,["language"]);t!==void 0&&M!=null&&f(t,["parameters","language"],M);const k=u(i,["outputMimeType"]);t!==void 0&&k!=null&&f(t,["parameters","outputOptions","mimeType"],k);const I=u(i,["outputCompressionQuality"]);t!==void 0&&I!=null&&f(t,["parameters","outputOptions","compressionQuality"],I);const w=u(i,["addWatermark"]);t!==void 0&&w!=null&&f(t,["parameters","addWatermark"],w);const Y=u(i,["labels"]);t!==void 0&&Y!=null&&f(t,["labels"],Y);const D=u(i,["editMode"]);t!==void 0&&D!=null&&f(t,["parameters","editMode"],D);const X=u(i,["baseSteps"]);return t!==void 0&&X!=null&&f(t,["parameters","editConfig","baseSteps"],X),a}function tE(i,t,l){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],qe(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const m=u(t,["referenceImages"]);if(m!=null){let y=m;Array.isArray(y)&&(y=y.map(h=>ib(h))),f(a,["instances[0]","referenceImages"],y)}const g=u(t,["config"]);return g!=null&&eE(g,a),a}function nE(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>Is(m))),f(l,["generatedImages"],c)}return l}function iE(i,t,l){const a={},r=u(i,["taskType"]);t!==void 0&&r!=null&&f(t,["requests[]","taskType"],r);const c=u(i,["title"]);t!==void 0&&c!=null&&f(t,["requests[]","title"],c);const m=u(i,["outputDimensionality"]);if(t!==void 0&&m!=null&&f(t,["requests[]","outputDimensionality"],m),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function lE(i,t,l){const a={},r=u(i,["taskType"]);t!==void 0&&r!=null&&f(t,["instances[]","task_type"],r);const c=u(i,["title"]);t!==void 0&&c!=null&&f(t,["instances[]","title"],c);const m=u(i,["outputDimensionality"]);t!==void 0&&m!=null&&f(t,["parameters","outputDimensionality"],m);const g=u(i,["mimeType"]);t!==void 0&&g!=null&&f(t,["instances[]","mimeType"],g);const y=u(i,["autoTruncate"]);return t!==void 0&&y!=null&&f(t,["parameters","autoTruncate"],y),a}function oE(i,t,l){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],qe(i,r));const c=u(t,["contents"]);if(c!=null){let y=Cc(i,c);Array.isArray(y)&&(y=y.map(h=>h)),f(a,["requests[]","content"],y)}const m=u(t,["config"]);m!=null&&iE(m,a);const g=u(t,["model"]);return g!==void 0&&f(a,["requests[]","model"],qe(i,g)),a}function aE(i,t,l){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],qe(i,r));const c=u(t,["contents"]);if(c!=null){let g=Cc(i,c);Array.isArray(g)&&(g=g.map(y=>y)),f(a,["instances[]","content"],g)}const m=u(t,["config"]);return m!=null&&lE(m,a),a}function sE(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["embeddings"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(g=>g)),f(l,["embeddings"],m)}const c=u(i,["metadata"]);return c!=null&&f(l,["metadata"],c),l}function rE(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["predictions[]","embeddings"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(g=>P1(g))),f(l,["embeddings"],m)}const c=u(i,["metadata"]);return c!=null&&f(l,["metadata"],c),l}function uE(i,t){const l={},a=u(i,["endpoint"]);a!=null&&f(l,["name"],a);const r=u(i,["deployedModelId"]);return r!=null&&f(l,["deployedModelId"],r),l}function cE(i,t){const l={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["fileUri"]);a!=null&&f(l,["fileUri"],a);const r=u(i,["mimeType"]);return r!=null&&f(l,["mimeType"],r),l}function fE(i,t){const l={},a=u(i,["id"]);a!=null&&f(l,["id"],a);const r=u(i,["args"]);r!=null&&f(l,["args"],r);const c=u(i,["name"]);if(c!=null&&f(l,["name"],c),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return l}function dE(i,t){const l={},a=u(i,["allowedFunctionNames"]);a!=null&&f(l,["allowedFunctionNames"],a);const r=u(i,["mode"]);if(r!=null&&f(l,["mode"],r),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return l}function mE(i,t){const l={},a=u(i,["description"]);a!=null&&f(l,["description"],a);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["parameters"]);c!=null&&f(l,["parameters"],c);const m=u(i,["parametersJsonSchema"]);m!=null&&f(l,["parametersJsonSchema"],m);const g=u(i,["response"]);g!=null&&f(l,["response"],g);const y=u(i,["responseJsonSchema"]);if(y!=null&&f(l,["responseJsonSchema"],y),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return l}function pE(i,t,l,a){const r={},c=u(t,["systemInstruction"]);l!==void 0&&c!=null&&f(l,["systemInstruction"],Rs(It(c)));const m=u(t,["temperature"]);m!=null&&f(r,["temperature"],m);const g=u(t,["topP"]);g!=null&&f(r,["topP"],g);const y=u(t,["topK"]);y!=null&&f(r,["topK"],y);const h=u(t,["candidateCount"]);h!=null&&f(r,["candidateCount"],h);const x=u(t,["maxOutputTokens"]);x!=null&&f(r,["maxOutputTokens"],x);const T=u(t,["stopSequences"]);T!=null&&f(r,["stopSequences"],T);const _=u(t,["responseLogprobs"]);_!=null&&f(r,["responseLogprobs"],_);const b=u(t,["logprobs"]);b!=null&&f(r,["logprobs"],b);const M=u(t,["presencePenalty"]);M!=null&&f(r,["presencePenalty"],M);const k=u(t,["frequencyPenalty"]);k!=null&&f(r,["frequencyPenalty"],k);const I=u(t,["seed"]);I!=null&&f(r,["seed"],I);const w=u(t,["responseMimeType"]);w!=null&&f(r,["responseMimeType"],w);const Y=u(t,["responseSchema"]);Y!=null&&f(r,["responseSchema"],Ac(Y));const D=u(t,["responseJsonSchema"]);if(D!=null&&f(r,["responseJsonSchema"],D),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const X=u(t,["safetySettings"]);if(l!==void 0&&X!=null){let ce=X;Array.isArray(ce)&&(ce=ce.map(Ge=>lb(Ge))),f(l,["safetySettings"],ce)}const W=u(t,["tools"]);if(l!==void 0&&W!=null){let ce=Kl(W);Array.isArray(ce)&&(ce=ce.map(Ge=>fb(jl(Ge)))),f(l,["tools"],ce)}const q=u(t,["toolConfig"]);if(l!==void 0&&q!=null&&f(l,["toolConfig"],cb(q)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Q=u(t,["cachedContent"]);l!==void 0&&Q!=null&&f(l,["cachedContent"],ei(i,Q));const ve=u(t,["responseModalities"]);ve!=null&&f(r,["responseModalities"],ve);const ne=u(t,["mediaResolution"]);ne!=null&&f(r,["mediaResolution"],ne);const $=u(t,["speechConfig"]);if($!=null&&f(r,["speechConfig"],Nc($)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const fe=u(t,["thinkingConfig"]);fe!=null&&f(r,["thinkingConfig"],fe);const de=u(t,["imageConfig"]);de!=null&&f(r,["imageConfig"],PE(de));const Se=u(t,["enableEnhancedCivicAnswers"]);if(Se!=null&&f(r,["enableEnhancedCivicAnswers"],Se),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function hE(i,t,l,a){const r={},c=u(t,["systemInstruction"]);l!==void 0&&c!=null&&f(l,["systemInstruction"],It(c));const m=u(t,["temperature"]);m!=null&&f(r,["temperature"],m);const g=u(t,["topP"]);g!=null&&f(r,["topP"],g);const y=u(t,["topK"]);y!=null&&f(r,["topK"],y);const h=u(t,["candidateCount"]);h!=null&&f(r,["candidateCount"],h);const x=u(t,["maxOutputTokens"]);x!=null&&f(r,["maxOutputTokens"],x);const T=u(t,["stopSequences"]);T!=null&&f(r,["stopSequences"],T);const _=u(t,["responseLogprobs"]);_!=null&&f(r,["responseLogprobs"],_);const b=u(t,["logprobs"]);b!=null&&f(r,["logprobs"],b);const M=u(t,["presencePenalty"]);M!=null&&f(r,["presencePenalty"],M);const k=u(t,["frequencyPenalty"]);k!=null&&f(r,["frequencyPenalty"],k);const I=u(t,["seed"]);I!=null&&f(r,["seed"],I);const w=u(t,["responseMimeType"]);w!=null&&f(r,["responseMimeType"],w);const Y=u(t,["responseSchema"]);Y!=null&&f(r,["responseSchema"],Ac(Y));const D=u(t,["responseJsonSchema"]);D!=null&&f(r,["responseJsonSchema"],D);const X=u(t,["routingConfig"]);X!=null&&f(r,["routingConfig"],X);const W=u(t,["modelSelectionConfig"]);W!=null&&f(r,["modelConfig"],W);const q=u(t,["safetySettings"]);if(l!==void 0&&q!=null){let oe=q;Array.isArray(oe)&&(oe=oe.map(_e=>_e)),f(l,["safetySettings"],oe)}const Q=u(t,["tools"]);if(l!==void 0&&Q!=null){let oe=Kl(Q);Array.isArray(oe)&&(oe=oe.map(_e=>qg(jl(_e)))),f(l,["tools"],oe)}const ve=u(t,["toolConfig"]);l!==void 0&&ve!=null&&f(l,["toolConfig"],ve);const ne=u(t,["labels"]);l!==void 0&&ne!=null&&f(l,["labels"],ne);const $=u(t,["cachedContent"]);l!==void 0&&$!=null&&f(l,["cachedContent"],ei(i,$));const fe=u(t,["responseModalities"]);fe!=null&&f(r,["responseModalities"],fe);const de=u(t,["mediaResolution"]);de!=null&&f(r,["mediaResolution"],de);const Se=u(t,["speechConfig"]);Se!=null&&f(r,["speechConfig"],Nc(Se));const ce=u(t,["audioTimestamp"]);ce!=null&&f(r,["audioTimestamp"],ce);const Ge=u(t,["thinkingConfig"]);Ge!=null&&f(r,["thinkingConfig"],Ge);const H=u(t,["imageConfig"]);if(H!=null&&f(r,["imageConfig"],OE(H)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const ee=u(t,["modelArmorConfig"]);return l!==void 0&&ee!=null&&f(l,["modelArmorConfig"],ee),r}function $h(i,t,l){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],qe(i,r));const c=u(t,["contents"]);if(c!=null){let g=fn(c);Array.isArray(g)&&(g=g.map(y=>Rs(y))),f(a,["contents"],g)}const m=u(t,["config"]);return m!=null&&f(a,["generationConfig"],pE(i,m,a)),a}function Qh(i,t,l){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],qe(i,r));const c=u(t,["contents"]);if(c!=null){let g=fn(c);Array.isArray(g)&&(g=g.map(y=>y)),f(a,["contents"],g)}const m=u(t,["config"]);return m!=null&&f(a,["generationConfig"],hE(i,m,a)),a}function Zh(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["candidates"]);if(r!=null){let h=r;Array.isArray(h)&&(h=h.map(x=>G1(x))),f(l,["candidates"],h)}const c=u(i,["modelVersion"]);c!=null&&f(l,["modelVersion"],c);const m=u(i,["promptFeedback"]);m!=null&&f(l,["promptFeedback"],m);const g=u(i,["responseId"]);g!=null&&f(l,["responseId"],g);const y=u(i,["usageMetadata"]);return y!=null&&f(l,["usageMetadata"],y),l}function Wh(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["candidates"]);if(r!=null){let x=r;Array.isArray(x)&&(x=x.map(T=>T)),f(l,["candidates"],x)}const c=u(i,["createTime"]);c!=null&&f(l,["createTime"],c);const m=u(i,["modelVersion"]);m!=null&&f(l,["modelVersion"],m);const g=u(i,["promptFeedback"]);g!=null&&f(l,["promptFeedback"],g);const y=u(i,["responseId"]);y!=null&&f(l,["responseId"],y);const h=u(i,["usageMetadata"]);return h!=null&&f(l,["usageMetadata"],h),l}function gE(i,t,l){const a={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=u(i,["numberOfImages"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const c=u(i,["aspectRatio"]);t!==void 0&&c!=null&&f(t,["parameters","aspectRatio"],c);const m=u(i,["guidanceScale"]);if(t!==void 0&&m!=null&&f(t,["parameters","guidanceScale"],m),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&f(t,["parameters","safetySetting"],g);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const h=u(i,["includeSafetyAttributes"]);t!==void 0&&h!=null&&f(t,["parameters","includeSafetyAttributes"],h);const x=u(i,["includeRaiReason"]);t!==void 0&&x!=null&&f(t,["parameters","includeRaiReason"],x);const T=u(i,["language"]);t!==void 0&&T!=null&&f(t,["parameters","language"],T);const _=u(i,["outputMimeType"]);t!==void 0&&_!=null&&f(t,["parameters","outputOptions","mimeType"],_);const b=u(i,["outputCompressionQuality"]);if(t!==void 0&&b!=null&&f(t,["parameters","outputOptions","compressionQuality"],b),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const M=u(i,["imageSize"]);if(t!==void 0&&M!=null&&f(t,["parameters","sampleImageSize"],M),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function yE(i,t,l){const a={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["negativePrompt"]);t!==void 0&&c!=null&&f(t,["parameters","negativePrompt"],c);const m=u(i,["numberOfImages"]);t!==void 0&&m!=null&&f(t,["parameters","sampleCount"],m);const g=u(i,["aspectRatio"]);t!==void 0&&g!=null&&f(t,["parameters","aspectRatio"],g);const y=u(i,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const h=u(i,["seed"]);t!==void 0&&h!=null&&f(t,["parameters","seed"],h);const x=u(i,["safetyFilterLevel"]);t!==void 0&&x!=null&&f(t,["parameters","safetySetting"],x);const T=u(i,["personGeneration"]);t!==void 0&&T!=null&&f(t,["parameters","personGeneration"],T);const _=u(i,["includeSafetyAttributes"]);t!==void 0&&_!=null&&f(t,["parameters","includeSafetyAttributes"],_);const b=u(i,["includeRaiReason"]);t!==void 0&&b!=null&&f(t,["parameters","includeRaiReason"],b);const M=u(i,["language"]);t!==void 0&&M!=null&&f(t,["parameters","language"],M);const k=u(i,["outputMimeType"]);t!==void 0&&k!=null&&f(t,["parameters","outputOptions","mimeType"],k);const I=u(i,["outputCompressionQuality"]);t!==void 0&&I!=null&&f(t,["parameters","outputOptions","compressionQuality"],I);const w=u(i,["addWatermark"]);t!==void 0&&w!=null&&f(t,["parameters","addWatermark"],w);const Y=u(i,["labels"]);t!==void 0&&Y!=null&&f(t,["labels"],Y);const D=u(i,["imageSize"]);t!==void 0&&D!=null&&f(t,["parameters","sampleImageSize"],D);const X=u(i,["enhancePrompt"]);return t!==void 0&&X!=null&&f(t,["parameters","enhancePrompt"],X),a}function vE(i,t,l){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],qe(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const m=u(t,["config"]);return m!=null&&gE(m,a),a}function xE(i,t,l){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],qe(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const m=u(t,["config"]);return m!=null&&yE(m,a),a}function SE(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(g=>kE(g))),f(l,["generatedImages"],m)}const c=u(i,["positivePromptSafetyAttributes"]);return c!=null&&f(l,["positivePromptSafetyAttributes"],Hg(c)),l}function TE(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let m=r;Array.isArray(m)&&(m=m.map(g=>Is(g))),f(l,["generatedImages"],m)}const c=u(i,["positivePromptSafetyAttributes"]);return c!=null&&f(l,["positivePromptSafetyAttributes"],Vg(c)),l}function _E(i,t,l){const a={},r=u(i,["numberOfVideos"]);if(t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=u(i,["durationSeconds"]);if(t!==void 0&&c!=null&&f(t,["parameters","durationSeconds"],c),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=u(i,["aspectRatio"]);t!==void 0&&m!=null&&f(t,["parameters","aspectRatio"],m);const g=u(i,["resolution"]);t!==void 0&&g!=null&&f(t,["parameters","resolution"],g);const y=u(i,["personGeneration"]);if(t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const h=u(i,["negativePrompt"]);t!==void 0&&h!=null&&f(t,["parameters","negativePrompt"],h);const x=u(i,["enhancePrompt"]);if(t!==void 0&&x!=null&&f(t,["parameters","enhancePrompt"],x),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const T=u(i,["lastFrame"]);t!==void 0&&T!=null&&f(t,["instances[0]","lastFrame"],ks(T));const _=u(i,["referenceImages"]);if(t!==void 0&&_!=null){let b=_;Array.isArray(b)&&(b=b.map(M=>bb(M))),f(t,["instances[0]","referenceImages"],b)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return a}function EE(i,t,l){const a={},r=u(i,["numberOfVideos"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const c=u(i,["outputGcsUri"]);t!==void 0&&c!=null&&f(t,["parameters","storageUri"],c);const m=u(i,["fps"]);t!==void 0&&m!=null&&f(t,["parameters","fps"],m);const g=u(i,["durationSeconds"]);t!==void 0&&g!=null&&f(t,["parameters","durationSeconds"],g);const y=u(i,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const h=u(i,["aspectRatio"]);t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h);const x=u(i,["resolution"]);t!==void 0&&x!=null&&f(t,["parameters","resolution"],x);const T=u(i,["personGeneration"]);t!==void 0&&T!=null&&f(t,["parameters","personGeneration"],T);const _=u(i,["pubsubTopic"]);t!==void 0&&_!=null&&f(t,["parameters","pubsubTopic"],_);const b=u(i,["negativePrompt"]);t!==void 0&&b!=null&&f(t,["parameters","negativePrompt"],b);const M=u(i,["enhancePrompt"]);t!==void 0&&M!=null&&f(t,["parameters","enhancePrompt"],M);const k=u(i,["generateAudio"]);t!==void 0&&k!=null&&f(t,["parameters","generateAudio"],k);const I=u(i,["lastFrame"]);t!==void 0&&I!=null&&f(t,["instances[0]","lastFrame"],xn(I));const w=u(i,["referenceImages"]);if(t!==void 0&&w!=null){let X=w;Array.isArray(X)&&(X=X.map(W=>Cb(W))),f(t,["instances[0]","referenceImages"],X)}const Y=u(i,["mask"]);t!==void 0&&Y!=null&&f(t,["instances[0]","mask"],Eb(Y));const D=u(i,["compressionQuality"]);return t!==void 0&&D!=null&&f(t,["parameters","compressionQuality"],D),a}function bE(i,t){const l={},a=u(i,["name"]);a!=null&&f(l,["name"],a);const r=u(i,["metadata"]);r!=null&&f(l,["metadata"],r);const c=u(i,["done"]);c!=null&&f(l,["done"],c);const m=u(i,["error"]);m!=null&&f(l,["error"],m);const g=u(i,["response","generateVideoResponse"]);return g!=null&&f(l,["response"],wE(g)),l}function CE(i,t){const l={},a=u(i,["name"]);a!=null&&f(l,["name"],a);const r=u(i,["metadata"]);r!=null&&f(l,["metadata"],r);const c=u(i,["done"]);c!=null&&f(l,["done"],c);const m=u(i,["error"]);m!=null&&f(l,["error"],m);const g=u(i,["response"]);return g!=null&&f(l,["response"],ME(g)),l}function AE(i,t,l){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],qe(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const m=u(t,["image"]);m!=null&&f(a,["instances[0]","image"],ks(m));const g=u(t,["video"]);g!=null&&f(a,["instances[0]","video"],Pg(g));const y=u(t,["source"]);y!=null&&RE(y,a);const h=u(t,["config"]);return h!=null&&_E(h,a),a}function NE(i,t,l){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],qe(i,r));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const m=u(t,["image"]);m!=null&&f(a,["instances[0]","image"],xn(m));const g=u(t,["video"]);g!=null&&f(a,["instances[0]","video"],Og(g));const y=u(t,["source"]);y!=null&&IE(y,a);const h=u(t,["config"]);return h!=null&&EE(h,a),a}function wE(i,t){const l={},a=u(i,["generatedSamples"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(g=>UE(g))),f(l,["generatedVideos"],m)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&f(l,["raiMediaFilteredCount"],r);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&f(l,["raiMediaFilteredReasons"],c),l}function ME(i,t){const l={},a=u(i,["videos"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(g=>zE(g))),f(l,["generatedVideos"],m)}const r=u(i,["raiMediaFilteredCount"]);r!=null&&f(l,["raiMediaFilteredCount"],r);const c=u(i,["raiMediaFilteredReasons"]);return c!=null&&f(l,["raiMediaFilteredReasons"],c),l}function RE(i,t,l){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],ks(c));const m=u(i,["video"]);return t!==void 0&&m!=null&&f(t,["instances[0]","video"],Pg(m)),a}function IE(i,t,l){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],xn(c));const m=u(i,["video"]);return t!==void 0&&m!=null&&f(t,["instances[0]","video"],Og(m)),a}function kE(i,t){const l={},a=u(i,["_self"]);a!=null&&f(l,["image"],BE(a));const r=u(i,["raiFilteredReason"]);r!=null&&f(l,["raiFilteredReason"],r);const c=u(i,["_self"]);return c!=null&&f(l,["safetyAttributes"],Hg(c)),l}function Is(i,t){const l={},a=u(i,["_self"]);a!=null&&f(l,["image"],Gg(a));const r=u(i,["raiFilteredReason"]);r!=null&&f(l,["raiFilteredReason"],r);const c=u(i,["_self"]);c!=null&&f(l,["safetyAttributes"],Vg(c));const m=u(i,["prompt"]);return m!=null&&f(l,["enhancedPrompt"],m),l}function DE(i,t){const l={},a=u(i,["_self"]);a!=null&&f(l,["mask"],Gg(a));const r=u(i,["labels"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>m)),f(l,["labels"],c)}return l}function UE(i,t){const l={},a=u(i,["video"]);return a!=null&&f(l,["video"],Tb(a)),l}function zE(i,t){const l={},a=u(i,["_self"]);return a!=null&&f(l,["video"],_b(a)),l}function LE(i,t){const l={},a=u(i,["modelSelectionConfig"]);a!=null&&f(l,["modelConfig"],a);const r=u(i,["responseJsonSchema"]);r!=null&&f(l,["responseJsonSchema"],r);const c=u(i,["audioTimestamp"]);c!=null&&f(l,["audioTimestamp"],c);const m=u(i,["candidateCount"]);m!=null&&f(l,["candidateCount"],m);const g=u(i,["enableAffectiveDialog"]);g!=null&&f(l,["enableAffectiveDialog"],g);const y=u(i,["frequencyPenalty"]);y!=null&&f(l,["frequencyPenalty"],y);const h=u(i,["logprobs"]);h!=null&&f(l,["logprobs"],h);const x=u(i,["maxOutputTokens"]);x!=null&&f(l,["maxOutputTokens"],x);const T=u(i,["mediaResolution"]);T!=null&&f(l,["mediaResolution"],T);const _=u(i,["presencePenalty"]);_!=null&&f(l,["presencePenalty"],_);const b=u(i,["responseLogprobs"]);b!=null&&f(l,["responseLogprobs"],b);const M=u(i,["responseMimeType"]);M!=null&&f(l,["responseMimeType"],M);const k=u(i,["responseModalities"]);k!=null&&f(l,["responseModalities"],k);const I=u(i,["responseSchema"]);I!=null&&f(l,["responseSchema"],I);const w=u(i,["routingConfig"]);w!=null&&f(l,["routingConfig"],w);const Y=u(i,["seed"]);Y!=null&&f(l,["seed"],Y);const D=u(i,["speechConfig"]);D!=null&&f(l,["speechConfig"],D);const X=u(i,["stopSequences"]);X!=null&&f(l,["stopSequences"],X);const W=u(i,["temperature"]);W!=null&&f(l,["temperature"],W);const q=u(i,["thinkingConfig"]);q!=null&&f(l,["thinkingConfig"],q);const Q=u(i,["topK"]);Q!=null&&f(l,["topK"],Q);const ve=u(i,["topP"]);if(ve!=null&&f(l,["topP"],ve),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return l}function GE(i,t,l){const a={},r=u(t,["model"]);return r!=null&&f(a,["_url","name"],qe(i,r)),a}function HE(i,t,l){const a={},r=u(t,["model"]);return r!=null&&f(a,["_url","name"],qe(i,r)),a}function VE(i,t){const l={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=u(i,["enableWidget"]);return a!=null&&f(l,["enableWidget"],a),l}function qE(i,t){const l={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const a=u(i,["timeRangeFilter"]);return a!=null&&f(l,["timeRangeFilter"],a),l}function PE(i,t){const l={},a=u(i,["aspectRatio"]);a!=null&&f(l,["aspectRatio"],a);const r=u(i,["imageSize"]);if(r!=null&&f(l,["imageSize"],r),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return l}function OE(i,t){const l={},a=u(i,["aspectRatio"]);a!=null&&f(l,["aspectRatio"],a);const r=u(i,["imageSize"]);r!=null&&f(l,["imageSize"],r);const c=u(i,["personGeneration"]);c!=null&&f(l,["personGeneration"],c);const m=u(i,["outputMimeType"]);m!=null&&f(l,["imageOutputOptions","mimeType"],m);const g=u(i,["outputCompressionQuality"]);return g!=null&&f(l,["imageOutputOptions","compressionQuality"],g),l}function BE(i,t){const l={},a=u(i,["bytesBase64Encoded"]);a!=null&&f(l,["imageBytes"],ki(a));const r=u(i,["mimeType"]);return r!=null&&f(l,["mimeType"],r),l}function Gg(i,t){const l={},a=u(i,["gcsUri"]);a!=null&&f(l,["gcsUri"],a);const r=u(i,["bytesBase64Encoded"]);r!=null&&f(l,["imageBytes"],ki(r));const c=u(i,["mimeType"]);return c!=null&&f(l,["mimeType"],c),l}function ks(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=u(i,["imageBytes"]);a!=null&&f(l,["bytesBase64Encoded"],ki(a));const r=u(i,["mimeType"]);return r!=null&&f(l,["mimeType"],r),l}function xn(i,t){const l={},a=u(i,["gcsUri"]);a!=null&&f(l,["gcsUri"],a);const r=u(i,["imageBytes"]);r!=null&&f(l,["bytesBase64Encoded"],ki(r));const c=u(i,["mimeType"]);return c!=null&&f(l,["mimeType"],c),l}function FE(i,t,l,a){const r={},c=u(t,["pageSize"]);l!==void 0&&c!=null&&f(l,["_query","pageSize"],c);const m=u(t,["pageToken"]);l!==void 0&&m!=null&&f(l,["_query","pageToken"],m);const g=u(t,["filter"]);l!==void 0&&g!=null&&f(l,["_query","filter"],g);const y=u(t,["queryBase"]);return l!==void 0&&y!=null&&f(l,["_url","models_url"],Rg(i,y)),r}function YE(i,t,l,a){const r={},c=u(t,["pageSize"]);l!==void 0&&c!=null&&f(l,["_query","pageSize"],c);const m=u(t,["pageToken"]);l!==void 0&&m!=null&&f(l,["_query","pageToken"],m);const g=u(t,["filter"]);l!==void 0&&g!=null&&f(l,["_query","filter"],g);const y=u(t,["queryBase"]);return l!==void 0&&y!=null&&f(l,["_url","models_url"],Rg(i,y)),r}function JE(i,t,l){const a={},r=u(t,["config"]);return r!=null&&FE(i,r,a),a}function jE(i,t,l){const a={},r=u(t,["config"]);return r!=null&&YE(i,r,a),a}function KE(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const c=u(i,["_self"]);if(c!=null){let m=Ig(c);Array.isArray(m)&&(m=m.map(g=>cc(g))),f(l,["models"],m)}return l}function XE(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const c=u(i,["_self"]);if(c!=null){let m=Ig(c);Array.isArray(m)&&(m=m.map(g=>fc(g))),f(l,["models"],m)}return l}function $E(i,t){const l={},a=u(i,["maskMode"]);a!=null&&f(l,["maskMode"],a);const r=u(i,["segmentationClasses"]);r!=null&&f(l,["maskClasses"],r);const c=u(i,["maskDilation"]);return c!=null&&f(l,["dilation"],c),l}function cc(i,t){const l={},a=u(i,["name"]);a!=null&&f(l,["name"],a);const r=u(i,["displayName"]);r!=null&&f(l,["displayName"],r);const c=u(i,["description"]);c!=null&&f(l,["description"],c);const m=u(i,["version"]);m!=null&&f(l,["version"],m);const g=u(i,["_self"]);g!=null&&f(l,["tunedModelInfo"],db(g));const y=u(i,["inputTokenLimit"]);y!=null&&f(l,["inputTokenLimit"],y);const h=u(i,["outputTokenLimit"]);h!=null&&f(l,["outputTokenLimit"],h);const x=u(i,["supportedGenerationMethods"]);x!=null&&f(l,["supportedActions"],x);const T=u(i,["temperature"]);T!=null&&f(l,["temperature"],T);const _=u(i,["maxTemperature"]);_!=null&&f(l,["maxTemperature"],_);const b=u(i,["topP"]);b!=null&&f(l,["topP"],b);const M=u(i,["topK"]);M!=null&&f(l,["topK"],M);const k=u(i,["thinking"]);return k!=null&&f(l,["thinking"],k),l}function fc(i,t){const l={},a=u(i,["name"]);a!=null&&f(l,["name"],a);const r=u(i,["displayName"]);r!=null&&f(l,["displayName"],r);const c=u(i,["description"]);c!=null&&f(l,["description"],c);const m=u(i,["versionId"]);m!=null&&f(l,["version"],m);const g=u(i,["deployedModels"]);if(g!=null){let _=g;Array.isArray(_)&&(_=_.map(b=>uE(b))),f(l,["endpoints"],_)}const y=u(i,["labels"]);y!=null&&f(l,["labels"],y);const h=u(i,["_self"]);h!=null&&f(l,["tunedModelInfo"],mb(h));const x=u(i,["defaultCheckpointId"]);x!=null&&f(l,["defaultCheckpointId"],x);const T=u(i,["checkpoints"]);if(T!=null){let _=T;Array.isArray(_)&&(_=_.map(b=>b)),f(l,["checkpoints"],_)}return l}function QE(i,t){const l={},a=u(i,["mediaResolution"]);a!=null&&f(l,["mediaResolution"],a);const r=u(i,["codeExecutionResult"]);r!=null&&f(l,["codeExecutionResult"],r);const c=u(i,["executableCode"]);c!=null&&f(l,["executableCode"],c);const m=u(i,["fileData"]);m!=null&&f(l,["fileData"],cE(m));const g=u(i,["functionCall"]);g!=null&&f(l,["functionCall"],fE(g));const y=u(i,["functionResponse"]);y!=null&&f(l,["functionResponse"],y);const h=u(i,["inlineData"]);h!=null&&f(l,["inlineData"],L1(h));const x=u(i,["text"]);x!=null&&f(l,["text"],x);const T=u(i,["thought"]);T!=null&&f(l,["thought"],T);const _=u(i,["thoughtSignature"]);_!=null&&f(l,["thoughtSignature"],_);const b=u(i,["videoMetadata"]);return b!=null&&f(l,["videoMetadata"],b),l}function ZE(i,t){const l={},a=u(i,["productImage"]);return a!=null&&f(l,["image"],xn(a)),l}function WE(i,t,l){const a={},r=u(i,["numberOfImages"]);t!==void 0&&r!=null&&f(t,["parameters","sampleCount"],r);const c=u(i,["baseSteps"]);t!==void 0&&c!=null&&f(t,["parameters","baseSteps"],c);const m=u(i,["outputGcsUri"]);t!==void 0&&m!=null&&f(t,["parameters","storageUri"],m);const g=u(i,["seed"]);t!==void 0&&g!=null&&f(t,["parameters","seed"],g);const y=u(i,["safetyFilterLevel"]);t!==void 0&&y!=null&&f(t,["parameters","safetySetting"],y);const h=u(i,["personGeneration"]);t!==void 0&&h!=null&&f(t,["parameters","personGeneration"],h);const x=u(i,["addWatermark"]);t!==void 0&&x!=null&&f(t,["parameters","addWatermark"],x);const T=u(i,["outputMimeType"]);t!==void 0&&T!=null&&f(t,["parameters","outputOptions","mimeType"],T);const _=u(i,["outputCompressionQuality"]);t!==void 0&&_!=null&&f(t,["parameters","outputOptions","compressionQuality"],_);const b=u(i,["enhancePrompt"]);t!==void 0&&b!=null&&f(t,["parameters","enhancePrompt"],b);const M=u(i,["labels"]);return t!==void 0&&M!=null&&f(t,["labels"],M),a}function eb(i,t,l){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],qe(i,r));const c=u(t,["source"]);c!=null&&nb(c,a);const m=u(t,["config"]);return m!=null&&WE(m,a),a}function tb(i,t){const l={},a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>Is(c))),f(l,["generatedImages"],r)}return l}function nb(i,t,l){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["personImage"]);t!==void 0&&c!=null&&f(t,["instances[0]","personImage","image"],xn(c));const m=u(i,["productImages"]);if(t!==void 0&&m!=null){let g=m;Array.isArray(g)&&(g=g.map(y=>ZE(y))),f(t,["instances[0]","productImages"],g)}return a}function ib(i,t){const l={},a=u(i,["referenceImage"]);a!=null&&f(l,["referenceImage"],xn(a));const r=u(i,["referenceId"]);r!=null&&f(l,["referenceId"],r);const c=u(i,["referenceType"]);c!=null&&f(l,["referenceType"],c);const m=u(i,["maskImageConfig"]);m!=null&&f(l,["maskImageConfig"],$E(m));const g=u(i,["controlImageConfig"]);g!=null&&f(l,["controlImageConfig"],B1(g));const y=u(i,["styleImageConfig"]);y!=null&&f(l,["styleImageConfig"],y);const h=u(i,["subjectImageConfig"]);return h!=null&&f(l,["subjectImageConfig"],h),l}function Hg(i,t){const l={},a=u(i,["safetyAttributes","categories"]);a!=null&&f(l,["categories"],a);const r=u(i,["safetyAttributes","scores"]);r!=null&&f(l,["scores"],r);const c=u(i,["contentType"]);return c!=null&&f(l,["contentType"],c),l}function Vg(i,t){const l={},a=u(i,["safetyAttributes","categories"]);a!=null&&f(l,["categories"],a);const r=u(i,["safetyAttributes","scores"]);r!=null&&f(l,["scores"],r);const c=u(i,["contentType"]);return c!=null&&f(l,["contentType"],c),l}function lb(i,t){const l={},a=u(i,["category"]);if(a!=null&&f(l,["category"],a),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=u(i,["threshold"]);return r!=null&&f(l,["threshold"],r),l}function ob(i,t){const l={},a=u(i,["image"]);return a!=null&&f(l,["image"],xn(a)),l}function ab(i,t,l){const a={},r=u(i,["mode"]);t!==void 0&&r!=null&&f(t,["parameters","mode"],r);const c=u(i,["maxPredictions"]);t!==void 0&&c!=null&&f(t,["parameters","maxPredictions"],c);const m=u(i,["confidenceThreshold"]);t!==void 0&&m!=null&&f(t,["parameters","confidenceThreshold"],m);const g=u(i,["maskDilation"]);t!==void 0&&g!=null&&f(t,["parameters","maskDilation"],g);const y=u(i,["binaryColorThreshold"]);t!==void 0&&y!=null&&f(t,["parameters","binaryColorThreshold"],y);const h=u(i,["labels"]);return t!==void 0&&h!=null&&f(t,["labels"],h),a}function sb(i,t,l){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],qe(i,r));const c=u(t,["source"]);c!=null&&ub(c,a);const m=u(t,["config"]);return m!=null&&ab(m,a),a}function rb(i,t){const l={},a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>DE(c))),f(l,["generatedMasks"],r)}return l}function ub(i,t,l){const a={},r=u(i,["prompt"]);t!==void 0&&r!=null&&f(t,["instances[0]","prompt"],r);const c=u(i,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],xn(c));const m=u(i,["scribbleImage"]);return t!==void 0&&m!=null&&f(t,["instances[0]","scribble"],ob(m)),a}function cb(i,t){const l={},a=u(i,["retrievalConfig"]);a!=null&&f(l,["retrievalConfig"],a);const r=u(i,["functionCallingConfig"]);return r!=null&&f(l,["functionCallingConfig"],dE(r)),l}function fb(i,t){const l={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(i,["computerUse"]);a!=null&&f(l,["computerUse"],a);const r=u(i,["fileSearch"]);r!=null&&f(l,["fileSearch"],r);const c=u(i,["codeExecution"]);if(c!=null&&f(l,["codeExecution"],c),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const m=u(i,["functionDeclarations"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(_=>_)),f(l,["functionDeclarations"],T)}const g=u(i,["googleMaps"]);g!=null&&f(l,["googleMaps"],VE(g));const y=u(i,["googleSearch"]);y!=null&&f(l,["googleSearch"],qE(y));const h=u(i,["googleSearchRetrieval"]);h!=null&&f(l,["googleSearchRetrieval"],h);const x=u(i,["urlContext"]);return x!=null&&f(l,["urlContext"],x),l}function qg(i,t){const l={},a=u(i,["retrieval"]);a!=null&&f(l,["retrieval"],a);const r=u(i,["computerUse"]);if(r!=null&&f(l,["computerUse"],r),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=u(i,["codeExecution"]);c!=null&&f(l,["codeExecution"],c);const m=u(i,["enterpriseWebSearch"]);m!=null&&f(l,["enterpriseWebSearch"],m);const g=u(i,["functionDeclarations"]);if(g!=null){let _=g;Array.isArray(_)&&(_=_.map(b=>mE(b))),f(l,["functionDeclarations"],_)}const y=u(i,["googleMaps"]);y!=null&&f(l,["googleMaps"],y);const h=u(i,["googleSearch"]);h!=null&&f(l,["googleSearch"],h);const x=u(i,["googleSearchRetrieval"]);x!=null&&f(l,["googleSearchRetrieval"],x);const T=u(i,["urlContext"]);return T!=null&&f(l,["urlContext"],T),l}function db(i,t){const l={},a=u(i,["baseModel"]);a!=null&&f(l,["baseModel"],a);const r=u(i,["createTime"]);r!=null&&f(l,["createTime"],r);const c=u(i,["updateTime"]);return c!=null&&f(l,["updateTime"],c),l}function mb(i,t){const l={},a=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&f(l,["baseModel"],a);const r=u(i,["createTime"]);r!=null&&f(l,["createTime"],r);const c=u(i,["updateTime"]);return c!=null&&f(l,["updateTime"],c),l}function pb(i,t,l){const a={},r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["description"]);t!==void 0&&c!=null&&f(t,["description"],c);const m=u(i,["defaultCheckpointId"]);return t!==void 0&&m!=null&&f(t,["defaultCheckpointId"],m),a}function hb(i,t,l){const a={},r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["description"]);t!==void 0&&c!=null&&f(t,["description"],c);const m=u(i,["defaultCheckpointId"]);return t!==void 0&&m!=null&&f(t,["defaultCheckpointId"],m),a}function gb(i,t,l){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","name"],qe(i,r));const c=u(t,["config"]);return c!=null&&pb(c,a),a}function yb(i,t,l){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],qe(i,r));const c=u(t,["config"]);return c!=null&&hb(c,a),a}function vb(i,t,l){const a={},r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&f(t,["parameters","storageUri"],r);const c=u(i,["safetyFilterLevel"]);t!==void 0&&c!=null&&f(t,["parameters","safetySetting"],c);const m=u(i,["personGeneration"]);t!==void 0&&m!=null&&f(t,["parameters","personGeneration"],m);const g=u(i,["includeRaiReason"]);t!==void 0&&g!=null&&f(t,["parameters","includeRaiReason"],g);const y=u(i,["outputMimeType"]);t!==void 0&&y!=null&&f(t,["parameters","outputOptions","mimeType"],y);const h=u(i,["outputCompressionQuality"]);t!==void 0&&h!=null&&f(t,["parameters","outputOptions","compressionQuality"],h);const x=u(i,["enhanceInputImage"]);t!==void 0&&x!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],x);const T=u(i,["imagePreservationFactor"]);t!==void 0&&T!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],T);const _=u(i,["labels"]);t!==void 0&&_!=null&&f(t,["labels"],_);const b=u(i,["numberOfImages"]);t!==void 0&&b!=null&&f(t,["parameters","sampleCount"],b);const M=u(i,["mode"]);return t!==void 0&&M!=null&&f(t,["parameters","mode"],M),a}function xb(i,t,l){const a={},r=u(t,["model"]);r!=null&&f(a,["_url","model"],qe(i,r));const c=u(t,["image"]);c!=null&&f(a,["instances[0]","image"],xn(c));const m=u(t,["upscaleFactor"]);m!=null&&f(a,["parameters","upscaleConfig","upscaleFactor"],m);const g=u(t,["config"]);return g!=null&&vb(g,a),a}function Sb(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["predictions"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>Is(m))),f(l,["generatedImages"],c)}return l}function Tb(i,t){const l={},a=u(i,["uri"]);a!=null&&f(l,["uri"],a);const r=u(i,["encodedVideo"]);r!=null&&f(l,["videoBytes"],ki(r));const c=u(i,["encoding"]);return c!=null&&f(l,["mimeType"],c),l}function _b(i,t){const l={},a=u(i,["gcsUri"]);a!=null&&f(l,["uri"],a);const r=u(i,["bytesBase64Encoded"]);r!=null&&f(l,["videoBytes"],ki(r));const c=u(i,["mimeType"]);return c!=null&&f(l,["mimeType"],c),l}function Eb(i,t){const l={},a=u(i,["image"]);a!=null&&f(l,["_self"],xn(a));const r=u(i,["maskMode"]);return r!=null&&f(l,["maskMode"],r),l}function bb(i,t){const l={},a=u(i,["image"]);a!=null&&f(l,["image"],ks(a));const r=u(i,["referenceType"]);return r!=null&&f(l,["referenceType"],r),l}function Cb(i,t){const l={},a=u(i,["image"]);a!=null&&f(l,["image"],xn(a));const r=u(i,["referenceType"]);return r!=null&&f(l,["referenceType"],r),l}function Pg(i,t){const l={},a=u(i,["uri"]);a!=null&&f(l,["uri"],a);const r=u(i,["videoBytes"]);r!=null&&f(l,["encodedVideo"],ki(r));const c=u(i,["mimeType"]);return c!=null&&f(l,["encoding"],c),l}function Og(i,t){const l={},a=u(i,["uri"]);a!=null&&f(l,["gcsUri"],a);const r=u(i,["videoBytes"]);r!=null&&f(l,["bytesBase64Encoded"],ki(r));const c=u(i,["mimeType"]);return c!=null&&f(l,["mimeType"],c),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ab(i,t){const l={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&f(t,["displayName"],a),l}function Nb(i){const t={},l=u(i,["config"]);return l!=null&&Ab(l,t),t}function wb(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),l}function Mb(i){const t={},l=u(i,["name"]);l!=null&&f(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&wb(a,t),t}function Rb(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","name"],l),t}function Ib(i,t){const l={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(m=>m)),f(t,["customMetadata"],c)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&f(t,["chunkingConfig"],r),l}function kb(i){const t={},l=u(i,["name"]);l!=null&&f(t,["name"],l);const a=u(i,["metadata"]);a!=null&&f(t,["metadata"],a);const r=u(i,["done"]);r!=null&&f(t,["done"],r);const c=u(i,["error"]);c!=null&&f(t,["error"],c);const m=u(i,["response"]);return m!=null&&f(t,["response"],Ub(m)),t}function Db(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&f(t,["_url","file_search_store_name"],l);const a=u(i,["fileName"]);a!=null&&f(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&Ib(r,t),t}function Ub(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["parent"]);a!=null&&f(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&f(t,["documentName"],r),t}function zb(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function Lb(i){const t={},l=u(i,["config"]);return l!=null&&zb(l,t),t}function Gb(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>m)),f(t,["fileSearchStores"],c)}return t}function Bg(i,t){const l={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&f(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&f(t,["displayName"],r);const c=u(i,["customMetadata"]);if(t!==void 0&&c!=null){let g=c;Array.isArray(g)&&(g=g.map(y=>y)),f(t,["customMetadata"],g)}const m=u(i,["chunkingConfig"]);return t!==void 0&&m!=null&&f(t,["chunkingConfig"],m),l}function Hb(i){const t={},l=u(i,["fileSearchStoreName"]);l!=null&&f(t,["_url","file_search_store_name"],l);const a=u(i,["config"]);return a!=null&&Bg(a,t),t}function Vb(i){const t={},l=u(i,["sdkHttpResponse"]);return l!=null&&f(t,["sdkHttpResponse"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qb="Content-Type",Pb="X-Server-Timeout",Ob="User-Agent",dc="x-goog-api-client",Bb="1.41.0",Fb=`google-genai-sdk/${Bb}`,Yb="v1beta1",Jb="v1beta",jb=5,Kb=[408,429,500,502,503,504];class Xb{constructor(t){var l,a,r;this.clientOptions=Object.assign({},t),this.customBaseUrl=(l=t.httpOptions)===null||l===void 0?void 0:l.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const c={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const g=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!g?(c.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?c.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(c.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),c.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:Yb}else{if(!this.clientOptions.apiKey)throw new Qo({message:"API key must be set when using the Gemini API.",status:403});c.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:Jb,c.baseUrl="https://generativelanguage.googleapis.com/"}c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),l=new URL(t);return l.protocol=l.protocol=="http:"?"ws":"wss",l.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,l,a){const r=[this.getRequestUrlInternal(l)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t,l){return!(l.baseUrl&&l.baseUrlResourceScope===ac.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,l),r=this.constructUrl(t.path,l,a);if(t.queryParams)for(const[m,g]of Object.entries(t.queryParams))r.searchParams.append(m,String(g));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,l,r.toString(),t.abortSignal),this.unaryApiCall(r,c,t.httpMethod)}patchHttpOptions(t,l){const a=JSON.parse(JSON.stringify(t));for(const[r,c]of Object.entries(l))typeof c=="object"?a[r]=Object.assign(Object.assign({},a[r]),c):c!==void 0&&(a[r]=c);return a}async requestStream(t){let l=this.clientOptions.httpOptions;t.httpOptions&&(l=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,l),r=this.constructUrl(t.path,l,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,l,r.toString(),t.abortSignal),this.streamApiCall(r,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,l,a,r){if(l&&l.timeout||r){const c=new AbortController,m=c.signal;if(l.timeout&&(l==null?void 0:l.timeout)>0){const g=setTimeout(()=>c.abort(),l.timeout);g&&typeof g.unref=="function"&&g.unref()}r&&r.addEventListener("abort",()=>{c.abort()}),t.signal=m}return l&&l.extraBody!==null&&$b(t,l.extraBody),t.headers=await this.getHeadersInternal(l,a),t}async unaryApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await eg(r),new sc(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,l,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},l),{method:a})).then(async r=>(await eg(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return yn(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),c=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let m="";const g="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:h,value:x}=yield Ee(r.read());if(h){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=c.decode(x,{stream:!0});try{const M=JSON.parse(T);if("error"in M){const k=JSON.parse(JSON.stringify(M.error)),I=k.status,w=k.code,Y=`got status: ${I}. ${JSON.stringify(M)}`;if(w>=400&&w<600)throw new Qo({message:Y,status:w})}}catch(M){if(M.name==="ApiError")throw M}m+=T;let _=-1,b=0;for(;;){_=-1,b=0;for(const I of y){const w=m.indexOf(I);w!==-1&&(_===-1||w<_)&&(_=w,b=I.length)}if(_===-1)break;const M=m.substring(0,_);m=m.substring(_+b);const k=M.trim();if(k.startsWith(g)){const I=k.substring(g.length).trim();try{const w=new Response(I,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield Ee(new sc(w))}catch(w){throw new Error(`exception parsing stream chunk ${I}. ${w}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,l){var a;if(!this.clientOptions.httpOptions||!this.clientOptions.httpOptions.retryOptions)return fetch(t,l);const r=this.clientOptions.httpOptions.retryOptions;return VS(async()=>{const m=await fetch(t,l);if(m.ok)return m;throw Kb.includes(m.status)?new Error(`Retryable HTTP Error: ${m.statusText}`):new Tg(`Non-retryable exception ${m.statusText} sending request`)},{retries:((a=r.attempts)!==null&&a!==void 0?a:jb)-1})}getDefaultHeaders(){const t={},l=Fb+" "+this.clientOptions.userAgentExtra;return t[Ob]=l,t[dc]=l,t[qb]="application/json",t}async getHeadersInternal(t,l){const a=new Headers;if(t&&t.headers){for(const[r,c]of Object.entries(t.headers))a.append(r,c);t.timeout&&t.timeout>0&&a.append(Pb,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,l),a}getFileName(t){var l;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(l=a.split(/[/\\]/).pop())!==null&&l!==void 0?l:""),a}async uploadFile(t,l){var a;const r={};l!=null&&(r.mimeType=l.mimeType,r.name=l.name,r.displayName=l.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const c=this.clientOptions.uploader,m=await c.stat(t);r.sizeBytes=String(m.size);const g=(a=l==null?void 0:l.mimeType)!==null&&a!==void 0?a:m.type;if(g===void 0||g==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=g;const y={file:r},h=this.getFileName(t),x=le("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(x,r.sizeBytes,r.mimeType,h,y,l==null?void 0:l.httpOptions);return c.upload(t,T,this)}async uploadFileToFileSearchStore(t,l,a){var r;const c=this.clientOptions.uploader,m=await c.stat(l),g=String(m.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:m.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const h=`upload/v1beta/${t}:uploadToFileSearchStore`,x=this.getFileName(l),T={};a!=null&&Bg(a,T);const _=await this.fetchUploadUrl(h,g,y,x,T,a==null?void 0:a.httpOptions);return c.uploadToFileSearchStore(l,_,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,l,a,r,c,m){var g;let y={};m?y=m:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${l}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const h=await this.request({path:t,body:JSON.stringify(c),httpMethod:"POST",httpOptions:y});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const x=(g=h==null?void 0:h.headers)===null||g===void 0?void 0:g["x-goog-upload-url"];if(x===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return x}}async function eg(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const l=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw l>=400&&l<600?new Qo({message:r,status:l}):new Error(r)}}function $b(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let l={};if(typeof i.body=="string"&&i.body.length>0)try{const c=JSON.parse(i.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))l=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(c,m){const g=Object.assign({},c);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const h=m[y],x=g[y];h&&typeof h=="object"&&!Array.isArray(h)&&x&&typeof x=="object"&&!Array.isArray(x)?g[y]=a(x,h):(x&&h&&typeof x!=typeof h&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof x}, New type: ${typeof h}. Overwriting.`),g[y]=h)}return g}const r=a(l,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qb="mcp_used/unknown";let Zb=!1;function Fg(i){for(const t of i)if(Wb(t)||typeof t=="object"&&"inputSchema"in t)return!0;return Zb}function Yg(i){var t;const l=(t=i[dc])!==null&&t!==void 0?t:"";i[dc]=(l+` ${Qb}`).trimStart()}function Wb(i){return i!==null&&typeof i=="object"&&i instanceof Mc}function eC(i){return yn(this,arguments,function*(l,a=100){let r,c=0;for(;c<a;){const m=yield Ee(l.listTools({cursor:r}));for(const g of m.tools)yield yield Ee(g),c++;if(!m.nextCursor)break;r=m.nextCursor}})}class Mc{constructor(t=[],l){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=l}static create(t,l){return new Mc(t,l)}async initialize(){var t,l,a,r;if(this.mcpTools.length>0)return;const c={},m=[];for(const x of this.mcpClients)try{for(var g=!0,y=(l=void 0,vn(eC(x))),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const T=r;m.push(T);const _=T.name;if(c[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);c[_]=x}}catch(T){l={error:T}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}this.mcpTools=m,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),NT(this.mcpTools,this.config)}async callTool(t){await this.initialize();const l=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const m=await r.callTool({name:a.name,arguments:a.args},void 0,c);l.push({functionResponse:{name:a.name,response:m.isError?{error:m}:m}})}return l}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function tC(i,t,l){const a=new xT;let r;l.data instanceof Blob?r=JSON.parse(await l.data.text()):r=JSON.parse(l.data),Object.assign(a,r),t(a)}class nC{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a}async connect(t){var l,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),m=oC(this.apiClient.getDefaultHeaders()),g=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${g}`;let h=()=>{};const x=new Promise(D=>{h=D}),T=t.callbacks,_=function(){h({})},b=this.apiClient,M={onopen:_,onmessage:D=>{tC(b,T.onmessage,D)},onerror:(l=T==null?void 0:T.onerror)!==null&&l!==void 0?l:function(D){},onclose:(a=T==null?void 0:T.onclose)!==null&&a!==void 0?a:function(D){}},k=this.webSocketFactory.create(y,lC(m),M);k.connect(),await x;const Y={setup:{model:qe(this.apiClient,t.model)}};return k.send(JSON.stringify(Y)),new iC(k,this.apiClient)}}class iC{constructor(t,l){this.conn=t,this.apiClient=l}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const l=A1(t);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const l=C1(t);this.conn.send(JSON.stringify(l))}sendPlaybackControl(t){const l={playbackControl:t};this.conn.send(JSON.stringify(l))}play(){this.sendPlaybackControl(Bl.PLAY)}pause(){this.sendPlaybackControl(Bl.PAUSE)}stop(){this.sendPlaybackControl(Bl.STOP)}resetContext(){this.sendPlaybackControl(Bl.RESET_CONTEXT)}close(){this.conn.close()}}function lC(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function oC(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const aC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function sC(i,t,l){const a=new vT;let r;l.data instanceof Blob?r=await l.data.text():l.data instanceof ArrayBuffer?r=new TextDecoder().decode(l.data):r=l.data;const c=JSON.parse(r);if(i.isVertexAI()){const m=M1(c);Object.assign(a,m)}else Object.assign(a,c);t(a)}class rC{constructor(t,l,a){this.apiClient=t,this.auth=l,this.webSocketFactory=a,this.music=new nC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var l,a,r,c,m,g;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),h=this.apiClient.getApiVersion();let x;const T=this.apiClient.getHeaders();t.config&&t.config.tools&&Fg(t.config.tools)&&Yg(T);const _=dC(T);if(this.apiClient.isVertexAI()){const ne=this.apiClient.getProject(),$=this.apiClient.getLocation(),fe=this.apiClient.getApiKey(),de=!!ne&&!!$||!!fe;this.apiClient.getCustomBaseUrl()&&!de?x=y:(x=`${y}/ws/google.cloud.aiplatform.${h}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,x))}else{const ne=this.apiClient.getApiKey();let $="BidiGenerateContent",fe="key";ne!=null&&ne.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),h!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),$="BidiGenerateContentConstrained",fe="access_token"),x=`${y}/ws/google.ai.generativelanguage.${h}.GenerativeService.${$}?${fe}=${ne}`}let b=()=>{};const M=new Promise(ne=>{b=ne}),k=t.callbacks,I=function(){var ne;(ne=k==null?void 0:k.onopen)===null||ne===void 0||ne.call(k),b({})},w=this.apiClient,Y={onopen:I,onmessage:ne=>{sC(w,k.onmessage,ne)},onerror:(l=k==null?void 0:k.onerror)!==null&&l!==void 0?l:function(ne){},onclose:(a=k==null?void 0:k.onclose)!==null&&a!==void 0?a:function(ne){}},D=this.webSocketFactory.create(x,fC(_),Y);D.connect(),await M;let X=qe(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&X.startsWith("publishers/")){const ne=this.apiClient.getProject(),$=this.apiClient.getLocation();ne&&$&&(X=`projects/${ne}/locations/${$}/`+X)}let W={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[bs.AUDIO]}:t.config.responseModalities=[bs.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const q=(g=(m=t.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[],Q=[];for(const ne of q)if(this.isCallableTool(ne)){const $=ne;Q.push(await $.tool())}else Q.push(ne);Q.length>0&&(t.config.tools=Q);const ve={model:X,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?W=b1(this.apiClient,ve):W=E1(this.apiClient,ve),delete W.config,D.send(JSON.stringify(W)),new cC(D,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const uC={turnComplete:!0};class cC{constructor(t,l){this.conn=t,this.apiClient=l}tLiveClientContent(t,l){if(l.turns!==null&&l.turns!==void 0){let a=[];try{a=fn(l.turns),t.isVertexAI()||(a=a.map(r=>Rs(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof l.turns}'`)}return{clientContent:{turns:a,turnComplete:l.turnComplete}}}return{clientContent:{turnComplete:l.turnComplete}}}tLiveClienttToolResponse(t,l){let a=[];if(l.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(l.functionResponses)?a=l.functionResponses:a=[l.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const c of a){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(aC)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},uC),t);const l=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(l))}sendRealtimeInput(t){let l={};this.apiClient.isVertexAI()?l={realtimeInput:w1(t)}:l={realtimeInput:N1(t)},this.conn.send(JSON.stringify(l))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const l=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(l))}close(){this.conn.close()}}function fC(i){const t={};return i.forEach((l,a)=>{t[a]=l}),t}function dC(i){const t=new Headers;for(const[l,a]of Object.entries(i))t.append(l,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tg=10;function ng(i){var t,l,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const m of(l=i==null?void 0:i.tools)!==null&&l!==void 0?l:[])if(Jl(m)){r=!0;break}if(!r)return!0;const c=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function Jl(i){return"callTool"in i&&typeof i.callTool=="function"}function mC(i){var t,l,a;return(a=(l=(t=i.config)===null||t===void 0?void 0:t.tools)===null||l===void 0?void 0:l.some(r=>Jl(r)))!==null&&a!==void 0?a:!1}function ig(i){var t;const l=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(Jl(a))return;const c=a;c.functionDeclarations&&c.functionDeclarations.length>0&&l.push(r)}),l}function lg(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pC extends Wn{constructor(t){super(),this.apiClient=t,this.generateContent=async l=>{var a,r,c,m,g;const y=await this.processParamsMaybeAddMcpUsage(l);if(this.maybeMoveToResponseJsonSchem(l),!mC(l)||ng(l.config))return await this.generateContentInternal(y);const h=ig(l);if(h.length>0){const k=h.map(I=>`tools[${I}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${k}.`)}let x,T;const _=fn(y.contents),b=(c=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&c!==void 0?c:tg;let M=0;for(;M<b&&(x=await this.generateContentInternal(y),!(!x.functionCalls||x.functionCalls.length===0));){const k=x.candidates[0].content,I=[];for(const w of(g=(m=l.config)===null||m===void 0?void 0:m.tools)!==null&&g!==void 0?g:[])if(Jl(w)){const D=await w.callTool(x.functionCalls);I.push(...D)}M++,T={role:"user",parts:I},y.contents=fn(y.contents),y.contents.push(k),y.contents.push(T),lg(y.config)&&(_.push(k),_.push(T))}return lg(y.config)&&(x.automaticFunctionCallingHistory=_),x},this.generateContentStream=async l=>{var a,r,c,m,g;if(this.maybeMoveToResponseJsonSchem(l),ng(l.config)){const T=await this.processParamsMaybeAddMcpUsage(l);return await this.generateContentStreamInternal(T)}const y=ig(l);if(y.length>0){const T=y.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const h=(c=(r=(a=l==null?void 0:l.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,x=(g=(m=l==null?void 0:l.config)===null||m===void 0?void 0:m.automaticFunctionCalling)===null||g===void 0?void 0:g.disable;if(h&&!x)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(l)},this.generateImages=async l=>await this.generateImagesInternal(l).then(a=>{var r;let c;const m=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:m.push(y);let g;return c?g={generatedImages:m,positivePromptSafetyAttributes:c,sdkHttpResponse:a.sdkHttpResponse}:g={generatedImages:m,sdkHttpResponse:a.sdkHttpResponse},g}),this.list=async l=>{var a;const m={config:Object.assign(Object.assign({},{queryBase:!0}),l==null?void 0:l.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((a=m.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new tl(Zn.PAGED_ITEM_MODELS,g=>this.listInternal(g),await this.listInternal(m),m)},this.editImage=async l=>{const a={model:l.model,prompt:l.prompt,referenceImages:[],config:l.config};return l.referenceImages&&l.referenceImages&&(a.referenceImages=l.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async l=>{let a={numberOfImages:1,mode:"upscale"};l.config&&(a=Object.assign(Object.assign({},a),l.config));const r={model:l.model,image:l.image,upscaleFactor:l.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async l=>{var a,r,c,m,g,y;if((l.prompt||l.image||l.video)&&l.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=l.video)===null||a===void 0)&&a.uri&&(!((r=l.video)===null||r===void 0)&&r.videoBytes)?l.video={uri:l.video.uri,mimeType:l.video.mimeType}:!((m=(c=l.source)===null||c===void 0?void 0:c.video)===null||m===void 0)&&m.uri&&(!((y=(g=l.source)===null||g===void 0?void 0:g.video)===null||y===void 0)&&y.videoBytes)&&(l.source.video={uri:l.source.video.uri,mimeType:l.source.video.mimeType})),await this.generateVideosInternal(l)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var l,a,r;const c=(l=t.config)===null||l===void 0?void 0:l.tools;if(!c)return t;const m=await Promise.all(c.map(async y=>Jl(y)?await y.tool():y)),g={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:m})};if(g.config.tools=m,t.config&&t.config.tools&&Fg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let h=Object.assign({},y);Object.keys(h).length===0&&(h=this.apiClient.getDefaultHeaders()),Yg(h),g.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:h})}return g}async initAfcToolsMap(t){var l,a,r;const c=new Map;for(const m of(a=(l=t.config)===null||l===void 0?void 0:l.tools)!==null&&a!==void 0?a:[])if(Jl(m)){const g=m,y=await g.tool();for(const h of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!h.name)throw new Error("Function declaration name is required.");if(c.has(h.name))throw new Error(`Duplicate tool declaration name: ${h.name}`);c.set(h.name,g)}}return c}async processAfcStream(t){var l,a,r;const c=(r=(a=(l=t.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:tg;let m=!1,g=0;const y=await this.initAfcToolsMap(t);return(function(h,x,T){return yn(this,arguments,function*(){for(var _,b,M,k,I,w;g<c;){m&&(g++,m=!1);const W=yield Ee(h.processParamsMaybeAddMcpUsage(T)),q=yield Ee(h.generateContentStreamInternal(W)),Q=[],ve=[];try{for(var Y=!0,D=(b=void 0,vn(q)),X;X=yield Ee(D.next()),_=X.done,!_;Y=!0){k=X.value,Y=!1;const ne=k;if(yield yield Ee(ne),ne.candidates&&(!((I=ne.candidates[0])===null||I===void 0)&&I.content)){ve.push(ne.candidates[0].content);for(const $ of(w=ne.candidates[0].content.parts)!==null&&w!==void 0?w:[])if(g<c&&$.functionCall){if(!$.functionCall.name)throw new Error("Function call name was not returned by the model.");if(x.has($.functionCall.name)){const fe=yield Ee(x.get($.functionCall.name).callTool([$.functionCall]));Q.push(...fe)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${x.keys()}, mising tool: ${$.functionCall.name}`)}}}}catch(ne){b={error:ne}}finally{try{!Y&&!_&&(M=D.return)&&(yield Ee(M.call(D)))}finally{if(b)throw b.error}}if(Q.length>0){m=!0;const ne=new Ko;ne.candidates=[{content:{role:"user",parts:Q}}],yield yield Ee(ne);const $=[];$.push(...ve),$.push({role:"user",parts:Q});const fe=fn(T.contents).concat($);T.contents=fe}else break}})})(this,y,t)}async generateContentInternal(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Qh(this.apiClient,t);return g=le("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>{const T=Wh(x),_=new Ko;return Object.assign(_,T),_})}else{const h=$h(this.apiClient,t);return g=le("{model}:generateContent",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>{const T=Zh(x),_=new Ko;return Object.assign(_,T),_})}}async generateContentStreamInternal(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Qh(this.apiClient,t);return g=le("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),m.then(function(T){return yn(this,arguments,function*(){var _,b,M,k;try{for(var I=!0,w=vn(T),Y;Y=yield Ee(w.next()),_=Y.done,!_;I=!0){k=Y.value,I=!1;const D=k,X=Wh(yield Ee(D.json()),t);X.sdkHttpResponse={headers:D.headers};const W=new Ko;Object.assign(W,X),yield yield Ee(W)}}catch(D){b={error:D}}finally{try{!I&&!_&&(M=w.return)&&(yield Ee(M.call(w)))}finally{if(b)throw b.error}}})})}else{const h=$h(this.apiClient,t);return g=le("{model}:streamGenerateContent?alt=sse",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.requestStream({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),m.then(function(T){return yn(this,arguments,function*(){var _,b,M,k;try{for(var I=!0,w=vn(T),Y;Y=yield Ee(w.next()),_=Y.done,!_;I=!0){k=Y.value,I=!1;const D=k,X=Zh(yield Ee(D.json()),t);X.sdkHttpResponse={headers:D.headers};const W=new Ko;Object.assign(W,X),yield yield Ee(W)}}catch(D){b={error:D}}finally{try{!I&&!_&&(M=w.return)&&(yield Ee(M.call(w)))}finally{if(b)throw b.error}}})})}}async embedContent(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=aE(this.apiClient,t);return g=le("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>{const T=rE(x),_=new Dh;return Object.assign(_,T),_})}else{const h=oE(this.apiClient,t);return g=le("{model}:batchEmbedContents",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>{const T=sE(x),_=new Dh;return Object.assign(_,T),_})}}async generateImagesInternal(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=xE(this.apiClient,t);return g=le("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>{const T=TE(x),_=new Uh;return Object.assign(_,T),_})}else{const h=vE(this.apiClient,t);return g=le("{model}:predict",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>{const T=SE(x),_=new Uh;return Object.assign(_,T),_})}}async editImageInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI()){const g=tE(this.apiClient,t);return c=le("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const h=nE(y),x=new aT;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI()){const g=xb(this.apiClient,t);return c=le("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const h=Sb(y),x=new sT;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI()){const g=eb(this.apiClient,t);return c=le("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=tb(y),x=new rT;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI()){const g=sb(this.apiClient,t);return c=le("{model}:predict",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=rb(y),x=new uT;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=HE(this.apiClient,t);return g=le("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>fc(x))}else{const h=GE(this.apiClient,t);return g=le("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>cc(x))}}async listInternal(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=jE(this.apiClient,t);return g=le("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>{const T=XE(x),_=new zh;return Object.assign(_,T),_})}else{const h=JE(this.apiClient,t);return g=le("{models_url}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>{const T=KE(x),_=new zh;return Object.assign(_,T),_})}}async update(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=yb(this.apiClient,t);return g=le("{model}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>fc(x))}else{const h=gb(this.apiClient,t);return g=le("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>cc(x))}}async delete(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=Q1(this.apiClient,t);return g=le("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>{const T=W1(x),_=new Lh;return Object.assign(_,T),_})}else{const h=$1(this.apiClient,t);return g=le("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>{const T=Z1(x),_=new Lh;return Object.assign(_,T),_})}}async countTokens(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=j1(this.apiClient,t);return g=le("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>{const T=X1(x),_=new Gh;return Object.assign(_,T),_})}else{const h=J1(this.apiClient,t);return g=le("{model}:countTokens",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>{const T=K1(x),_=new Gh;return Object.assign(_,T),_})}}async computeTokens(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI()){const g=V1(this.apiClient,t);return c=le("{model}:computeTokens",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>{const h=q1(y),x=new cT;return Object.assign(x,h),x})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=NE(this.apiClient,t);return g=le("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m.then(x=>{const T=CE(x),_=new Cs;return Object.assign(_,T),_})}else{const h=AE(this.apiClient,t);return g=le("{model}:predictLongRunning",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m.then(x=>{const T=bE(x),_=new Cs;return Object.assign(_,T),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hC extends Wn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:c}});return l._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const l=t.operation,a=t.config;if(l.name===void 0||l.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=l.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:l.name,resourceName:r,config:{httpOptions:c}});return l._fromAPIResponse({apiResponse:m,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:l.name,config:a});return l._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=eT(t);return g=le("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json()),m}else{const h=WS(t);return g=le("{operationName}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json()),m}}async fetchPredictVideosOperationInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI()){const g=JS(t);return c=le("{resourceName}:fetchPredictOperation",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gC(i){const t={},l=u(i,["data"]);if(l!=null&&f(t,["data"],l),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function yC(i){const t={},l=u(i,["parts"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>AC(c))),f(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&f(t,["role"],a),t}function vC(i,t,l){const a={},r=u(t,["expireTime"]);l!==void 0&&r!=null&&f(l,["expireTime"],r);const c=u(t,["newSessionExpireTime"]);l!==void 0&&c!=null&&f(l,["newSessionExpireTime"],c);const m=u(t,["uses"]);l!==void 0&&m!=null&&f(l,["uses"],m);const g=u(t,["liveConnectConstraints"]);l!==void 0&&g!=null&&f(l,["bidiGenerateContentSetup"],CC(i,g));const y=u(t,["lockAdditionalFields"]);return l!==void 0&&y!=null&&f(l,["fieldMask"],y),a}function xC(i,t){const l={},a=u(t,["config"]);return a!=null&&f(l,["config"],vC(i,a,l)),l}function SC(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const l=u(i,["fileUri"]);l!=null&&f(t,["fileUri"],l);const a=u(i,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function TC(i){const t={},l=u(i,["id"]);l!=null&&f(t,["id"],l);const a=u(i,["args"]);a!=null&&f(t,["args"],a);const r=u(i,["name"]);if(r!=null&&f(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function _C(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const l=u(i,["enableWidget"]);return l!=null&&f(t,["enableWidget"],l),t}function EC(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const l=u(i,["timeRangeFilter"]);return l!=null&&f(t,["timeRangeFilter"],l),t}function bC(i,t){const l={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&f(t,["setup","generationConfig","responseModalities"],r);const c=u(i,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const m=u(i,["topP"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","topP"],m);const g=u(i,["topK"]);t!==void 0&&g!=null&&f(t,["setup","generationConfig","topK"],g);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const h=u(i,["mediaResolution"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","mediaResolution"],h);const x=u(i,["seed"]);t!==void 0&&x!=null&&f(t,["setup","generationConfig","seed"],x);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","speechConfig"],wc(T));const _=u(i,["thinkingConfig"]);t!==void 0&&_!=null&&f(t,["setup","generationConfig","thinkingConfig"],_);const b=u(i,["enableAffectiveDialog"]);t!==void 0&&b!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],b);const M=u(i,["systemInstruction"]);t!==void 0&&M!=null&&f(t,["setup","systemInstruction"],yC(It(M)));const k=u(i,["tools"]);if(t!==void 0&&k!=null){let q=Kl(k);Array.isArray(q)&&(q=q.map(Q=>wC(jl(Q)))),f(t,["setup","tools"],q)}const I=u(i,["sessionResumption"]);t!==void 0&&I!=null&&f(t,["setup","sessionResumption"],NC(I));const w=u(i,["inputAudioTranscription"]);t!==void 0&&w!=null&&f(t,["setup","inputAudioTranscription"],w);const Y=u(i,["outputAudioTranscription"]);t!==void 0&&Y!=null&&f(t,["setup","outputAudioTranscription"],Y);const D=u(i,["realtimeInputConfig"]);t!==void 0&&D!=null&&f(t,["setup","realtimeInputConfig"],D);const X=u(i,["contextWindowCompression"]);t!==void 0&&X!=null&&f(t,["setup","contextWindowCompression"],X);const W=u(i,["proactivity"]);if(t!==void 0&&W!=null&&f(t,["setup","proactivity"],W),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return l}function CC(i,t){const l={},a=u(t,["model"]);a!=null&&f(l,["setup","model"],qe(i,a));const r=u(t,["config"]);return r!=null&&f(l,["config"],bC(r,l)),l}function AC(i){const t={},l=u(i,["mediaResolution"]);l!=null&&f(t,["mediaResolution"],l);const a=u(i,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&f(t,["executableCode"],r);const c=u(i,["fileData"]);c!=null&&f(t,["fileData"],SC(c));const m=u(i,["functionCall"]);m!=null&&f(t,["functionCall"],TC(m));const g=u(i,["functionResponse"]);g!=null&&f(t,["functionResponse"],g);const y=u(i,["inlineData"]);y!=null&&f(t,["inlineData"],gC(y));const h=u(i,["text"]);h!=null&&f(t,["text"],h);const x=u(i,["thought"]);x!=null&&f(t,["thought"],x);const T=u(i,["thoughtSignature"]);T!=null&&f(t,["thoughtSignature"],T);const _=u(i,["videoMetadata"]);return _!=null&&f(t,["videoMetadata"],_),t}function NC(i){const t={},l=u(i,["handle"]);if(l!=null&&f(t,["handle"],l),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function wC(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(i,["computerUse"]);l!=null&&f(t,["computerUse"],l);const a=u(i,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&f(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(i,["functionDeclarations"]);if(c!=null){let x=c;Array.isArray(x)&&(x=x.map(T=>T)),f(t,["functionDeclarations"],x)}const m=u(i,["googleMaps"]);m!=null&&f(t,["googleMaps"],_C(m));const g=u(i,["googleSearch"]);g!=null&&f(t,["googleSearch"],EC(g));const y=u(i,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const h=u(i,["urlContext"]);return h!=null&&f(t,["urlContext"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MC(i){const t=[];for(const l in i)if(Object.prototype.hasOwnProperty.call(i,l)){const a=i[l];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(c=>`${l}.${c}`);t.push(...r)}else t.push(l)}return t.join(",")}function RC(i,t){let l=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const c=a.setup;typeof c=="object"&&c!==null?(i.bidiGenerateContentSetup=c,l=c):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(l){const c=MC(l);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)c?i.fieldMask=c:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let g=[];r.length>0&&(g=r.map(h=>m.includes(h)?`generationConfig.${h}`:h));const y=[];c&&y.push(c),g.length>0&&y.push(...g),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class IC extends Wn{constructor(t){super(),this.apiClient=t}async create(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const g=xC(this.apiClient,t);c=le("auth_tokens",g._url),m=g._query,delete g.config,delete g._url,delete g._query;const y=RC(g,t.config);return r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(h=>h.json()),r.then(h=>h)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kC(i,t){const l={},a=u(i,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),l}function DC(i){const t={},l=u(i,["name"]);l!=null&&f(t,["_url","name"],l);const a=u(i,["config"]);return a!=null&&kC(a,t),t}function UC(i){const t={},l=u(i,["name"]);return l!=null&&f(t,["_url","name"],l),t}function zC(i,t){const l={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&f(t,["_query","pageToken"],r),l}function LC(i){const t={},l=u(i,["parent"]);l!=null&&f(t,["_url","parent"],l);const a=u(i,["config"]);return a!=null&&zC(a,t),t}function GC(i){const t={},l=u(i,["sdkHttpResponse"]);l!=null&&f(t,["sdkHttpResponse"],l);const a=u(i,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(m=>m)),f(t,["documents"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HC extends Wn{constructor(t){super(),this.apiClient=t,this.list=async l=>new tl(Zn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:l.parent,config:a.config}),await this.listInternal(l),l)}async get(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=UC(t);return c=le("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=DC(t);r=le("{name}",m._url),c=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=LC(t);return c=le("{parent}/documents",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=GC(y),x=new fT;return Object.assign(x,h),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class VC extends Wn{constructor(t,l=new HC(t)){super(),this.apiClient=t,this.documents=l,this.list=async(a={})=>new tl(Zn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Nb(t);return c=le("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Rb(t);return c=le("{name}",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var l,a;let r="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const m=Mb(t);r=le("{name}",m._url),c=m._query,delete m._url,delete m._query,await this.apiClient.request({path:r,queryParams:c,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Lb(t);return c=le("fileSearchStores",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=Gb(y),x=new dT;return Object.assign(x,h),x})}}async uploadToFileSearchStoreInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Hb(t);return c=le("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=Vb(y),x=new mT;return Object.assign(x,h),x})}}async importFile(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=Db(t);return c=le("{file_search_store_name}:importFile",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const h=kb(y),x=new Ec;return Object.assign(x,h),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Jg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return Jg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),l=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^l()&15>>+a/4).toString(16))};const qC=()=>Jg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mc(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const pc=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dn extends Error{}class Lt extends dn{constructor(t,l,a,r){super(`${Lt.makeMessage(t,l,a)}`),this.status=t,this.headers=r,this.error=l}static makeMessage(t,l,a){const r=l!=null&&l.message?typeof l.message=="string"?l.message:JSON.stringify(l.message):l?JSON.stringify(l):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,l,a,r){if(!t||!r)return new Ds({message:a,cause:pc(l)});const c=l;return t===400?new Kg(t,c,a,r):t===401?new Xg(t,c,a,r):t===403?new $g(t,c,a,r):t===404?new Qg(t,c,a,r):t===409?new Zg(t,c,a,r):t===422?new Wg(t,c,a,r):t===429?new e0(t,c,a,r):t>=500?new t0(t,c,a,r):new Lt(t,c,a,r)}}class hc extends Lt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Ds extends Lt{constructor({message:t,cause:l}){super(void 0,void 0,t||"Connection error.",void 0),l&&(this.cause=l)}}class jg extends Ds{constructor({message:t}={}){super({message:t??"Request timed out."})}}class Kg extends Lt{}class Xg extends Lt{}class $g extends Lt{}class Qg extends Lt{}class Zg extends Lt{}class Wg extends Lt{}class e0 extends Lt{}class t0 extends Lt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PC=/^[a-z][a-z0-9+.-]*:/i,OC=i=>PC.test(i);let gc=i=>(gc=Array.isArray,gc(i));const BC=gc;let FC=BC;const og=FC;function YC(i){if(!i)return!0;for(const t in i)return!1;return!0}function JC(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const jC=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new dn(`${i} must be an integer`);if(t<0)throw new dn(`${i} must be a positive integer`);return t},KC=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const XC=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ol="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $C(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const QC=()=>{var i,t,l,a,r;const c=$C();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ol,"X-Stainless-OS":sg(Deno.build.os),"X-Stainless-Arch":ag(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ol,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ol,"X-Stainless-OS":sg((l=globalThis.process.platform)!==null&&l!==void 0?l:"unknown"),"X-Stainless-Arch":ag((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const m=ZC();return m?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ol,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${m.browser}`,"X-Stainless-Runtime-Version":m.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ol,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function ZC(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:l}of i){const a=l.exec(navigator.userAgent);if(a){const r=a[1]||0,c=a[2]||0,m=a[3]||0;return{browser:t,version:`${r}.${c}.${m}`}}}return null}const ag=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",sg=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let ys;const WC=()=>ys??(ys=QC());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function n0(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function tA(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return n0({start(){},async pull(l){const{done:a,value:r}=await t.next();a?l.close():l.enqueue(r)},async cancel(){var l;await((l=t.return)===null||l===void 0?void 0:l.call(t))}})}function i0(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const l=await t.read();return l!=null&&l.done&&t.releaseLock(),l}catch(l){throw t.releaseLock(),l}},async return(){const l=t.cancel();return t.releaseLock(),await l,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function nA(i){var t,l;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((l=(t=i[Symbol.asyncIterator]()).return)===null||l===void 0?void 0:l.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iA=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const l0=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,l=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(l?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Xu(i,t,l){return l0(),new File(i,t??"unknown_file",l)}function lA(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const oA=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const o0=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",aA=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&o0(i),sA=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function rA(i,t,l){if(l0(),i=await i,aA(i))return i instanceof File?i:Xu([await i.arrayBuffer()],i.name);if(sA(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),Xu(await yc(r),t,l)}const a=await yc(i);if(t||(t=lA(i)),!(l!=null&&l.type)){const r=a.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof r=="string"&&(l=Object.assign(Object.assign({},l),{type:r}))}return Xu(a,t,l)}async function yc(i){var t,l,a,r,c;let m=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)m.push(i);else if(o0(i))m.push(i instanceof Blob?i:await i.arrayBuffer());else if(oA(i))try{for(var g=!0,y=vn(i),h;h=await y.next(),t=h.done,!t;g=!0){r=h.value,g=!1;const x=r;m.push(...await yc(x))}}catch(x){l={error:x}}finally{try{!g&&!t&&(a=y.return)&&await a.call(y)}finally{if(l)throw l.error}}else{const x=(c=i==null?void 0:i.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof i}${x?`; constructor: ${x}`:""}${uA(i)}`)}return m}function uA(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(l=>`"${l}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class a0{constructor(t){this._client=t}}a0._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function s0(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const rg=Object.freeze(Object.create(null)),cA=(i=s0)=>(function(l,...a){if(l.length===1)return l[0];let r=!1;const c=[],m=l.reduce((x,T,_)=>{var b,M,k;/[?#]/.test(T)&&(r=!0);const I=a[_];let w=(r?encodeURIComponent:i)(""+I);return _!==a.length&&(I==null||typeof I=="object"&&I.toString===((k=Object.getPrototypeOf((M=Object.getPrototypeOf((b=I.hasOwnProperty)!==null&&b!==void 0?b:rg))!==null&&M!==void 0?M:rg))===null||k===void 0?void 0:k.toString))&&(w=I+"",c.push({start:x.length+T.length,length:w.length,error:`Value of type ${Object.prototype.toString.call(I).slice(8,-1)} is not a valid path parameter`})),x+T+(_===a.length?"":w)},""),g=m.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let h;for(;(h=y.exec(g))!==null;)c.push({start:h.index,length:h[0].length,error:`Value "${h[0]}" can't be safely passed as a path parameter`});if(c.sort((x,T)=>x.start-T.start),c.length>0){let x=0;const T=c.reduce((_,b)=>{const M=" ".repeat(b.start-x),k="^".repeat(b.length);return x=b.start+b.length,_+M+k},"");throw new dn(`Path parameters result in path with invalid segments:
${c.map(_=>_.error).join(`
`)}
${m}
${T}`)}return m}),vs=cA(s0);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class r0 extends a0{create(t,l){var a;const{api_version:r=this._client.apiVersion}=t,c=Ns(t,["api_version"]);if("model"in c&&"agent_config"in c)throw new dn("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new dn("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(vs`/${r}/interactions`,Object.assign(Object.assign({body:c},l),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.delete(vs`/${r}/interactions/${t}`,a)}cancel(t,l={},a){const{api_version:r=this._client.apiVersion}=l??{};return this._client.post(vs`/${r}/interactions/${t}/cancel`,a)}get(t,l={},a){var r;const c=l??{},{api_version:m=this._client.apiVersion}=c,g=Ns(c,["api_version"]);return this._client.get(vs`/${m}/interactions/${t}`,Object.assign(Object.assign({query:g},a),{stream:(r=l==null?void 0:l.stream)!==null&&r!==void 0?r:!1}))}}r0._key=Object.freeze(["interactions"]);class u0 extends r0{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fA(i){let t=0;for(const r of i)t+=r.length;const l=new Uint8Array(t);let a=0;for(const r of i)l.set(r,a),a+=r.length;return l}let xs;function Rc(i){let t;return(xs??(t=new globalThis.TextEncoder,xs=t.encode.bind(t)))(i)}let Ss;function ug(i){let t;return(Ss??(t=new globalThis.TextDecoder,Ss=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Us{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const l=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Rc(t):t;this.buffer=fA([this.buffer,l]);const a=[];let r;for(;(r=dA(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(ug(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,m=ug(this.buffer.subarray(0,c));a.push(m),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Us.NEWLINE_CHARS=new Set([`
`,"\r"]);Us.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function dA(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function mA(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ws={off:0,error:200,warn:300,info:400,debug:500},cg=(i,t,l)=>{if(i){if(JC(ws,i))return i;zt(l).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(ws))}`)}};function $o(){}function Ts(i,t,l){return!t||ws[i]>ws[l]?$o:t[i].bind(t)}const pA={error:$o,warn:$o,info:$o,debug:$o};let fg=new WeakMap;function zt(i){var t;const l=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!l)return pA;const r=fg.get(l);if(r&&r[0]===a)return r[1];const c={error:Ts("error",l,a),warn:Ts("warn",l,a),info:Ts("info",l,a),debug:Ts("debug",l,a)};return fg.set(l,[a,c]),c}const el=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,l])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":l]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fl{constructor(t,l,a){this.iterator=t,this.controller=l,this.client=a}static fromSSEResponse(t,l,a){let r=!1;const c=a?zt(a):console;function m(){return yn(this,arguments,function*(){var y,h,x,T;if(r)throw new dn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var b=!0,M=vn(hA(t,l)),k;k=yield Ee(M.next()),y=k.done,!y;b=!0){T=k.value,b=!1;const I=T;if(!_)if(I.data.startsWith("[DONE]")){_=!0;continue}else try{yield yield Ee(JSON.parse(I.data))}catch(w){throw c.error("Could not parse message into JSON:",I.data),c.error("From chunk:",I.raw),w}}}catch(I){h={error:I}}finally{try{!b&&!y&&(x=M.return)&&(yield Ee(x.call(M)))}finally{if(h)throw h.error}}_=!0}catch(I){if(mc(I))return yield Ee(void 0);throw I}finally{_||l.abort()}})}return new Fl(m,l,a)}static fromReadableStream(t,l,a){let r=!1;function c(){return yn(this,arguments,function*(){var y,h,x,T;const _=new Us,b=i0(t);try{for(var M=!0,k=vn(b),I;I=yield Ee(k.next()),y=I.done,!y;M=!0){T=I.value,M=!1;const w=T;for(const Y of _.decode(w))yield yield Ee(Y)}}catch(w){h={error:w}}finally{try{!M&&!y&&(x=k.return)&&(yield Ee(x.call(k)))}finally{if(h)throw h.error}}for(const w of _.flush())yield yield Ee(w)})}function m(){return yn(this,arguments,function*(){var y,h,x,T;if(r)throw new dn("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let _=!1;try{try{for(var b=!0,M=vn(c()),k;k=yield Ee(M.next()),y=k.done,!y;b=!0){T=k.value,b=!1;const I=T;_||I&&(yield yield Ee(JSON.parse(I)))}}catch(I){h={error:I}}finally{try{!b&&!y&&(x=M.return)&&(yield Ee(x.call(M)))}finally{if(h)throw h.error}}_=!0}catch(I){if(mc(I))return yield Ee(void 0);throw I}finally{_||l.abort()}})}return new Fl(m,l,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],l=[],a=this.iterator(),r=c=>({next:()=>{if(c.length===0){const m=a.next();t.push(m),l.push(m)}return c.shift()}});return[new Fl(()=>r(t),this.controller,this.client),new Fl(()=>r(l),this.controller,this.client)]}toReadableStream(){const t=this;let l;return n0({async start(){l=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:c}=await l.next();if(c)return a.close();const m=Rc(JSON.stringify(r)+`
`);a.enqueue(m)}catch(r){a.error(r)}},async cancel(){var a;await((a=l.return)===null||a===void 0?void 0:a.call(l))}})}}function hA(i,t){return yn(this,arguments,function*(){var a,r,c,m;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new dn("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new dn("Attempted to iterate over a response with no body");const g=new yA,y=new Us,h=i0(i.body);try{for(var x=!0,T=vn(gA(h)),_;_=yield Ee(T.next()),a=_.done,!a;x=!0){m=_.value,x=!1;const b=m;for(const M of y.decode(b)){const k=g.decode(M);k&&(yield yield Ee(k))}}}catch(b){r={error:b}}finally{try{!x&&!a&&(c=T.return)&&(yield Ee(c.call(T)))}finally{if(r)throw r.error}}for(const b of y.flush()){const M=g.decode(b);M&&(yield yield Ee(M))}})}function gA(i){return yn(this,arguments,function*(){var l,a,r,c;let m=new Uint8Array;try{for(var g=!0,y=vn(i),h;h=yield Ee(y.next()),l=h.done,!l;g=!0){c=h.value,g=!1;const x=c;if(x==null)continue;const T=x instanceof ArrayBuffer?new Uint8Array(x):typeof x=="string"?Rc(x):x;let _=new Uint8Array(m.length+T.length);_.set(m),_.set(T,m.length),m=_;let b;for(;(b=mA(m))!==-1;)yield yield Ee(m.slice(0,b)),m=m.slice(b)}}catch(x){a={error:x}}finally{try{!g&&!l&&(r=y.return)&&(yield Ee(r.call(y)))}finally{if(a)throw a.error}}m.length>0&&(yield yield Ee(m))})}class yA{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(t),t.startsWith(":"))return null;let[l,a,r]=vA(t,":");return r.startsWith(" ")&&(r=r.substring(1)),l==="event"?this.event=r:l==="data"&&this.data.push(r),null}}function vA(i,t){const l=i.indexOf(t);return l!==-1?[i.substring(0,l),t,i.substring(l+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function xA(i,t){const{response:l,requestLogID:a,retryOfRequestLogID:r,startTime:c}=t,m=await(async()=>{var g;if(t.options.stream)return zt(i).debug("response",l.status,l.url,l.headers,l.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(l,t.controller,i):Fl.fromSSEResponse(l,t.controller,i);if(l.status===204)return null;if(t.options.__binaryResponse)return l;const y=l.headers.get("content-type"),h=(g=y==null?void 0:y.split(";")[0])===null||g===void 0?void 0:g.trim();return(h==null?void 0:h.includes("application/json"))||(h==null?void 0:h.endsWith("+json"))?l.headers.get("content-length")==="0"?void 0:await l.json():await l.text()})();return zt(i).debug(`[${a}] response parsed`,el({retryOfRequestLogID:r,url:l.url,status:l.status,body:m,durationMs:Date.now()-c})),m}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ic extends Promise{constructor(t,l,a=xA){super(r=>{r(null)}),this.responsePromise=l,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new Ic(this.client,this.responsePromise,async(l,a)=>t(await this.parseResponse(l,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,l]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:l}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,l){return this.parse().then(t,l)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const c0=Symbol("brand.privateNullableHeaders");function*SA(i){if(!i)return;if(c0 in i){const{values:a,nulls:r}=i;yield*a.entries();for(const c of r)yield[c,null];return}let t=!1,l;i instanceof Headers?l=i.entries():og(i)?l=i:(t=!0,l=Object.entries(i??{}));for(let a of l){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const c=og(a[1])?a[1]:[a[1]];let m=!1;for(const g of c)g!==void 0&&(t&&!m&&(m=!0,yield[r,null]),yield[r,g])}}const Xo=i=>{const t=new Headers,l=new Set;for(const a of i){const r=new Set;for(const[c,m]of SA(a)){const g=c.toLowerCase();r.has(g)||(t.delete(c),r.add(g)),m===null?(t.delete(c),l.add(g)):(t.append(c,m),l.delete(g))}}return{[c0]:!0,values:t,nulls:l}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $u=i=>{var t,l,a,r,c,m;if(typeof globalThis.process<"u")return(a=(l=(t=qS)===null||t===void 0?void 0:t[i])===null||l===void 0?void 0:l.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(m=(c=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||c===void 0?void 0:c.call(r,i))===null||m===void 0?void 0:m.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var f0;class zs{constructor(t){var l,a,r,c,m,g,y,{baseURL:h=$u("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:x=(l=$u("GEMINI_API_KEY"))!==null&&l!==void 0?l:null,apiVersion:T="v1beta"}=t,_=Ns(t,["baseURL","apiKey","apiVersion"]);const b=Object.assign(Object.assign({apiKey:x,apiVersion:T},_),{baseURL:h||"https://generativelanguage.googleapis.com"});this.baseURL=b.baseURL,this.timeout=(a=b.timeout)!==null&&a!==void 0?a:zs.DEFAULT_TIMEOUT,this.logger=(r=b.logger)!==null&&r!==void 0?r:console;const M="warn";this.logLevel=M,this.logLevel=(m=(c=cg(b.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:cg($u("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&m!==void 0?m:M,this.fetchOptions=b.fetchOptions,this.maxRetries=(g=b.maxRetries)!==null&&g!==void 0?g:2,this.fetch=(y=b.fetch)!==null&&y!==void 0?y:eA(),this.encoder=iA,this._options=b,this.apiKey=x,this.apiVersion=T,this.clientAdapter=b.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:l}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!l.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const l=Xo([t.headers]);if(!(l.values.has("authorization")||l.values.has("x-goog-api-key"))){if(this.apiKey)return Xo([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Xo([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([l,a])=>typeof a<"u").map(([l,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(l)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(l)}=`;throw new dn(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ol}`}defaultIdempotencyKey(){return`stainless-node-retry-${qC()}`}makeStatusError(t,l,a,r){return Lt.generate(t,l,a,r)}buildURL(t,l,a){const r=!this.baseURLOverridden()&&a||this.baseURL,c=OC(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),m=this.defaultQuery();return YC(m)||(l=Object.assign(Object.assign({},m),l)),typeof l=="object"&&l&&!Array.isArray(l)&&(c.search=this.stringifyQuery(l)),c.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const l=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${l}`}}async prepareRequest(t,{url:l,options:a}){}get(t,l){return this.methodRequest("get",t,l)}post(t,l){return this.methodRequest("post",t,l)}patch(t,l){return this.methodRequest("patch",t,l)}put(t,l){return this.methodRequest("put",t,l)}delete(t,l){return this.methodRequest("delete",t,l)}methodRequest(t,l,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:l},r)))}request(t,l=null){return new Ic(this,this.makeRequest(t,l,void 0))}async makeRequest(t,l,a){var r,c,m;const g=await t,y=(r=g.maxRetries)!==null&&r!==void 0?r:this.maxRetries;l==null&&(l=y),await this.prepareOptions(g);const{req:h,url:x,timeout:T}=await this.buildRequest(g,{retryCount:y-l});await this.prepareRequest(h,{url:x,options:g});const _="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),b=a===void 0?"":`, retryOf: ${a}`,M=Date.now();if(zt(this).debug(`[${_}] sending request`,el({retryOfRequestLogID:a,method:g.method,url:x,options:g,headers:h.headers})),!((c=g.signal)===null||c===void 0)&&c.aborted)throw new hc;const k=new AbortController,I=await this.fetchWithTimeout(x,h,T,k).catch(pc),w=Date.now();if(I instanceof globalThis.Error){const D=`retrying, ${l} attempts remaining`;if(!((m=g.signal)===null||m===void 0)&&m.aborted)throw new hc;const X=mc(I)||/timed? ?out/i.test(String(I)+("cause"in I?String(I.cause):""));if(l)return zt(this).info(`[${_}] connection ${X?"timed out":"failed"} - ${D}`),zt(this).debug(`[${_}] connection ${X?"timed out":"failed"} (${D})`,el({retryOfRequestLogID:a,url:x,durationMs:w-M,message:I.message})),this.retryRequest(g,l,a??_);throw zt(this).info(`[${_}] connection ${X?"timed out":"failed"} - error; no more retries left`),zt(this).debug(`[${_}] connection ${X?"timed out":"failed"} (error; no more retries left)`,el({retryOfRequestLogID:a,url:x,durationMs:w-M,message:I.message})),X?new jg:new Ds({cause:I})}const Y=`[${_}${b}] ${h.method} ${x} ${I.ok?"succeeded":"failed"} with status ${I.status} in ${w-M}ms`;if(!I.ok){const D=await this.shouldRetry(I);if(l&&D){const ne=`retrying, ${l} attempts remaining`;return await nA(I.body),zt(this).info(`${Y} - ${ne}`),zt(this).debug(`[${_}] response error (${ne})`,el({retryOfRequestLogID:a,url:I.url,status:I.status,headers:I.headers,durationMs:w-M})),this.retryRequest(g,l,a??_,I.headers)}const X=D?"error; no more retries left":"error; not retryable";zt(this).info(`${Y} - ${X}`);const W=await I.text().catch(ne=>pc(ne).message),q=KC(W),Q=q?void 0:W;throw zt(this).debug(`[${_}] response error (${X})`,el({retryOfRequestLogID:a,url:I.url,status:I.status,headers:I.headers,message:Q,durationMs:Date.now()-M})),this.makeStatusError(I.status,q,Q,I.headers)}return zt(this).info(Y),zt(this).debug(`[${_}] response start`,el({retryOfRequestLogID:a,url:I.url,status:I.status,headers:I.headers,durationMs:w-M})),{response:I,options:g,controller:k,requestLogID:_,retryOfRequestLogID:a,startTime:M}}async fetchWithTimeout(t,l,a,r){const c=l||{},{signal:m,method:g}=c,y=Ns(c,["signal","method"]),h=this._makeAbort(r);m&&m.addEventListener("abort",h,{once:!0});const x=setTimeout(h,a),T=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,_=Object.assign(Object.assign(Object.assign({signal:r.signal},T?{duplex:"half"}:{}),{method:"GET"}),y);g&&(_.method=g.toUpperCase());try{return await this.fetch.call(void 0,t,_)}finally{clearTimeout(x)}}async shouldRetry(t){const l=t.headers.get("x-should-retry");return l==="true"?!0:l==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,l,a,r){var c;let m;const g=r==null?void 0:r.get("retry-after-ms");if(g){const h=parseFloat(g);Number.isNaN(h)||(m=h)}const y=r==null?void 0:r.get("retry-after");if(y&&!m){const h=parseFloat(y);Number.isNaN(h)?m=Date.parse(y)-Date.now():m=h*1e3}if(!(m&&0<=m&&m<60*1e3)){const h=(c=t.maxRetries)!==null&&c!==void 0?c:this.maxRetries;m=this.calculateDefaultRetryTimeoutMillis(l,h)}return await XC(m),this.makeRequest(t,l-1,a)}calculateDefaultRetryTimeoutMillis(t,l){const c=l-t,m=Math.min(.5*Math.pow(2,c),8),g=1-Math.random()*.25;return m*g*1e3}async buildRequest(t,{retryCount:l=0}={}){var a,r,c;const m=Object.assign({},t),{method:g,path:y,query:h,defaultBaseURL:x}=m,T=this.buildURL(y,h,x);"timeout"in m&&jC("timeout",m.timeout),m.timeout=(a=m.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:_,body:b}=this.buildBody({options:m}),M=await this.buildHeaders({options:t,method:g,bodyHeaders:_,retryCount:l});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:g,headers:M},m.signal&&{signal:m.signal}),globalThis.ReadableStream&&b instanceof globalThis.ReadableStream&&{duplex:"half"}),b&&{body:b}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(c=m.fetchOptions)!==null&&c!==void 0?c:{}),url:T,timeout:m.timeout}}async buildHeaders({options:t,method:l,bodyHeaders:a,retryCount:r}){let c={};this.idempotencyHeader&&l!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=t.idempotencyKey);const m=await this.authHeaders(t);let g=Xo([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),WC()),this._options.defaultHeaders,a,t.headers,m]);return this.validateHeaders(g),g.values}_makeAbort(t){return()=>t.abort()}buildBody({options:{body:t,headers:l}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=Xo([l]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:tA(t)}:this.encoder({body:t,headers:a})}}zs.DEFAULT_TIMEOUT=6e4;class Tt extends zs{constructor(){super(...arguments),this.interactions=new u0(this)}}f0=Tt;Tt.GeminiNextGenAPIClient=f0;Tt.GeminiNextGenAPIClientError=dn;Tt.APIError=Lt;Tt.APIConnectionError=Ds;Tt.APIConnectionTimeoutError=jg;Tt.APIUserAbortError=hc;Tt.NotFoundError=Qg;Tt.ConflictError=Zg;Tt.RateLimitError=e0;Tt.BadRequestError=Kg;Tt.AuthenticationError=Xg;Tt.InternalServerError=t0;Tt.PermissionDeniedError=$g;Tt.UnprocessableEntityError=Wg;Tt.toFile=rA;Tt.Interactions=u0;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TA(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function _A(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function EA(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(l,["sdkHttpResponse"],a),l}function bA(i,t){const l={},a=u(i,["sdkHttpResponse"]);return a!=null&&f(l,["sdkHttpResponse"],a),l}function CA(i,t,l){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&f(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(i,["epochCount"]);t!==void 0&&c!=null&&f(t,["tuningTask","hyperparameters","epochCount"],c);const m=u(i,["learningRateMultiplier"]);if(m!=null&&f(a,["tuningTask","hyperparameters","learningRateMultiplier"],m),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(u(i,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(u(i,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const g=u(i,["batchSize"]);t!==void 0&&g!=null&&f(t,["tuningTask","hyperparameters","batchSize"],g);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&f(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(u(i,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(u(i,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(u(i,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(u(i,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");if(u(i,["encryptionSpec"])!==void 0)throw new Error("encryptionSpec parameter is not supported in Gemini API.");return a}function AA(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const q=u(i,["validationDataset"]);t!==void 0&&q!=null&&f(t,["supervisedTuningSpec"],Qu(q))}else if(r==="PREFERENCE_TUNING"){const q=u(i,["validationDataset"]);t!==void 0&&q!=null&&f(t,["preferenceOptimizationSpec"],Qu(q))}else if(r==="DISTILLATION"){const q=u(i,["validationDataset"]);t!==void 0&&q!=null&&f(t,["distillationSpec"],Qu(q))}const c=u(i,["tunedModelDisplayName"]);t!==void 0&&c!=null&&f(t,["tunedModelDisplayName"],c);const m=u(i,["description"]);t!==void 0&&m!=null&&f(t,["description"],m);let g=u(l,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const q=u(i,["epochCount"]);t!==void 0&&q!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],q)}else if(g==="PREFERENCE_TUNING"){const q=u(i,["epochCount"]);t!==void 0&&q!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],q)}else if(g==="DISTILLATION"){const q=u(i,["epochCount"]);t!==void 0&&q!=null&&f(t,["distillationSpec","hyperParameters","epochCount"],q)}let y=u(l,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const q=u(i,["learningRateMultiplier"]);t!==void 0&&q!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],q)}else if(y==="PREFERENCE_TUNING"){const q=u(i,["learningRateMultiplier"]);t!==void 0&&q!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],q)}else if(y==="DISTILLATION"){const q=u(i,["learningRateMultiplier"]);t!==void 0&&q!=null&&f(t,["distillationSpec","hyperParameters","learningRateMultiplier"],q)}let h=u(l,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const q=u(i,["exportLastCheckpointOnly"]);t!==void 0&&q!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],q)}else if(h==="PREFERENCE_TUNING"){const q=u(i,["exportLastCheckpointOnly"]);t!==void 0&&q!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],q)}else if(h==="DISTILLATION"){const q=u(i,["exportLastCheckpointOnly"]);t!==void 0&&q!=null&&f(t,["distillationSpec","exportLastCheckpointOnly"],q)}let x=u(l,["config","method"]);if(x===void 0&&(x="SUPERVISED_FINE_TUNING"),x==="SUPERVISED_FINE_TUNING"){const q=u(i,["adapterSize"]);t!==void 0&&q!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],q)}else if(x==="PREFERENCE_TUNING"){const q=u(i,["adapterSize"]);t!==void 0&&q!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],q)}else if(x==="DISTILLATION"){const q=u(i,["adapterSize"]);t!==void 0&&q!=null&&f(t,["distillationSpec","hyperParameters","adapterSize"],q)}let T=u(l,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const q=u(i,["tuningMode"]);t!==void 0&&q!=null&&f(t,["supervisedTuningSpec","tuningMode"],q)}const _=u(i,["customBaseModel"]);t!==void 0&&_!=null&&f(t,["customBaseModel"],_);let b=u(l,["config","method"]);if(b===void 0&&(b="SUPERVISED_FINE_TUNING"),b==="SUPERVISED_FINE_TUNING"){const q=u(i,["batchSize"]);t!==void 0&&q!=null&&f(t,["supervisedTuningSpec","hyperParameters","batchSize"],q)}let M=u(l,["config","method"]);if(M===void 0&&(M="SUPERVISED_FINE_TUNING"),M==="SUPERVISED_FINE_TUNING"){const q=u(i,["learningRate"]);t!==void 0&&q!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRate"],q)}const k=u(i,["labels"]);t!==void 0&&k!=null&&f(t,["labels"],k);const I=u(i,["beta"]);t!==void 0&&I!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],I);const w=u(i,["baseTeacherModel"]);t!==void 0&&w!=null&&f(t,["distillationSpec","baseTeacherModel"],w);const Y=u(i,["tunedTeacherModelSource"]);t!==void 0&&Y!=null&&f(t,["distillationSpec","tunedTeacherModelSource"],Y);const D=u(i,["sftLossWeightMultiplier"]);t!==void 0&&D!=null&&f(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],D);const X=u(i,["outputUri"]);t!==void 0&&X!=null&&f(t,["outputUri"],X);const W=u(i,["encryptionSpec"]);return t!==void 0&&W!=null&&f(t,["encryptionSpec"],W),a}function NA(i,t){const l={},a=u(i,["baseModel"]);a!=null&&f(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&f(l,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&HA(c);const m=u(i,["config"]);return m!=null&&CA(m,l),l}function wA(i,t){const l={},a=u(i,["baseModel"]);a!=null&&f(l,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&f(l,["preTunedModel"],r);const c=u(i,["trainingDataset"]);c!=null&&VA(c,l,t);const m=u(i,["config"]);return m!=null&&AA(m,l,t),l}function MA(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function RA(i,t){const l={},a=u(i,["name"]);return a!=null&&f(l,["_url","name"],a),l}function IA(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const m=u(i,["filter"]);return t!==void 0&&m!=null&&f(t,["_query","filter"],m),a}function kA(i,t,l){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&f(t,["_query","pageSize"],r);const c=u(i,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const m=u(i,["filter"]);return t!==void 0&&m!=null&&f(t,["_query","filter"],m),a}function DA(i,t){const l={},a=u(i,["config"]);return a!=null&&IA(a,l),l}function UA(i,t){const l={},a=u(i,["config"]);return a!=null&&kA(a,l),l}function zA(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const c=u(i,["tunedModels"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>d0(g))),f(l,["tuningJobs"],m)}return l}function LA(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&f(l,["nextPageToken"],r);const c=u(i,["tuningJobs"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(g=>vc(g))),f(l,["tuningJobs"],m)}return l}function GA(i,t){const l={},a=u(i,["name"]);a!=null&&f(l,["model"],a);const r=u(i,["name"]);return r!=null&&f(l,["endpoint"],r),l}function HA(i,t){const l={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>c)),f(l,["examples","examples"],r)}return l}function VA(i,t,l){const a={};let r=u(l,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(r==="PREFERENCE_TUNING"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}else if(r==="DISTILLATION"){const m=u(i,["gcsUri"]);t!==void 0&&m!=null&&f(t,["distillationSpec","promptDatasetUri"],m)}let c=u(l,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],m)}else if(c==="PREFERENCE_TUNING"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],m)}else if(c==="DISTILLATION"){const m=u(i,["vertexDatasetResource"]);t!==void 0&&m!=null&&f(t,["distillationSpec","promptDatasetUri"],m)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function d0(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["state"]);c!=null&&f(l,["state"],wg(c));const m=u(i,["createTime"]);m!=null&&f(l,["createTime"],m);const g=u(i,["tuningTask","startTime"]);g!=null&&f(l,["startTime"],g);const y=u(i,["tuningTask","completeTime"]);y!=null&&f(l,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&f(l,["updateTime"],h);const x=u(i,["description"]);x!=null&&f(l,["description"],x);const T=u(i,["baseModel"]);T!=null&&f(l,["baseModel"],T);const _=u(i,["_self"]);return _!=null&&f(l,["tunedModel"],GA(_)),l}function vc(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["state"]);c!=null&&f(l,["state"],wg(c));const m=u(i,["createTime"]);m!=null&&f(l,["createTime"],m);const g=u(i,["startTime"]);g!=null&&f(l,["startTime"],g);const y=u(i,["endTime"]);y!=null&&f(l,["endTime"],y);const h=u(i,["updateTime"]);h!=null&&f(l,["updateTime"],h);const x=u(i,["error"]);x!=null&&f(l,["error"],x);const T=u(i,["description"]);T!=null&&f(l,["description"],T);const _=u(i,["baseModel"]);_!=null&&f(l,["baseModel"],_);const b=u(i,["tunedModel"]);b!=null&&f(l,["tunedModel"],b);const M=u(i,["preTunedModel"]);M!=null&&f(l,["preTunedModel"],M);const k=u(i,["supervisedTuningSpec"]);k!=null&&f(l,["supervisedTuningSpec"],k);const I=u(i,["preferenceOptimizationSpec"]);I!=null&&f(l,["preferenceOptimizationSpec"],I);const w=u(i,["distillationSpec"]);w!=null&&f(l,["distillationSpec"],w);const Y=u(i,["tuningDataStats"]);Y!=null&&f(l,["tuningDataStats"],Y);const D=u(i,["encryptionSpec"]);D!=null&&f(l,["encryptionSpec"],D);const X=u(i,["partnerModelTuningSpec"]);X!=null&&f(l,["partnerModelTuningSpec"],X);const W=u(i,["customBaseModel"]);W!=null&&f(l,["customBaseModel"],W);const q=u(i,["experiment"]);q!=null&&f(l,["experiment"],q);const Q=u(i,["labels"]);Q!=null&&f(l,["labels"],Q);const ve=u(i,["outputUri"]);ve!=null&&f(l,["outputUri"],ve);const ne=u(i,["pipelineJob"]);ne!=null&&f(l,["pipelineJob"],ne);const $=u(i,["serviceAccount"]);$!=null&&f(l,["serviceAccount"],$);const fe=u(i,["tunedModelDisplayName"]);fe!=null&&f(l,["tunedModelDisplayName"],fe);const de=u(i,["veoTuningSpec"]);return de!=null&&f(l,["veoTuningSpec"],de),l}function qA(i,t){const l={},a=u(i,["sdkHttpResponse"]);a!=null&&f(l,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&f(l,["name"],r);const c=u(i,["metadata"]);c!=null&&f(l,["metadata"],c);const m=u(i,["done"]);m!=null&&f(l,["done"],m);const g=u(i,["error"]);return g!=null&&f(l,["error"],g),l}function Qu(i,t){const l={},a=u(i,["gcsUri"]);a!=null&&f(l,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&f(l,["validationDatasetUri"],r),l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PA extends Wn{constructor(t){super(),this.apiClient=t,this.list=async(l={})=>new tl(Zn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(l),l),this.get=async l=>await this.getInternal(l),this.tune=async l=>{var a;if(this.apiClient.isVertexAI())if(l.baseModel.startsWith("projects/")){const r={tunedModelName:l.baseModel};!((a=l.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=l.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},l),{preTunedModel:r});return c.baseModel=void 0,await this.tuneInternal(c)}else{const r=Object.assign({},l);return await this.tuneInternal(r)}else{const r=Object.assign({},l),c=await this.tuneMldevInternal(r);let m="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?m=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(m=c.name.split("/operations/")[0]),{name:m,state:oc.JOB_STATE_QUEUED}}}}async getInternal(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=RA(t);return g=le("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>vc(x))}else{const h=MA(t);return g=le("{name}",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>d0(x))}}async listInternal(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=UA(t);return g=le("tuningJobs",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>{const T=LA(x),_=new Hh;return Object.assign(_,T),_})}else{const h=DA(t);return g=le("tunedModels",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>{const T=zA(x),_=new Hh;return Object.assign(_,T),_})}}async cancel(t){var l,a,r,c;let m,g="",y={};if(this.apiClient.isVertexAI()){const h=_A(t);return g=le("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>{const T=bA(x),_=new Vh;return Object.assign(_,T),_})}else{const h=TA(t);return g=le("{name}:cancel",h._url),y=h._query,delete h._url,delete h._query,m=this.apiClient.request({path:g,queryParams:y,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(x=>x.json().then(T=>{const _=T;return _.sdkHttpResponse={headers:x.headers},_})),m.then(x=>{const T=EA(x),_=new Vh;return Object.assign(_,T),_})}}async tuneInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI()){const g=wA(t,t);return c=le("tuningJobs",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>vc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var l,a;let r,c="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const g=NA(t);return c=le("tunedModels",g._url),m=g._query,delete g._url,delete g._query,r=this.apiClient.request({path:c,queryParams:m,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(h=>{const x=h;return x.sdkHttpResponse={headers:y.headers},x})),r.then(y=>qA(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OA{async download(t,l){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const BA=1024*1024*8,FA=3,YA=1e3,JA=2,Ms="x-goog-upload-status";async function jA(i,t,l){var a;const r=await m0(i,t,l),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ms])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function KA(i,t,l){var a;const r=await m0(i,t,l),c=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[Ms])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const m=_g(c),g=new bc;return Object.assign(g,m),g}async function m0(i,t,l){var a,r;let c=0,m=0,g=new sc(new Response),y="upload";for(c=i.size;m<c;){const h=Math.min(BA,c-m),x=i.slice(m,m+h);m+h>=c&&(y+=", finalize");let T=0,_=YA;for(;T<FA&&(g=await l.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(m),"Content-Length":String(h)}}}),!(!((a=g==null?void 0:g.headers)===null||a===void 0)&&a[Ms]));)T++,await $A(_),_=_*JA;if(m+=h,((r=g==null?void 0:g.headers)===null||r===void 0?void 0:r[Ms])!=="active")break;if(c<=m)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return g}async function XA(i){return{size:i.size,type:i.type}}function $A(i){return new Promise(t=>setTimeout(t,i))}class QA{async upload(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await jA(t,l,a)}async uploadToFileSearchStore(t,l,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await KA(t,l,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await XA(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZA{create(t,l,a){return new WA(t,l,a)}}class WA{constructor(t,l,a){this.url=t,this.headers=l,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dg="x-goog-api-key";class eN{constructor(t){this.apiKey=t}async addAuthHeaders(t,l){if(t.get(dg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(dg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tN="gl-node/";class Zo{get interactions(){var t;if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const l=this.httpOptions;l!=null&&l.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const a=new Tt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:l==null?void 0:l.timeout,maxRetries:(t=l==null?void 0:l.retryOptions)===null||t===void 0?void 0:t.attempts});return this._interactions=a.interactions,this._interactions}constructor(t){var l;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(l=t.vertexai)!==null&&l!==void 0?l:!1,this.apiKey=t.apiKey;const a=FS(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new eN(this.apiKey);this.apiClient=new Xb({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:tN+"web",uploader:new QA,downloader:new OA}),this.models=new pC(this.apiClient),this.live=new rC(this.apiClient,r,new ZA),this.batches=new S_(this.apiClient),this.chats=new t1(this.models,this.apiClient),this.caches=new Z_(this.apiClient),this.files=new m1(this.apiClient),this.operations=new hC(this.apiClient),this.authTokens=new IC(this.apiClient),this.tunings=new PA(this.apiClient),this.fileSearchStores=new VC(this.apiClient)}}var $l={};const nN=async i=>{const{provider:t,apiKey:l,baseUrl:a}=i,r=l||$l.API_KEY||"";if(!r&&t!=="custom")throw new Error(" API ");try{if(t==="google"){const c=`https://generativelanguage.googleapis.com/v1beta/models?key=${r}`,m=await fetch(c);if(!m.ok)throw new Error(`Google API Error: ${m.statusText}`);return((await m.json()).models||[]).map(y=>y.name.replace("models/","")).filter(y=>y.includes("gemini"))}else{const c=`${a.replace(/\/$/,"")}/v1/models`,m=await fetch(c,{headers:{Authorization:`Bearer ${r}`,"Content-Type":"application/json"}});if(!m.ok)throw new Error(`API Error: ${m.statusText}`);return((await m.json()).data||[]).map(y=>y.id)}}catch(c){throw console.error("Fetch models failed:",c),new Error(c.message||"")}},Zu=(i,t,l,a,r)=>{const{provider:c,apiKey:m,baseUrl:g,selectedModel:y}=i,h=m||$l.API_KEY||"";if(!h)throw new Error(" API ");let x=[];l.worldBookIds?x=t.filter(Y=>l.worldBookIds.includes(Y.id)):x=t.filter(Y=>Y.isActive);const T=x.filter(Y=>Y.position==="before_char"),_=x.filter(Y=>!Y.position||Y.position==="after_char"),b=Y=>Y.length===0?"":Y.map(D=>`${D.isMustRead?"!!![]!!! ":""}[ - ${D.title}]: ${D.content}`).join(`
`),M=b(T),k=b(_);let I="";l.replyLimit&&l.replyLimit>0?I=` ${l.replyLimit}  "|||" `:I=' "|||" ';const w=`
  ${M?`=== / ===
${M}
`:""}

   AI 
  

  ===  ===
  : ${a}
  ${r?`/: ${r}`:""}
  
  ===  ===
  : ${l.name}
  /: ${l.persona}
  : ${l.style}
   (): ${l.catchphrases}
  
  ===  ===
  : ${l.memory}
  
  ${k?`=== / ===
${k}
`:""}
  
  :
  1. 
  2. 
  3. 
  4. ${I}
  5. /
  6.  "<<<VOICE:>>>" 
  7.  "[: ]" 
  8. "<<<TRANSFER::>>>"
     - "<<<TRANSFER:52.00:>>>"
     -  "|||" 
     - 
  9.  "[] ..."
     -  "<<<Action:ACCEPT_TRANSFER>>>" 
     - 
  `;return c==="google"?{type:"google",instance:new Zo({apiKey:h}).chats.create({model:y||"gemini-2.0-flash",config:{systemInstruction:w}}),config:{apiKey:h,baseUrl:g,model:y,systemInstruction:w,history:[]}}:{type:c,instance:null,config:{apiKey:h,baseUrl:g||"https://api.openai.com",model:y||"gpt-3.5-turbo",systemInstruction:w,history:[]}}},iN=async function*(i,t,l){var a,r,c;try{if(i.type==="google"){const m=await i.instance.sendMessageStream({message:t});for await(const g of m){const y=g;y.text&&(yield y.text)}}else{const{apiKey:m,baseUrl:g,model:y,systemInstruction:h,history:x}=i.config,T=[{role:"system",content:h}];x.push({role:"user",content:t});const _=[...T,...x],b=`${g.replace(/\/$/,"")}/v1/chat/completions`,M=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${m}`},body:JSON.stringify({model:y,messages:_,stream:!0,temperature:.7})});if(!M.ok){const D=await M.text();throw new Error(`API Error ${M.status}: ${D}`)}if(!M.body)throw new Error("No response body");const k=M.body.getReader(),I=new TextDecoder;let w="",Y="";for(;;){const{done:D,value:X}=await k.read();if(D)break;w+=I.decode(X,{stream:!0});const W=w.split(`
`);w=W.pop()||"";for(const q of W){const Q=q.trim();if(!Q||!Q.startsWith("data: "))continue;const ve=Q.slice(6);if(ve!=="[DONE]")try{const $=((c=(r=(a=JSON.parse(ve).choices)==null?void 0:a[0])==null?void 0:r.delta)==null?void 0:c.content)||"";$&&(Y+=$,yield $)}catch{}}}x.push({role:"assistant",content:Y})}}catch(m){console.error("Error sending message:",m),yield` [: ${m.message||"API"}] `}},lN=async(i,t)=>{var l,a,r;try{const{apiKey:c,provider:m,baseUrl:g,selectedModel:y}=i,h=c||$l.API_KEY||"",x=`50


${t}`;if(m==="google")return(await new Zo({apiKey:h}).models.generateContent({model:y||"gemini-3-flash-preview",contents:x})).text;{const T=`${g.replace(/\/$/,"")}/v1/chat/completions`;return((r=(a=(l=(await(await fetch(T,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${h}`},body:JSON.stringify({model:y||"gpt-3.5-turbo",messages:[{role:"user",content:x}]})})).json()).choices)==null?void 0:l[0])==null?void 0:a.message)==null?void 0:r.content)||""}}catch(c){return console.error("Summary failed",c),""}},p0=async(i,t,l)=>{const{apiKey:a,selectedModel:r}=i,c=a||$l.API_KEY||"",m=`
    ${t.name}
    ${t.persona}
    ${t.style}
    ${t.memory}

     Instagram (Ins) 
    ${l?`${l}`:""}
    
    
    1. Caption/Content emoji
    2. 
    3. 
    
     JSON 
    {
      "caption": "..."
    }
  `;try{const y=await new Zo({apiKey:c}).models.generateContent({model:r||"gemini-2.0-flash",contents:" Ins ",config:{systemInstruction:m,responseMimeType:"application/json"}});return JSON.parse(y.text||"{}")}catch(g){return console.error("Gen Ins Post Error",g),{caption:" "}}},xc=async(i,t,l,a,r)=>{var h;const{apiKey:c,selectedModel:m}=i,g=c||$l.API_KEY||"",y=`
    ${t.name}
    ${t.persona}
    
     Instagram ${l}
     ${r} ${a}
    
    
  `;try{return((h=(await new Zo({apiKey:g}).models.generateContent({model:m||"gemini-2.0-flash",contents:y})).text)==null?void 0:h.trim())||" "}catch{return""}},oN=async(i,t,l)=>{const{apiKey:a,selectedModel:r}=i,c=a||$l.API_KEY||"",m=`
    ${t.name}
    ${t.persona}
    ${t.memory}

     ${l.user} Instagram 
    ${l.caption}
    ${l.image?"()":"()"}

    
    1. (like)
    2. (comment)
    
    
    -  (70%)
    -  (40%)
    
     JSON
    {
      "like": true/false,
      "comment": "" ( null)
    }
  `;try{const g=new Zo({apiKey:c}),y=[{text:""}];if(l.image&&l.image.startsWith("data:image")){const T=l.image.split(",")[1],_=l.image.split(";")[0].split(":")[1];y.unshift({inlineData:{mimeType:_,data:T}})}const x=(await g.models.generateContent({model:r||"gemini-2.0-flash",contents:y,config:{systemInstruction:m,responseMimeType:"application/json"}})).text;return x?JSON.parse(x):{like:!1,comment:null}}catch(g){return console.error("Reaction Check Error",g),{like:!1,comment:null}}},aN=[{name:"",thumb:"https://i.imgs.ovh/2026/02/18/yxwBmA.th.jpeg",url:"https://i.imgs.ovh/2026/02/18/yxwBmA.jpeg"},{name:"",thumb:"https://i.imgs.ovh/2026/02/18/yxwxP4.th.jpeg",url:"https://i.imgs.ovh/2026/02/18/yxwxP4.jpeg"},{name:"",thumb:"https://i.imgs.ovh/2026/02/18/yxwwcN.th.jpeg",url:"https://i.imgs.ovh/2026/02/18/yxwwcN.jpeg"},{name:"",thumb:"https://i.imgs.ovh/2026/02/18/yxw18H.th.jpeg",url:"https://i.imgs.ovh/2026/02/18/yxw18H.jpeg"},{name:"",thumb:"https://i.imgs.ovh/2026/02/18/yxw3tU.th.jpeg",url:"https://i.imgs.ovh/2026/02/18/yxw3tU.jpeg"}],sN=({onNavigate:i,worldEntries:t,settings:l,chatId:a,initialProfile:r,initialMessages:c,initialUserAvatarUrl:m,initialUserName:g,initialUserPersona:y,initialWallpaperUrl:h,onUpdateSession:x,insPosts:T,onUpdatePosts:_})=>{var bt;const[b,M]=j.useState("chat"),[k,I]=j.useState(c),[w,Y]=j.useState(r),[D,X]=j.useState(m),[W,q]=j.useState(g),[Q,ve]=j.useState(y||""),[ne,$]=j.useState(h||""),[fe,de]=j.useState([]),[Se,ce]=j.useState(""),[Ge,H]=j.useState(!1),[ee,oe]=j.useState(!1),[_e,we]=j.useState(!1),[A,O]=j.useState(!1),[te,ae]=j.useState(""),[he,xe]=j.useState(""),[Me,K]=j.useState(null),[ie,Ie]=j.useState(!1),rt=j.useRef(null),_t=j.useRef(null),gt=j.useRef(""),kt=j.useRef(0),Nn=50,Zt=j.useRef(null),[Pe,Dt]=j.useState(r),[Sn,ut]=j.useState(m),[wn,nl]=j.useState(g),[Di,yt]=j.useState(y||""),[Ui,zi]=j.useState(h||""),[ti,ni]=j.useState(!1),il=j.useRef(0),Li=j.useRef(null),ll=j.useRef(null),ol=j.useRef(null),Mn=()=>{var L;(L=rt.current)==null||L.scrollIntoView({behavior:"smooth"})};j.useEffect(()=>{b==="chat"&&Mn()},[k,Ge,b,ie,fe,ee,_e]),j.useEffect(()=>{x(k,w,D,W,Q,ne)},[k,w,D,W,Q,ne]),j.useEffect(()=>{vt()},[]);const vt=()=>{try{_t.current=Zu(l,t,w,W,Q)}catch(L){console.error(L),I(se=>[...se,{id:"error_"+Date.now(),role:"model",text:" API ",timestamp:Date.now()}])}},Wt=L=>{kt.current=L.targetTouches[0].clientY},Et=L=>{if(!ie||Ge)return;const se=L.changedTouches[0].clientY;kt.current-se>Nn&&Rn()},Ql=L=>{kt.current=L.clientY},al=L=>{if(!ie||Ge)return;kt.current-L.clientY>Nn&&Rn()},sl=L=>{Zt.current=setTimeout(()=>{K(L),navigator.vibrate&&navigator.vibrate(50)},600)},Tn=()=>{Zt.current&&(clearTimeout(Zt.current),Zt.current=null)},ii=()=>{Me&&(I(L=>L.filter(se=>se.id!==Me)),K(null))},B=async()=>{if(!Se.trim())return;const L=Se;ce(""),oe(!1),we(!1);const se={id:Date.now().toString(),role:"user",text:L,timestamp:Date.now()};I(ge=>[...ge,se]),Gt(L),gt.current=gt.current?gt.current+`
`+L:L,Ie(!0)},Z=L=>{const se={id:Date.now().toString(),role:"user",text:`[: ${L.name}]`,image:L.url,timestamp:Date.now()};I(ge=>[...ge,se]),gt.current=gt.current?gt.current+`
[: ${L.name}]`:`[: ${L.name}]`,Ie(!0)},Te=()=>{if(!te)return;const L=he||"",se={id:Date.now().toString(),role:"user",text:`[] ${te}`,timestamp:Date.now(),isTransfer:!0,transferAmount:te,transferNote:L,transferStatus:"pending"};I(ge=>[...ge,se]),gt.current=gt.current?gt.current+`
[: ${te}, : ${L}]`:`[: ${te}, : ${L}]`,Ie(!0),ae(""),xe(""),O(!1),we(!1)},Fe=L=>{I(se=>se.map(ge=>ge.id===L&&ge.isTransfer&&ge.transferStatus!=="accepted"?{...ge,transferStatus:"accepted"}:ge))},$e=()=>{I(L=>{const se=[...L].reverse().findIndex(ge=>ge.role==="user"&&ge.isTransfer&&ge.transferStatus==="pending");if(se!==-1){const ge=L.length-1-se,Ae=[...L];return Ae[ge]={...Ae[ge],transferStatus:"accepted"},Ae}return L})},Gt=async L=>{const se=/(||).*(ins|||instagram|)/i,ge=/().*(||)/i;if(se.test(L)){console.log("Triggering Autonomous Ins Post...");const Ae=k.slice(-10).map(Re=>`${Re.role==="user"?"":""}: ${Re.text}`).join(`
`)+`
: ${L}`;try{const Re=await p0(l,w,Ae),Be={id:Date.now().toString(),user:w.name,avatar:w.avatarUrl||"https://images.unsplash.com/photo-1620712943543-bcc4688e7485?ixlib=rb-1.2.1&auto=format&fit=crop&w=150&q=80",image:"",likes:Math.floor(Math.random()*50)+10,caption:Re.caption||"...",timeAgo:"",isLiked:!1,isSaved:!1,comments:[],isAiPost:!0};_(tt=>[Be,...tt]),sessionStorage.setItem(`last_ai_post_${w.name}`,Date.now().toString())}catch(Re){console.error("Auto post failed",Re)}}else if(ge.test(L)){console.log("Triggering Autonomous Ins Reply...");const Ae=T.find(tt=>tt.user===W),Re=T.find(tt=>tt.comments.some(Ct=>Ct.user===W&&!Ct.isAi)),Be=Re==null?void 0:Re.comments.filter(tt=>tt.user===W&&!tt.isAi).pop();if(Be&&Re)try{const tt=await xc(l,w,Re.caption,Be.text,Be.user),Ct={id:Date.now().toString(),user:w.name,text:`@${Be.user} ${tt}`,isAi:!0,timestamp:Date.now()};_(Ft=>Ft.map(xt=>xt.id===Re.id?{...xt,comments:[...xt.comments,Ct]}:xt))}catch(tt){console.error(tt)}else if(Ae)try{const tt=await xc(l,w,Ae.caption,"[Post Content]",Ae.user),Ct={id:Date.now().toString(),user:w.name,text:tt,isAi:!0,timestamp:Date.now()};_(Ft=>Ft.map(xt=>xt.id===Ae.id?{...xt,comments:[...xt.comments,Ct]}:xt))}catch(tt){console.error(tt)}}},Rn=async()=>{const L=gt.current;if(gt.current="",Ie(!1),!(!L.trim()||!_t.current)){H(!0);try{let se="";const ge=iN(_t.current,L,l);for await(const Ae of ge)se+=Ae;if(se.includes("<<<Action:ACCEPT_TRANSFER>>>")&&($e(),se=se.replace("<<<Action:ACCEPT_TRANSFER>>>","").trim()),se){const Ae=se.split("|||").map(Re=>Re.trim()).filter(Re=>Re);for(let Re=0;Re<Ae.length;Re++){let Be=Ae[Re];Re>0&&await new Promise(no=>setTimeout(no,800+Math.random()*500));const tt=/<<<VOICE\s*:\s*(\d+)\s*>>>([\s\S]*)/,Ct=Be.match(tt);let Ft=!1,xt=0;const oi=/<<<TRANSFER\s*:\s*([\d\.]+)\s*:\s*(.*?)>>>/,nt=Be.match(oi);let to=!1,rl="",_n="";Ct?(Ft=!0,xt=parseInt(Ct[1],10)||3,Be=Ct[2].trim()):nt&&(to=!0,rl=nt[1],_n=nt[2]||"",Be=`[] ${rl}`);const ai={id:Date.now().toString()+"_"+Re,role:"model",text:Be,timestamp:Date.now(),isVoice:Ft,voiceDuration:xt,isTransfer:to,transferAmount:rl,transferNote:_n,transferStatus:"pending"};I(no=>[...no,ai])}il.current+=1,il.current%10===0&&li()}}catch(se){console.error(se),I(ge=>[...ge,{id:Date.now().toString(),role:"model",text:"",timestamp:Date.now()}])}finally{H(!1)}}},In=()=>{M("chat"),setTimeout(()=>{const L="(System Instruction: )";gt.current=L,Rn()},400)},li=async()=>{try{I(L=>{const se=L.slice(-20).map(ge=>`${ge.role==="user"?W:w.name}: ${ge.text}`).join(`
`);return lN(l,se).then(ge=>{if(ge&&ge.trim()){console.log("Auto-summary generated:",ge);const Ae=`[${Date.now()}]: ${ge.trim()}`;Y(Re=>{const Be={...Re,memory:Re.memory?Re.memory+`
`+Ae:Ae};return _t.current=Zu(l,t,Be,W,Q),Be})}}),L})}catch(L){console.error("Summarization trigger failed",L)}},Wo=L=>{L.key==="Enter"&&!L.shiftKey&&(L.preventDefault(),B())},ea=()=>{Y(Pe),X(Sn),q(wn),ve(Di),$(Ui),_t.current=Zu(l,t,Pe,wn,Di),M("chat")},ta=L=>{var ge;const se=(ge=L.target.files)==null?void 0:ge[0];if(se){const Ae=new FileReader;Ae.onload=Re=>{var Be;(Be=Re.target)!=null&&Be.result&&Dt({...Pe,avatarUrl:Re.target.result})},Ae.readAsDataURL(se)}},Zl=L=>{var ge;const se=(ge=L.target.files)==null?void 0:ge[0];if(se){const Ae=new FileReader;Ae.onload=Re=>{var Be;(Be=Re.target)!=null&&Be.result&&ut(Re.target.result)},Ae.readAsDataURL(se)}},Wl=L=>{var ge;const se=(ge=L.target.files)==null?void 0:ge[0];if(se){const Ae=new FileReader;Ae.onload=Re=>{var Be;(Be=Re.target)!=null&&Be.result&&zi(Re.target.result)},Ae.readAsDataURL(se)}},na=L=>{let se=Pe.worldBookIds;se||(se=t.filter(Ae=>Ae.isActive).map(Ae=>Ae.id));const ge=se.includes(L)?se.filter(Ae=>Ae!==L):[...se,L];Dt({...Pe,worldBookIds:ge})},eo=L=>{fe.includes(L)?de(se=>se.filter(ge=>ge!==L)):de(se=>[...se,L])},mn=({isUser:L})=>{const se=L?D:w.avatarUrl;return v.jsx("div",{className:`w-10 h-10 rounded-[4px] overflow-hidden flex-shrink-0 bg-gray-200 dark:bg-zinc-700 ${L?"ml-3":"mr-3"}`,children:se?v.jsx("img",{src:se,alt:"Avatar",className:"w-full h-full object-cover"}):L?v.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 dark:bg-zinc-700 text-gray-500 dark:text-gray-300 font-bold text-xs",children:W.slice(0,2).toUpperCase()}):v.jsx("div",{className:"w-full h-full flex items-center justify-center bg-blue-600 text-white font-bold text-xs",children:w.name.slice(0,2).toUpperCase()})})},pt=k.slice(-20);return b==="details"?v.jsxs("div",{className:"h-full w-full bg-[#ededed] dark:bg-[#1c1c1e] flex flex-col animate-slide-up relative",children:[v.jsxs("div",{className:"h-24 bg-[#ededed] dark:bg-[#1c1c1e] border-b border-[#dcdcdc] dark:border-zinc-800 flex items-end pb-3 px-4 justify-between sticky top-0 z-20",children:[v.jsx("button",{onClick:()=>M("chat"),className:"flex items-center text-black dark:text-white active:opacity-50 w-16",children:v.jsx(Qn,{size:28,strokeWidth:1.5})}),v.jsx("div",{className:"flex flex-col items-center justify-center pb-1",children:v.jsx("span",{className:"text-[17px] font-medium text-[#111] dark:text-white",children:""})}),v.jsx("div",{className:"w-16"})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-0 pb-10",children:[v.jsxs("div",{className:"mt-2 bg-white dark:bg-zinc-900 px-4 py-6 flex flex-col items-center border-b border-gray-100 dark:border-zinc-800",children:[v.jsxs("div",{onClick:()=>{var L;return(L=Li.current)==null?void 0:L.click()},className:"w-20 h-20 bg-blue-600 rounded-lg flex items-center justify-center text-white font-bold text-2xl mb-3 shadow-md overflow-hidden relative group cursor-pointer",children:[Pe.avatarUrl?v.jsx("img",{src:Pe.avatarUrl,alt:"AI",className:"w-full h-full object-cover"}):v.jsx("span",{className:"text-2xl",children:Pe.name.slice(0,2).toUpperCase()}),v.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:v.jsx("div",{className:"bg-white/20 p-2 rounded-full backdrop-blur-sm",children:v.jsx(ec,{size:20,className:"text-white"})})})]}),v.jsx("input",{type:"file",ref:Li,className:"hidden",accept:"image/*",onChange:ta}),v.jsx("input",{className:"text-xl font-bold text-center bg-transparent border-b border-gray-200 dark:border-zinc-700 focus:border-green-500 outline-none pb-1 w-2/3 placeholder-gray-300 dark:placeholder-gray-600 text-black dark:text-white",value:Pe.name,onChange:L=>Dt({...Pe,name:L.target.value}),placeholder:""})]}),v.jsxs("div",{className:"mt-2",children:[v.jsx("div",{className:"pl-4 text-xs text-gray-500 uppercase mb-1 mt-4",children:""}),v.jsxs("div",{className:"bg-white dark:bg-zinc-900 border-t border-b border-gray-200 dark:border-zinc-800 pl-4",children:[v.jsxs("div",{className:"flex items-start py-3 pr-4 border-b border-gray-100 dark:border-zinc-800",children:[v.jsx("div",{className:"w-8 pt-1 text-gray-400",children:v.jsx(Ii,{size:20})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"text-[15px] text-black dark:text-white mb-1",children:""}),v.jsx("textarea",{className:"w-full text-[13px] text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-zinc-800 rounded p-2 h-16 outline-none resize-none",value:Pe.persona,onChange:L=>Dt({...Pe,persona:L.target.value}),placeholder:"..."})]})]}),v.jsxs("div",{className:"flex items-start py-3 pr-4 border-b border-gray-100 dark:border-zinc-800",children:[v.jsx("div",{className:"w-8 pt-1 text-gray-400",children:v.jsx(mS,{size:20})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"text-[15px] text-black dark:text-white mb-1",children:""}),v.jsx("input",{className:"w-full text-[13px] text-gray-600 dark:text-gray-300 bg-transparent outline-none",value:Pe.style,onChange:L=>Dt({...Pe,style:L.target.value}),placeholder:"..."})]})]}),v.jsxs("div",{className:"flex items-start py-3 pr-4",children:[v.jsx("div",{className:"w-8 pt-1 text-gray-400",children:v.jsx($x,{size:20})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"text-[15px] text-black dark:text-white mb-1",children:""}),v.jsx("input",{className:"w-full text-[13px] text-gray-600 dark:text-gray-300 bg-transparent outline-none",value:Pe.catchphrases,onChange:L=>Dt({...Pe,catchphrases:L.target.value}),placeholder:"..."})]})]})]})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("div",{className:"pl-4 text-xs text-gray-500 uppercase mb-1",children:""}),v.jsxs("div",{className:"bg-white dark:bg-zinc-900 border-t border-b border-gray-200 dark:border-zinc-800 pl-4 py-3 pr-4 flex items-start",children:[v.jsx("div",{className:"w-8 pt-1 text-gray-400",children:v.jsx(nx,{size:20})}),v.jsxs("div",{className:"flex-1",children:[v.jsx("div",{className:"text-[15px] text-black dark:text-white mb-1",children:""}),v.jsx("textarea",{className:"w-full text-[13px] text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-zinc-800 rounded p-2 h-24 outline-none resize-none leading-relaxed",value:Pe.memory,onChange:L=>Dt({...Pe,memory:L.target.value}),placeholder:"..."})]})]})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("div",{className:"pl-4 text-xs text-gray-500 uppercase mb-1",children:""}),v.jsxs("div",{className:"bg-white dark:bg-zinc-900 border-t border-b border-gray-200 dark:border-zinc-800",children:[v.jsxs("div",{className:"pl-4 py-3 pr-4 flex items-center justify-between cursor-pointer active:bg-gray-50 dark:active:bg-zinc-800",onClick:()=>ni(!ti),children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx($v,{size:20,className:"text-orange-500 mr-3"}),v.jsx("span",{className:"text-[15px] text-black dark:text-white",children:""})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("span",{className:"text-[15px] text-gray-400",children:(bt=Pe.worldBookIds)!=null&&bt.length?` ${Pe.worldBookIds.length} `:" ()"}),v.jsx(rx,{size:16,className:`text-gray-300 transition-transform ${ti?"rotate-90":""}`})]})]}),ti&&v.jsx("div",{className:"pl-4 pr-4 pb-2 border-t border-gray-100 dark:border-zinc-800 bg-gray-50 dark:bg-zinc-900/50",children:t.length===0?v.jsx("div",{className:"py-3 text-sm text-gray-400 text-center",children:""}):t.map(L=>{const se=Pe.worldBookIds?Pe.worldBookIds.includes(L.id):L.isActive;return v.jsxs("div",{className:"flex items-center justify-between py-2.5 border-b border-gray-200 dark:border-zinc-800 last:border-0 cursor-pointer",onClick:()=>na(L.id),children:[v.jsxs("div",{className:"flex flex-col flex-1 mr-2",children:[v.jsx("span",{className:"text-[14px] font-medium text-black dark:text-white",children:L.title}),v.jsx("span",{className:"text-[11px] text-gray-400 line-clamp-1",children:L.content})]}),se?v.jsx(tc,{size:18,className:"text-[#07C160] flex-shrink-0"}):v.jsx(gg,{size:18,className:"text-gray-300 flex-shrink-0"})]},L.id)})})]})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("div",{className:"pl-4 text-xs text-gray-500 uppercase mb-1",children:""}),v.jsxs("div",{className:"bg-white dark:bg-zinc-900 border-t border-b border-gray-200 dark:border-zinc-800 pl-4 py-3 pr-4",children:[v.jsx("div",{className:"flex items-center justify-between mb-2",children:v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(Dx,{size:20,className:"text-gray-400"}),v.jsx("span",{className:"text-[15px] text-black dark:text-white",children:""})]})}),v.jsx("div",{className:"w-full bg-[#eeeff1] dark:bg-zinc-800 p-1 rounded-lg flex h-9",children:[1,3,5,0].map(L=>{const se=Pe.replyLimit===L||L===0&&!Pe.replyLimit;return v.jsx("button",{onClick:()=>Dt({...Pe,replyLimit:L}),className:`flex-1 rounded-md text-[13px] font-medium transition-all duration-200 flex items-center justify-center ${se?"bg-white dark:bg-[#2c2c2e] text-black dark:text-white shadow-sm scale-[0.98]":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200"}`,children:L===0?"":`${L}`},L)})}),v.jsx("div",{className:"mt-2 text-[11px] text-gray-400 dark:text-gray-500 leading-tight",children:Pe.replyLimit?` ${Pe.replyLimit} `:""})]})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("div",{className:"pl-4 text-xs text-gray-500 uppercase mb-1",children:""}),v.jsx("div",{className:"bg-white dark:bg-zinc-900 border-t border-b border-gray-200 dark:border-zinc-800 pl-4 py-3 pr-4 cursor-pointer active:bg-gray-50 dark:active:bg-zinc-800 transition-colors",onClick:In,children:v.jsxs("div",{className:"flex items-center text-blue-500",children:[v.jsx(AS,{size:20,className:"mr-3"}),v.jsx("span",{className:"text-[15px] font-medium",children:""})]})})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("div",{className:"pl-4 text-xs text-gray-500 uppercase mb-1",children:" ()"}),v.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-xl overflow-hidden shadow-sm p-4 mx-4 mb-2 border border-gray-200 dark:border-zinc-800",children:v.jsxs("div",{className:"flex items-start",children:[v.jsxs("div",{onClick:()=>{var L;return(L=ll.current)==null?void 0:L.click()},className:"w-16 h-16 rounded-full bg-gray-200 dark:bg-zinc-700 flex-shrink-0 cursor-pointer overflow-hidden relative group",children:[Sn?v.jsx("img",{src:Sn,alt:"User",className:"w-full h-full object-cover"}):v.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-300 dark:bg-zinc-600",children:v.jsx(Ii,{size:24,className:"text-gray-500 dark:text-gray-400"})}),v.jsx("div",{className:"absolute inset-0 bg-black/30 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:v.jsx(ec,{size:20,className:"text-white"})})]}),v.jsxs("div",{className:"ml-4 flex-1",children:[v.jsx("label",{className:"text-sm font-medium text-gray-500 mb-1 block",children:""}),v.jsx("input",{type:"text",value:wn,onChange:L=>nl(L.target.value),className:"w-full text-lg font-semibold bg-transparent border-b border-gray-200 dark:border-zinc-700 focus:border-blue-500 outline-none pb-1 text-black dark:text-white mb-3"}),v.jsxs("div",{className:"flex items-center gap-1.5 mb-1.5",children:[v.jsx(Tx,{size:14,className:"text-gray-400"}),v.jsx("label",{className:"text-xs font-medium text-gray-500 block",children:""})]}),v.jsx("textarea",{className:"w-full text-[13px] text-gray-600 dark:text-gray-300 bg-gray-50 dark:bg-zinc-800 rounded p-2 h-16 outline-none resize-none leading-relaxed",value:Di,onChange:L=>yt(L.target.value),placeholder:"..."})]}),v.jsx("input",{type:"file",ref:ll,className:"hidden",accept:"image/*",onChange:Zl})]})})]}),v.jsxs("div",{className:"mt-4",children:[v.jsx("div",{className:"pl-4 text-xs text-gray-500 uppercase mb-1",children:""}),v.jsxs("div",{className:"bg-white dark:bg-zinc-900 border-t border-b border-gray-200 dark:border-zinc-800 pl-4 py-3 pr-4 flex items-center justify-between cursor-pointer active:bg-gray-50 dark:active:bg-zinc-800",onClick:()=>{var L;return(L=ol.current)==null?void 0:L.click()},children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"w-8 text-gray-400 flex items-center",children:v.jsx(Tc,{size:20})}),v.jsx("span",{className:"text-[15px] text-black dark:text-white",children:""})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[Ui?v.jsx("div",{className:"w-8 h-12 rounded bg-gray-200 overflow-hidden border border-gray-200",children:v.jsx("img",{src:Ui,className:"w-full h-full object-cover",alt:"Wallpaper"})}):v.jsx("span",{className:"text-[15px] text-gray-400",children:""}),v.jsx(Qn,{size:16,className:"text-gray-300 rotate-180"})]}),v.jsx("input",{type:"file",ref:ol,className:"hidden",accept:"image/*",onChange:Wl})]}),v.jsx("p",{className:"pl-4 text-[10px] text-gray-400 mb-4 mt-2",children:""})]}),v.jsxs("div",{className:"mt-2 px-4 pb-8",children:[v.jsx("button",{onClick:ea,className:"w-full bg-[#07C160] text-white font-bold py-3 rounded-lg active:bg-[#06ad56] transition-colors",children:""}),v.jsx("p",{className:"text-center text-xs text-gray-400 mt-4",children:""})]})]})]}):v.jsxs("div",{className:"h-full w-full bg-[#ededed] dark:bg-[#1c1c1e] flex flex-col animate-slide-up relative",children:[ne&&v.jsx("div",{className:"absolute inset-0 z-0 bg-cover bg-center",style:{backgroundImage:`url(${ne})`}}),!ne&&v.jsx("div",{className:"absolute inset-0 z-0 bg-[#ededed] dark:bg-[#1c1c1e]"}),Me&&v.jsx("div",{className:"fixed inset-0 z-[70] bg-black/30 backdrop-blur-sm flex items-center justify-center p-6 animate-fade-in",onClick:()=>K(null),children:v.jsxs("div",{className:"bg-white dark:bg-[#2c2c2e] w-[260px] rounded-xl overflow-hidden shadow-2xl animate-scale-up",onClick:L=>L.stopPropagation(),children:[v.jsxs("div",{className:"p-4 text-center border-b border-gray-200 dark:border-gray-700",children:[v.jsx("h3",{className:"text-base font-semibold text-black dark:text-white",children:""}),v.jsx("p",{className:"text-xs text-gray-500 mt-1",children:""})]}),v.jsx("button",{onClick:ii,className:"w-full py-3 text-red-500 font-semibold text-base active:bg-gray-100 dark:active:bg-[#3a3a3c] transition-colors",children:""}),v.jsx("button",{onClick:()=>K(null),className:"w-full py-3 text-black dark:text-white text-base border-t border-gray-100 dark:border-gray-700 active:bg-gray-100 dark:active:bg-[#3a3a3c] transition-colors",children:""})]})}),A&&v.jsx("div",{className:"absolute inset-0 z-[60] bg-black/50 backdrop-blur-sm flex items-center justify-center p-6 animate-fade-in",children:v.jsxs("div",{className:"bg-white dark:bg-zinc-800 w-full max-w-[300px] rounded-xl overflow-hidden shadow-2xl",children:[v.jsxs("div",{className:"bg-[#f9f9f9] dark:bg-zinc-900 p-4 border-b border-gray-200 dark:border-zinc-700 text-center relative",children:[v.jsx("h3",{className:"text-base font-semibold text-black dark:text-white",children:""}),v.jsx("button",{onClick:()=>O(!1),className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:v.jsx(ic,{size:20})})]}),v.jsxs("div",{className:"p-6",children:[v.jsxs("div",{className:"flex items-center justify-center mb-6",children:[v.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden mr-3",children:w.avatarUrl?v.jsx("img",{src:w.avatarUrl,className:"w-full h-full object-cover"}):v.jsx("div",{className:"bg-blue-600 w-full h-full flex items-center justify-center text-white font-bold",children:w.name.slice(0,1)})}),v.jsxs("span",{className:"text-sm text-black dark:text-white truncate max-w-[120px]",children:[" ",w.name]})]}),v.jsxs("div",{className:"mb-4",children:[v.jsx("div",{className:"text-xs text-gray-500 mb-2 font-medium",children:""}),v.jsxs("div",{className:"flex items-center border-b border-gray-200 dark:border-zinc-700 pb-2",children:[v.jsx("span",{className:"text-3xl font-bold text-black dark:text-white mr-2",children:""}),v.jsx("input",{type:"number",value:te,onChange:L=>ae(L.target.value),placeholder:"0.00",autoFocus:!0,className:"text-4xl font-semibold bg-transparent outline-none w-full text-black dark:text-white placeholder-gray-300"})]})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("div",{className:"text-xs text-gray-500 mb-1 font-medium",children:""}),v.jsx("input",{value:he,onChange:L=>xe(L.target.value),placeholder:"",className:"w-full text-sm bg-transparent outline-none text-black dark:text-white placeholder-gray-300"})]}),v.jsx("button",{onClick:Te,disabled:!te,className:"w-full bg-[#07C160] text-white font-semibold py-3 rounded-[6px] disabled:opacity-50 disabled:bg-[#07C160]/50",children:""})]})]})}),v.jsxs("div",{className:"h-24 bg-[#ededed]/90 dark:bg-[#1c1c1e]/90 backdrop-blur-sm border-b border-[#dcdcdc] dark:border-zinc-800 flex items-end pb-3 px-4 justify-between sticky top-0 z-20 transition-colors",children:[v.jsx("button",{onClick:()=>i(st.WECHAT_LIST),className:"flex items-center text-black dark:text-white active:opacity-50 w-16",children:v.jsx(Qn,{size:28,strokeWidth:1.5})}),v.jsxs("div",{className:"flex flex-col items-center justify-center pb-1 h-[44px]",children:[v.jsx("span",{className:"text-[17px] font-medium text-[#111] dark:text-white leading-tight",children:w.name}),Ge&&v.jsx("span",{className:"text-[10px] text-gray-500 leading-tight animate-pulse",children:"..."})]}),v.jsx("button",{onClick:()=>{Dt(w),ut(D),nl(W),yt(Q),zi(ne),M("details")},className:"flex items-center justify-end w-16 active:opacity-50",children:v.jsx(vg,{size:24,className:"text-[#111] dark:text-white"})})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-5 z-10 relative",onTouchStart:Wt,onTouchEnd:Et,onMouseDown:Ql,onMouseUp:al,children:[pt.map(L=>{const se=L.role==="user",ge=fe.includes(L.id),Ae=L.transferStatus==="accepted";return v.jsxs("div",{className:`flex w-full ${se?"justify-end":"justify-start"}`,children:[!se&&v.jsx(mn,{isUser:!1}),v.jsx("div",{className:"relative max-w-[75%] drop-shadow-sm filter select-none",onTouchStart:()=>sl(L.id),onTouchEnd:Tn,onMouseDown:()=>sl(L.id),onMouseUp:Tn,onMouseLeave:Tn,children:L.image?v.jsx("div",{className:"relative",children:v.jsx("img",{src:L.image,alt:L.text,className:"max-w-[100px] rounded-[8px]"})}):L.isTransfer?v.jsxs("div",{className:`w-[230px] rounded-[4px] overflow-hidden transition-opacity ${!se||Ae?"cursor-pointer active:opacity-80":"cursor-default"}`,onClick:()=>{se||Fe(L.id)},children:[v.jsxs("div",{className:`bg-[#f79c4a] p-3 flex items-center gap-3 transition-opacity ${Ae?"opacity-60":""}`,children:[v.jsx("div",{className:"w-10 h-10 rounded-full border-2 border-white flex items-center justify-center",children:Ae?v.jsx(ox,{className:"text-white",size:20,strokeWidth:3}):v.jsx(Fv,{className:"text-white",size:20})}),v.jsxs("div",{className:"flex flex-col text-white",children:[v.jsx("span",{className:"text-[16px] font-medium leading-none mb-1",children:Ae?"":`${L.transferAmount}`}),v.jsx("span",{className:"text-[12px] opacity-90 leading-tight",children:Ae?`${L.transferAmount}`:L.transferNote||""})]})]}),v.jsx("div",{className:"bg-white dark:bg-[#2c2c2e] px-3 py-1.5 flex items-center justify-between",children:v.jsx("span",{className:"text-[10px] text-gray-400",children:""})})]}):L.isVoice&&!ge?v.jsxs("div",{className:`
                          relative px-3 py-2.5 rounded-[6px] h-[44px] flex items-center cursor-pointer min-w-[80px] select-none
                          bg-white dark:bg-[#2c2c2e] text-black dark:text-white 
                          before:content-[""] before:absolute before:top-3.5 before:-left-1.5 before:w-3 before:h-3 before:bg-white dark:before:bg-[#2c2c2e] before:rotate-45
                          active:bg-gray-100 dark:active:bg-[#3a3a3c] transition-colors
                        `,style:{width:`${Math.min(200,80+(L.voiceDuration||3)*5)}px`},onClick:()=>eo(L.id),children:[v.jsx(ES,{size:20,className:"rotate-90 text-gray-800 dark:text-white mr-2"}),v.jsxs("span",{className:"text-[15px] text-gray-500 dark:text-gray-400 font-medium ml-auto",children:[L.voiceDuration||3,'"']})]}):v.jsxs("div",{onClick:()=>L.isVoice&&eo(L.id),className:`
                        relative px-3 py-2.5 rounded-[6px] text-[16px] leading-relaxed break-words
                        ${se?'bg-[#95ec69] dark:bg-[#3eb575] text-black dark:text-black after:content-[""] after:absolute after:top-3.5 after:-right-1.5 after:w-3 after:h-3 after:bg-[#95ec69] dark:after:bg-[#3eb575] after:rotate-45':'bg-white dark:bg-[#2c2c2e] text-black dark:text-white before:content-[""] before:absolute before:top-3.5 before:-left-1.5 before:w-3 before:h-3 before:bg-white dark:before:bg-[#2c2c2e] before:rotate-45'}
                      `,children:[L.text,L.isVoice&&ge&&v.jsx("div",{className:"border-t border-gray-100 dark:border-gray-600 mt-2 pt-1 text-[10px] text-gray-400",children:""})]})}),se&&v.jsx(mn,{isUser:!0})]},L.id)}),v.jsx("div",{ref:rt})]}),ie&&!Ge&&v.jsx("div",{className:"absolute bottom-28 left-0 right-0 z-10 flex justify-center pb-2 animate-pulse pointer-events-none",children:v.jsxs("div",{className:"bg-black/20 dark:bg-white/10 backdrop-blur-sm px-3 py-1.5 rounded-full flex flex-col items-center gap-0.5",children:[v.jsx(cx,{size:16,className:"text-white/80"}),v.jsx("span",{className:"text-[10px] text-white/90 font-medium",children:""})]})}),v.jsxs("div",{className:"bg-[#f7f7f7] dark:bg-[#1c1c1e] border-t border-[#dcdcdc] dark:border-zinc-800 safe-area-bottom z-20",children:[v.jsxs("div",{className:"flex items-end gap-2 px-3 py-2.5 min-h-[56px]",children:[v.jsx("button",{className:"p-1 mb-1 text-[#111] dark:text-white opacity-80 active:opacity-50",children:v.jsx(Ox,{size:28,strokeWidth:1.5})}),v.jsx("div",{className:"flex-1 bg-white dark:bg-[#2c2c2e] rounded-[6px] min-h-[40px] flex items-center mb-0.5",children:v.jsx("input",{value:Se,onChange:L=>ce(L.target.value),onKeyDown:Wo,onFocus:()=>{oe(!1),we(!1)},className:"w-full h-full bg-transparent px-3 py-2 text-[16px] focus:outline-none text-black dark:text-white"})}),v.jsx("button",{className:`p-1 mb-1 text-[#111] dark:text-white active:opacity-50 ${ee?"opacity-100 text-[#07C160]":"opacity-80"}`,onClick:()=>{oe(!ee),we(!1)},children:v.jsx(uS,{size:28,strokeWidth:1.5})}),Se.trim()?v.jsx("button",{onClick:B,className:"bg-[#07C160] text-white px-3 py-1.5 rounded-[4px] text-sm font-medium mb-1.5",children:""}):v.jsx("button",{onClick:()=>{we(!_e),oe(!1)},className:`p-1 mb-1 text-[#111] dark:text-white active:opacity-50 ${_e?"opacity-100":"opacity-80"}`,children:v.jsx(hg,{size:28,strokeWidth:1.5})})]}),ee&&v.jsx("div",{className:"h-[260px] bg-[#ededed] dark:bg-[#1c1c1e] border-t border-[#dcdcdc] dark:border-zinc-800 p-4 grid grid-cols-5 gap-4 overflow-y-auto animate-slide-up",children:aN.map(L=>v.jsxs("div",{onClick:()=>Z(L),className:"flex flex-col items-center gap-1 cursor-pointer active:scale-95 transition-transform",children:[v.jsx("div",{className:"w-16 h-16 bg-white dark:bg-zinc-800 rounded-lg p-1 shadow-sm border border-gray-100 dark:border-zinc-700",children:v.jsx("img",{src:L.thumb,alt:L.name,className:"w-full h-full object-contain"})}),v.jsx("span",{className:"text-[10px] text-gray-500",children:L.name})]},L.name))}),_e&&v.jsx("div",{className:"h-[260px] bg-[#ededed] dark:bg-[#1c1c1e] border-t border-[#dcdcdc] dark:border-zinc-800 p-6 grid grid-cols-4 gap-6 overflow-y-auto animate-slide-up",children:v.jsxs("div",{onClick:()=>O(!0),className:"flex flex-col items-center gap-2 cursor-pointer active:opacity-60",children:[v.jsx("div",{className:"w-14 h-14 bg-white dark:bg-zinc-800 rounded-xl flex items-center justify-center shadow-sm border border-gray-100 dark:border-zinc-700 overflow-hidden",children:v.jsx("img",{src:"https://i.imgs.ovh/2026/02/18/yx1XVb.th.jpeg",className:"w-full h-full object-cover",alt:""})}),v.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:""})]})})]})]})},rN=({entries:i,onUpdateEntries:t,onNavigate:l})=>{const[a,r]=j.useState(null),[c,m]=j.useState(""),[g,y]=j.useState(""),[h,x]=j.useState(!1),[T,_]=j.useState("before_char"),b=D=>{const X=i.map(W=>W.id===D?{...W,isActive:!W.isActive}:W);t(X)},M=D=>{const X=i.filter(W=>W.id!==D);t(X),a===D&&I()},k=D=>{r(D.id),m(D.title),y(D.content),x(D.isMustRead||!1),_(D.position||"before_char")},I=()=>{r(null),m(""),y(""),x(!1),_("before_char")},w=()=>{if(!c.trim())return;const D={title:c,content:g,isMustRead:h,position:T};if(a==="new"){const X={id:Date.now().toString(),title:c,content:g,isActive:!0,isMustRead:h,position:T};t([...i,X])}else{const X=i.map(W=>W.id===a?{...W,...D}:W);t(X)}I()},Y=()=>{r("new"),m(""),y(""),x(!1),_("before_char")};return v.jsxs("div",{className:"h-full w-full bg-[#fcfcfc] dark:bg-[#1c1c1e] text-black dark:text-white flex flex-col animate-slide-up",children:[v.jsxs("div",{className:"h-24 bg-white/80 dark:bg-[#1c1c1e]/80 backdrop-blur-md border-b border-gray-200 dark:border-zinc-800 flex items-end pb-3 px-4 justify-between sticky top-0 z-10",children:[v.jsxs("button",{onClick:()=>l(st.HOME),className:"flex items-center text-orange-500 font-medium text-lg active:opacity-50",children:[v.jsx(Qn,{size:24}),v.jsx("span",{children:""})]}),v.jsx("h1",{className:"text-lg font-bold translate-y-[-2px]",children:""}),v.jsx("button",{onClick:Y,className:"text-orange-500 active:opacity-50",disabled:a!==null,children:v.jsx(Sg,{size:28})})]}),a&&v.jsx("div",{className:"absolute inset-0 z-20 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4",children:v.jsxs("div",{className:"bg-white dark:bg-zinc-800 w-full max-w-sm rounded-2xl p-5 shadow-2xl flex flex-col max-h-[90%]",children:[v.jsx("h3",{className:"text-lg font-bold mb-4",children:a==="new"?"":""}),v.jsx("input",{className:"w-full p-3 bg-gray-100 dark:bg-zinc-900 rounded-lg mb-3 outline-none focus:ring-2 ring-orange-400 font-medium",placeholder:"...",value:c,onChange:D=>m(D.target.value)}),v.jsx("textarea",{className:"w-full p-3 bg-gray-100 dark:bg-zinc-900 rounded-lg mb-4 h-32 outline-none focus:ring-2 ring-orange-400 resize-none text-sm leading-relaxed",placeholder:"/...",value:g,onChange:D=>y(D.target.value)}),v.jsxs("div",{className:"mb-6 space-y-3",children:[v.jsxs("div",{className:"flex flex-col gap-1.5",children:[v.jsx("span",{className:"text-xs text-gray-500 font-medium ml-1",children:""}),v.jsxs("div",{className:"flex bg-gray-100 dark:bg-zinc-900 p-1 rounded-lg",children:[v.jsxs("button",{onClick:()=>_("before_char"),className:`flex-1 py-1.5 text-xs rounded-md font-medium transition-all flex items-center justify-center gap-1 ${T==="before_char"?"bg-white dark:bg-zinc-700 shadow-sm text-black dark:text-white":"text-gray-400"}`,children:[v.jsx(Kv,{size:14}),""]}),v.jsxs("button",{onClick:()=>_("after_char"),className:`flex-1 py-1.5 text-xs rounded-md font-medium transition-all flex items-center justify-center gap-1 ${T==="after_char"?"bg-white dark:bg-zinc-700 shadow-sm text-black dark:text-white":"text-gray-400"}`,children:[v.jsx(Ov,{size:14}),""]})]})]}),v.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg border transition-all cursor-pointer ${h?"bg-orange-50 border-orange-200 dark:bg-orange-900/20 dark:border-orange-800":"bg-transparent border-gray-100 dark:border-zinc-700"}`,onClick:()=>x(!h),children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx(dx,{size:16,className:h?"text-orange-500":"text-gray-400"}),v.jsx("span",{className:`text-sm font-medium ${h?"text-orange-600 dark:text-orange-400":"text-gray-500"}`,children:"AI  ()"})]}),v.jsx("div",{className:`w-5 h-5 rounded border flex items-center justify-center transition-colors ${h?"bg-orange-500 border-orange-500":"border-gray-300"}`,children:h&&v.jsx(tc,{size:14,className:"text-white"})})]})]}),v.jsxs("div",{className:"flex gap-2 mt-auto",children:[v.jsx("button",{onClick:I,className:"flex-1 py-3 bg-gray-100 dark:bg-zinc-700 rounded-xl font-medium text-gray-600 dark:text-gray-300",children:""}),v.jsx("button",{onClick:w,className:"flex-1 py-3 bg-orange-500 text-white rounded-xl font-medium shadow-orange-200 dark:shadow-none shadow-lg",children:""})]})]})}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3",children:[i.length===0&&v.jsx("div",{className:"text-center text-gray-400 mt-20",children:"+"}),i.map(D=>v.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-xl shadow-sm border border-gray-100 dark:border-zinc-800 flex items-start gap-3",children:[v.jsx("button",{onClick:()=>b(D.id),className:"mt-1",children:D.isActive?v.jsx(tc,{className:"text-orange-500"}):v.jsx(gg,{className:"text-gray-300"})}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[v.jsx("h3",{className:`font-semibold ${!D.isActive&&"text-gray-400"}`,children:D.title}),D.isMustRead&&v.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-red-100 text-red-600 rounded font-medium",children:""}),v.jsx("span",{className:"text-[10px] px-1.5 py-0.5 bg-gray-100 text-gray-500 rounded font-medium",children:D.position==="after_char"?"":""})]}),v.jsx("p",{className:`text-sm leading-relaxed ${D.isActive?"text-gray-600 dark:text-gray-300":"text-gray-300"}`,children:D.content})]}),v.jsxs("div",{className:"flex flex-col gap-2",children:[v.jsx("button",{onClick:()=>k(D),className:"p-1 text-gray-400 hover:text-blue-500",children:v.jsx(jx,{size:18})}),v.jsx("button",{onClick:()=>M(D.id),className:"p-1 text-gray-400 hover:text-red-500",children:v.jsx(nc,{size:18})})]})]},D.id))]})]})},uN=({settings:i,onSave:t,onNavigate:l})=>{const[a,r]=j.useState(i),[c,m]=j.useState(!1),[g,y]=j.useState(!1),[h,x]=j.useState(null),T=j.useRef(null),_=()=>{t(a),m(!0),setTimeout(()=>m(!1),2e3)},b=()=>{r({...i,apiKey:""})},M=async()=>{y(!0),x(null);try{const w=await nN(a);w&&w.length>0?r(Y=>({...Y,availableModels:w,selectedModel:w.includes(Y.selectedModel)?Y.selectedModel:w[0]})):x("")}catch(w){x(w.message)}finally{y(!1)}},k=w=>{var D;const Y=(D=w.target.files)==null?void 0:D[0];if(Y){const X=new FileReader;X.onload=W=>{var q;(q=W.target)!=null&&q.result&&r({...a,homeWallpaperUrl:W.target.result})},X.readAsDataURL(Y)}},I=[{id:"google",label:"Gemini"},{id:"openai",label:"OpenAI"},{id:"custom",label:"Custom"}];return v.jsxs("div",{className:"h-full w-full bg-[#f2f2f7] dark:bg-black text-black dark:text-white flex flex-col animate-slide-up",children:[v.jsxs("div",{className:"h-24 bg-white/80 dark:bg-zinc-900/80 backdrop-blur-md border-b border-gray-200 dark:border-zinc-800 flex items-end pb-3 px-4 justify-between sticky top-0 z-10",children:[v.jsxs("button",{onClick:()=>l(st.HOME),className:"flex items-center text-blue-500 font-medium text-lg active:opacity-50",children:[v.jsx(Qn,{size:24}),v.jsx("span",{children:""})]}),v.jsx("h1",{className:"text-lg font-bold translate-y-[-2px]",children:""}),v.jsx("div",{className:"w-16"})," "]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-6",children:[v.jsxs("div",{children:[v.jsx("h2",{className:"text-gray-500 text-xs font-semibold uppercase ml-4 mb-2",children:""}),v.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-xl overflow-hidden shadow-sm p-2 mb-4",children:v.jsx("div",{className:"bg-gray-100 dark:bg-zinc-800 p-1 rounded-lg flex",children:I.map(w=>{const Y=a.provider===w.id;return v.jsx("button",{onClick:()=>r({...a,provider:w.id,baseUrl:w.id==="google"?"https://generativelanguage.googleapis.com":w.id==="openai"?"https://api.openai.com":a.baseUrl}),className:`flex-1 flex items-center justify-center gap-2 py-2 text-xs font-medium rounded-md transition-all duration-200 ${Y?"bg-white dark:bg-zinc-600 text-black dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:w.label},w.id)})})}),v.jsx("h2",{className:"text-gray-500 text-xs font-semibold uppercase ml-4 mb-2",children:""}),v.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl overflow-hidden shadow-sm",children:[v.jsxs("div",{className:"flex items-center p-4 border-b border-gray-100 dark:border-zinc-800",children:[v.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-500 flex items-center justify-center mr-3 flex-shrink-0",children:v.jsx(Ix,{size:18,className:"text-white"})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("label",{className:"text-sm font-medium block",children:"API "}),v.jsx("input",{type:"password",value:a.apiKey,onChange:w=>r({...a,apiKey:w.target.value}),placeholder:"sk-...",className:"w-full bg-transparent text-gray-500 text-sm focus:outline-none mt-1"})]})]}),v.jsxs("div",{className:"flex items-center p-4 border-b border-gray-100 dark:border-zinc-800",children:[v.jsx("div",{className:"w-8 h-8 rounded-lg bg-green-500 flex items-center justify-center mr-3 flex-shrink-0",children:v.jsx(Ex,{size:18,className:"text-white"})}),v.jsxs("div",{className:"flex-1 min-w-0",children:[v.jsx("label",{className:"text-sm font-medium block",children:"API  (Base URL)"}),v.jsx("input",{type:"text",value:a.baseUrl,onChange:w=>r({...a,baseUrl:w.target.value}),placeholder:"https://...",className:"w-full bg-transparent text-gray-500 text-sm focus:outline-none mt-1"})]})]}),v.jsxs("div",{className:"flex flex-col p-4",children:[v.jsxs("div",{className:"flex items-center mb-2",children:[v.jsx("div",{className:"w-8 h-8 rounded-lg bg-purple-500 flex items-center justify-center mr-3 flex-shrink-0",children:v.jsx(ex,{size:18,className:"text-white"})}),v.jsx("div",{className:"flex-1",children:v.jsx("label",{className:"text-sm font-medium block",children:""})}),v.jsxs("button",{onClick:M,disabled:g,className:"flex items-center gap-1 bg-gray-100 dark:bg-zinc-800 px-3 py-1.5 rounded-md text-xs font-medium text-blue-600 dark:text-blue-400 active:opacity-60 disabled:opacity-50",children:[g?v.jsx(kp,{size:12,className:"animate-spin"}):v.jsx(vx,{size:12}),g?"...":""]})]}),h&&v.jsx("div",{className:"text-[11px] text-red-500 mb-2 pl-11",children:h}),v.jsx("div",{className:"pl-11",children:v.jsxs("div",{className:"relative",children:[v.jsx("select",{value:a.selectedModel,onChange:w=>r({...a,selectedModel:w.target.value}),className:"w-full appearance-none bg-gray-50 dark:bg-zinc-800 border border-gray-200 dark:border-zinc-700 text-black dark:text-white text-sm rounded-lg px-3 py-2.5 focus:outline-none focus:border-blue-500",children:a.availableModels.map(w=>v.jsx("option",{value:w,children:w},w))}),v.jsx("div",{className:"absolute right-3 top-3 pointer-events-none text-gray-500",children:v.jsx(Qn,{size:16,className:"-rotate-90"})})]})})]}),v.jsx("div",{className:"p-4 border-t border-gray-100 dark:border-zinc-800",children:v.jsxs("button",{onClick:b,className:"w-full flex items-center justify-center gap-2 text-red-500 text-sm font-medium active:opacity-60",children:[v.jsx(kp,{size:14})," API "]})})]}),v.jsx("p",{className:"text-xs text-gray-400 ml-4 mt-2",children:"API  Gemini OpenAI  Base URL ( /chat/completions)"})]}),v.jsxs("div",{children:[v.jsx("h2",{className:"text-gray-500 text-xs font-semibold uppercase ml-4 mb-2",children:""}),v.jsx("div",{className:"bg-white dark:bg-zinc-900 rounded-xl overflow-hidden shadow-sm p-2 mb-4",children:v.jsx("div",{className:"bg-gray-100 dark:bg-zinc-800 p-1 rounded-lg flex",children:["system","light","dark"].map(w=>{const Y=a.theme===w;return v.jsxs("button",{onClick:()=>r({...a,theme:w}),className:`flex-1 flex items-center justify-center gap-2 py-2 text-xs font-medium rounded-md transition-all duration-200 ${Y?"bg-white dark:bg-zinc-600 text-black dark:text-white shadow-sm":"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"}`,children:[w==="system"&&v.jsx(sS,{size:14}),w==="light"&&v.jsx(yS,{size:14}),w==="dark"&&v.jsx(Yx,{size:14}),w==="system"?"":w==="light"?"":""]},w)})})}),v.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-xl overflow-hidden shadow-sm p-0",children:[v.jsxs("div",{className:"flex items-center justify-between p-4 active:bg-gray-50 dark:active:bg-zinc-800 cursor-pointer border-b border-gray-100 dark:border-zinc-800",onClick:()=>{var w;return(w=T.current)==null?void 0:w.click()},children:[v.jsxs("div",{className:"flex items-center gap-3",children:[v.jsx("div",{className:"w-8 h-8 rounded-lg bg-pink-500 flex items-center justify-center text-white",children:v.jsx(Tc,{size:18})}),v.jsx("span",{className:"text-sm font-medium",children:""})]}),v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsx("div",{className:"w-8 h-12 bg-gray-200 rounded border border-gray-300 dark:border-zinc-700 overflow-hidden relative shadow-sm",children:v.jsx("img",{src:a.homeWallpaperUrl||$n.homeWallpaperUrl,className:"w-full h-full object-cover",alt:"Wallpaper"})}),v.jsx(Qn,{size:16,className:"text-gray-300 rotate-180"})]})]}),v.jsxs("div",{className:"p-4 border-b border-gray-100 dark:border-zinc-800",children:[v.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-2",children:[v.jsx("span",{children:""}),v.jsxs("span",{children:[Math.round((a.homeWallpaperOpacity??.8)*100),"%"]})]}),v.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.05",value:a.homeWallpaperOpacity??.8,onChange:w=>r({...a,homeWallpaperOpacity:parseFloat(w.target.value)}),className:"w-full h-1.5 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-zinc-700 accent-blue-500"})]}),a.homeWallpaperUrl!==$n.homeWallpaperUrl&&v.jsxs("div",{className:"flex items-center justify-center p-3 cursor-pointer active:bg-gray-50 dark:active:bg-zinc-800 text-red-500",onClick:()=>r({...a,homeWallpaperUrl:$n.homeWallpaperUrl,homeWallpaperOpacity:$n.homeWallpaperOpacity}),children:[v.jsx(Wx,{size:16,className:"mr-2"}),v.jsx("span",{className:"text-sm font-medium",children:""})]})]}),v.jsx("input",{type:"file",ref:T,className:"hidden",accept:"image/*",onChange:k})]}),v.jsxs("button",{onClick:_,className:`w-full py-3 rounded-xl font-semibold flex items-center justify-center gap-2 transition-all ${c?"bg-green-500 text-white":"bg-blue-500 text-white active:bg-blue-600"}`,children:[c?"":"",!c&&v.jsx(tS,{size:18})]})]})]})},cN=({active:i})=>v.jsx("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:i?"#07C160":"none",xmlns:"http://www.w3.org/2000/svg",children:v.jsx("path",{d:"M19.07 15.34C20.25 14.12 21 12.63 21 11C21 7.13 16.97 4 12 4C7.03 4 3 7.13 3 11C3 14.87 7.03 18 12 18C13.2 18 14.34 17.82 15.38 17.49L19.5 19.5L19.07 15.34Z",stroke:i?"#07C160":"currentColor",strokeWidth:i?"0":"1.2"})}),fN=({active:i})=>v.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:i?"#07C160":"none",xmlns:"http://www.w3.org/2000/svg",children:[v.jsx("path",{d:"M4 20H20V19C20 16.2386 17.7614 14 15 14H9C6.23858 14 4 16.2386 4 19V20Z",stroke:i?"#07C160":"currentColor",strokeWidth:i?"0":"1.2"}),v.jsx("path",{d:"M12 11C13.6569 11 15 9.65685 15 8C15 6.34315 13.6569 5 12 5C10.3431 5 9 6.34315 9 8C9 9.65685 10.3431 11 12 11Z",stroke:i?"#07C160":"currentColor",strokeWidth:i?"0":"1.2"})]}),dN=({onNavigate:i,onChatSelect:t,settings:l,defaultAiProfile:a,chatSessions:r,extraChats:c,setExtraChats:m,deletedChatIds:g,setDeletedChatIds:y})=>{const[h,x]=j.useState("chat"),[T,_]=j.useState(!1),[b,M]=j.useState(!1),[k,I]=j.useState(""),[w,Y]=j.useState(null),[D,X]=j.useState(null),W=j.useRef(0),q=j.useRef(0),Q=j.useRef(!1),ve={id:"gemini",name:a.name,avatar:a.avatarUrl,lastMsg:"[AI ] ",time:"",isAi:!0},ne=K=>{if(!K)return"";const ie=new Date(K),Ie=new Date;return ie.toDateString()===Ie.toDateString()?ie.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):ie.toLocaleDateString([],{month:"numeric",day:"numeric"})},$=K=>{const ie=r[K.id];if(!ie)return K;const Ie=ie.messages.length>0?ie.messages[ie.messages.length-1]:null,rt=Ie?Ie.text:K.lastMsg,_t=Ie?ne(Ie.timestamp):K.time;return{...K,name:ie.profile.name||K.name,avatar:ie.profile.avatarUrl||K.avatar,lastMsg:rt,time:_t}},fe=[ve,...c].filter(K=>!g.includes(K.id)).map($),de=K=>{const ie=K.id.endsWith("_c")?K.id.slice(0,-2):K.id;if(ie==="gemini"){const Ie=r.gemini;if(Ie)return{...K,name:Ie.profile.name,avatar:Ie.profile.avatarUrl||K.avatar}}else if(ie.startsWith("user_")){const Ie=r[ie];if(Ie)return{...K,name:Ie.profile.name,avatar:Ie.profile.avatarUrl||K.avatar}}return K},Se=()=>{_(!1),I(""),M(!0)},ce=()=>{if(k.trim()){const K={id:`user_${Date.now()}`,name:k,lastMsg:"",time:"",isAi:!0};m(ie=>[K,...ie])}M(!1)},Ge=(K,ie)=>{W.current=K,q.current=ie,Q.current=!1},H=(K,ie,Ie)=>{const rt=W.current-K,_t=Math.abs(q.current-ie);(Math.abs(rt)>5||_t>5)&&(Q.current=!0),!(_t>30)&&(rt>50?X(Ie):rt<-30&&D===Ie&&X(null))},ee=K=>{Ge(K.targetTouches[0].clientX,K.targetTouches[0].clientY)},oe=(K,ie)=>{H(K.changedTouches[0].clientX,K.changedTouches[0].clientY,ie)},_e=K=>{Ge(K.clientX,K.clientY)},we=(K,ie)=>{H(K.clientX,K.clientY,ie)},A=K=>{if(Q.current){Q.current=!1;return}const{id:ie,name:Ie,avatar:rt}=K;if(D===ie){X(null);return}if(D){X(null);return}(ie==="gemini"||ie.startsWith("user_"))&&t(ie,Ie,rt)},O=(K,ie)=>{ie==null||ie.stopPropagation(),Y(K)},te=()=>{w&&(w.id==="gemini"?y(K=>[...K,w.id]):m(K=>K.filter(ie=>ie.id!==w.id)),X(null),Y(null))},he=[{id:"new",name:"",icon:v.jsx("div",{className:"bg-orange-400 w-full h-full flex items-center justify-center",children:v.jsx(Ii,{size:20,className:"text-white"})})},{id:"group",name:"",icon:v.jsx("div",{className:"bg-[#07C160] w-full h-full flex items-center justify-center",children:v.jsx(TS,{size:20,className:"text-white"})})},{id:"tag",name:"",icon:v.jsx("div",{className:"bg-blue-500 w-full h-full flex items-center justify-center",children:v.jsx("div",{className:"text-white font-bold text-[10px]",children:"TAG"})})},{id:"pub",name:"",icon:v.jsx("div",{className:"bg-blue-600 w-full h-full flex items-center justify-center",children:v.jsx(Ii,{size:20,className:"text-white"})})},{id:"sep",isSeparator:!0,letter:"G"},{id:"gemini_c",name:a.name,avatar:a.avatarUrl,isAi:!0},...c.length>0?[{id:"sep_added",isSeparator:!0,letter:"#"}]:[],...c.map(K=>({id:K.id+"_c",name:K.name,avatar:K.avatar,isAi:!0}))].map(de),xe=({title:K,showPlus:ie=!0})=>v.jsxs("div",{className:"h-[96px] bg-[#ededed] dark:bg-[#1c1c1e]/80 backdrop-blur-md flex items-end justify-between px-4 pb-3 sticky top-0 z-20 border-b border-[#dcdcdc] dark:border-zinc-800 select-none transition-colors",children:[v.jsx("div",{className:"w-20 flex justify-start",children:v.jsx("button",{onClick:()=>i(st.HOME),className:"flex items-center text-[#111] dark:text-white active:opacity-50 -ml-3",children:v.jsx(Qn,{size:26,strokeWidth:1.5})})}),v.jsx("div",{className:"font-medium text-[17px] text-[#111] dark:text-white mb-1 flex-1 text-center",children:K}),v.jsxs("div",{className:"w-20 flex justify-end relative",children:[ie&&v.jsx("button",{onClick:()=>_(!T),className:"active:opacity-50",children:v.jsx(hg,{size:24,className:"text-[#111] dark:text-white",strokeWidth:1.5})}),T&&ie&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>_(!1)}),v.jsx("div",{className:"absolute top-8 right-[-8px] width-[160px] bg-[#4c4c4c] dark:bg-zinc-800 rounded-[6px] shadow-xl z-40 py-1 text-white flex flex-col items-start min-w-[140px]",children:v.jsxs("button",{onClick:Se,className:"flex items-center gap-3 px-4 py-3 w-full active:bg-[#5f5f5f] dark:active:bg-zinc-700",children:[v.jsx(Ii,{size:18})," ",v.jsx("span",{className:"text-[15px]",children:""})]})})]})]})]}),Me=()=>v.jsx("div",{className:"bg-[#ededed] dark:bg-[#1c1c1e] px-2 py-2",children:v.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-[6px] h-[36px] flex items-center justify-center gap-1 text-gray-400 dark:text-gray-500",children:[v.jsx(iS,{size:16}),v.jsx("span",{className:"text-[15px]",children:""})]})});return v.jsxs("div",{className:"h-full w-full bg-[#ededed] dark:bg-[#1c1c1e] flex flex-col animate-slide-up relative select-none",children:[b&&v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",children:v.jsxs("div",{className:"bg-white dark:bg-zinc-800 w-[300px] rounded-[12px] overflow-hidden shadow-2xl",children:[v.jsxs("div",{className:"pt-6 pb-4 px-6",children:[v.jsx("h3",{className:"text-[17px] font-semibold text-center text-black dark:text-white mb-1",children:""}),v.jsx("p",{className:"text-[13px] text-gray-500 text-center mb-4",children:""}),v.jsx("input",{className:"w-full bg-[#f5f5f5] dark:bg-zinc-900 px-3 py-2 rounded-[6px] text-[16px] text-black dark:text-white outline-none border border-transparent focus:border-[#07C160] transition-colors",placeholder:"",value:k,onChange:K=>I(K.target.value),autoFocus:!0,onKeyDown:K=>K.key==="Enter"&&ce()})]}),v.jsxs("div",{className:"border-t border-gray-200 dark:border-zinc-700 flex h-[50px]",children:[v.jsx("button",{onClick:()=>M(!1),className:"flex-1 text-[17px] text-[#111] dark:text-white font-medium border-r border-gray-200 dark:border-zinc-700 active:bg-[#f5f5f5] dark:active:bg-zinc-700",children:""}),v.jsx("button",{onClick:ce,className:"flex-1 text-[17px] text-[#576b95] dark:text-[#576b95] font-semibold active:bg-[#f5f5f5] dark:active:bg-zinc-700",children:""})]})]})}),w&&v.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",children:v.jsxs("div",{className:"bg-white dark:bg-zinc-800 w-[300px] rounded-[12px] overflow-hidden shadow-2xl",children:[v.jsxs("div",{className:"pt-6 pb-4 px-6",children:[v.jsx("h3",{className:"text-[17px] font-semibold text-center text-black dark:text-white mb-2",children:""}),v.jsx("p",{className:"text-[14px] text-gray-500 text-center",children:""})]}),v.jsxs("div",{className:"border-t border-gray-200 dark:border-zinc-700 flex h-[50px]",children:[v.jsx("button",{onClick:()=>Y(null),className:"flex-1 text-[17px] text-[#111] dark:text-white font-medium border-r border-gray-200 dark:border-zinc-700 active:bg-[#f5f5f5] dark:active:bg-zinc-700",children:""}),v.jsx("button",{onClick:te,className:"flex-1 text-[17px] text-red-500 font-semibold active:bg-[#f5f5f5] dark:active:bg-zinc-700",children:""})]})]})}),h==="chat"&&v.jsxs(v.Fragment,{children:[v.jsx(xe,{title:""}),v.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden",children:[v.jsx(Me,{}),fe.length===0&&v.jsx("div",{className:"text-center text-gray-400 mt-20 text-sm",children:" + "}),fe.map(K=>v.jsxs("div",{className:"relative w-full h-[72px] bg-[#ededed] dark:bg-[#1c1c1e] overflow-hidden",children:[v.jsx("div",{className:"absolute top-0 right-0 h-full w-[80px] bg-red-500 flex items-center justify-center z-0",children:v.jsx("button",{className:"w-full h-full text-white font-medium text-[16px] flex flex-col items-center justify-center active:bg-red-600 transition-colors",onClick:ie=>O(K,ie),children:""})}),v.jsxs("div",{className:"absolute top-0 left-0 w-full h-full bg-white dark:bg-zinc-900 flex items-center px-4 active:bg-[#dcdcdc] dark:active:bg-zinc-800 border-b border-[#f0f0f0] dark:border-zinc-800 transition-transform duration-300 ease-out z-10",style:{transform:D===K.id?"translateX(-80px)":"translateX(0)"},onTouchStart:ee,onTouchEnd:ie=>oe(ie,K.id),onMouseDown:_e,onMouseUp:ie=>we(ie,K.id),onClick:()=>A(K),children:[v.jsx("div",{className:"w-12 h-12 rounded-[4px] bg-blue-600 flex items-center justify-center text-white text-sm font-bold overflow-hidden mr-3 flex-shrink-0 pointer-events-none",children:K.avatar?v.jsx("img",{src:K.avatar,className:"w-full h-full object-cover"}):K.name.slice(0,1)}),v.jsxs("div",{className:"flex-1 min-w-0 pointer-events-none",children:[v.jsxs("div",{className:"flex justify-between mb-1",children:[v.jsx("span",{className:"text-[16px] text-[#111] dark:text-white truncate",children:K.name}),v.jsx("span",{className:"text-[12px] text-gray-400",children:K.time})]}),v.jsx("div",{className:"text-[14px] text-gray-400 truncate",children:K.lastMsg})]})]})]},K.id))]})]}),h==="contacts"&&v.jsxs(v.Fragment,{children:[v.jsx(xe,{title:""}),v.jsxs("div",{className:"flex-1 overflow-y-auto",children:[v.jsx(Me,{}),he.map((K,ie)=>{var Ie;return K.isSeparator?v.jsx("div",{className:"bg-[#ededed] dark:bg-[#1c1c1e] px-4 py-1 text-xs text-gray-500",children:K.letter},ie):v.jsxs("div",{onClick:()=>{const rt=K.id.endsWith("_c")?K.id.slice(0,-2):K.id;K.isAi&&t(rt,K.name,K.avatar)},className:"flex items-center px-4 py-2.5 bg-white dark:bg-zinc-900 active:bg-[#dcdcdc] dark:active:bg-zinc-800 border-b border-[#f0f0f0] dark:border-zinc-800",children:[v.jsx("div",{className:"w-10 h-10 rounded-[4px] bg-gray-300 dark:bg-zinc-600 flex items-center justify-center overflow-hidden mr-3",children:K.icon?K.icon:K.avatar?v.jsx("img",{src:K.avatar,className:"w-full h-full object-cover"}):v.jsx("div",{className:"w-full h-full bg-blue-600 flex items-center justify-center text-white font-bold",children:(Ie=K.name)==null?void 0:Ie.slice(0,1)})}),v.jsx("span",{className:"text-[16px] text-[#111] dark:text-white",children:K.name})]},K.id)})]})]}),v.jsxs("div",{className:"bg-[#f7f7f7] dark:bg-[#1c1c1e] border-t border-[#b2b2b2] dark:border-zinc-800 h-[56px] flex pb-1 safe-area-bottom z-30 transition-colors",children:[v.jsxs("button",{className:"flex-1 flex flex-col items-center justify-center gap-[2px] active:opacity-80",onClick:()=>x("chat"),children:[v.jsx(cN,{active:h==="chat"}),v.jsx("span",{className:`text-[10px] font-medium ${h==="chat"?"text-[#07C160]":"text-[#111] dark:text-gray-400"}`,children:""})]}),v.jsxs("button",{className:"flex-1 flex flex-col items-center justify-center gap-[2px] active:opacity-80",onClick:()=>x("contacts"),children:[v.jsx(fN,{active:h==="contacts"}),v.jsx("span",{className:`text-[10px] font-medium ${h==="contacts"?"text-[#07C160]":"text-[#111] dark:text-gray-400"}`,children:""})]})]})]})},Wu=i=>"bg-gradient-to-br from-[#9FB6D9] to-[#D9F0E3]",mN=({onNavigate:i,aiProfile:t,userAvatar:l,userName:a,settings:r,posts:c,onUpdatePosts:m,onUpdateSettings:g,activeCharacters:y})=>{const[h,x]=j.useState("home"),[T,_]=j.useState("feed"),[b,M]=j.useState([]);j.useEffect(()=>{const B={id:"user_story",user:"",avatar:l||"",isSeen:!1,isUser:!0},Z=y.map(Te=>({id:Te.id,user:Te.name,avatar:Te.avatar||`https://ui-avatars.com/api/?name=${Te.name}&background=random`,isSeen:!1,isUser:!1}));M([B,...Z])},[l,y]);const[k,I]=j.useState(null),[w,Y]=j.useState(null),[D,X]=j.useState(null),[W,q]=j.useState(""),[Q,ve]=j.useState(!1),[ne,$]=j.useState(null),[fe,de]=j.useState(null),[Se,ce]=j.useState(!1),[Ge,H]=j.useState(!1),[ee,oe]=j.useState(!1),[_e,we]=j.useState(""),[A,O]=j.useState(null),te=j.useRef(null),[ae,he]=j.useState(!1),[xe,Me]=j.useState(""),[K,ie]=j.useState(""),[Ie,rt]=j.useState(""),[_t,gt]=j.useState(""),[kt,Nn]=j.useState(""),[Zt,Pe]=j.useState(()=>{const B=localStorage.getItem("os_ins_last_read");return B?parseInt(B):Date.now()}),Dt=j.useRef(!1),Sn=j.useRef(null),ut={shapeRendering:"geometricPrecision"};j.useEffect(()=>{localStorage.setItem("os_ins_last_read",Zt.toString())},[Zt]);const wn=c.some(B=>B.comments.some(Z=>Z.isAi&&Z.timestamp>Zt)),nl=B=>{m(c.map(Z=>Z.id===B?{...Z,isLiked:!Z.isLiked,likes:Z.isLiked?Z.likes-1:Z.likes+1}:Z))},Di=B=>{const Z=Date.now();k&&k.id===B&&Z-k.time<300&&m(c.map(Te=>Te.id===B&&!Te.isLiked?{...Te,isLiked:!0,likes:Te.likes+1}:Te)),I({id:B,time:Z})},yt=B=>{m(c.map(Z=>Z.id===B?{...Z,isSaved:!Z.isSaved}:Z))},Ui=B=>{B.isUser||(Y(B.user),M(Z=>Z.map(Te=>Te.id===B.id?{...Te,isSeen:!0}:Te)))},zi=B=>{m(Z=>Z.filter(Te=>Te.id!==B)),$(null)},ti=(B,Z)=>{m(Te=>Te.map(Fe=>Fe.id===B?{...Fe,comments:Fe.comments.filter($e=>$e.id!==Z)}:Fe)),de(null)},ni=(B,Z)=>{X(B.id),q(`@${Z.user} `),de(null)},il=()=>{H(!1),we(""),O(null),oe(!0)},Li=B=>{var Te;const Z=(Te=B.target.files)==null?void 0:Te[0];if(Z){const Fe=new FileReader;Fe.onload=$e=>{var Gt;(Gt=$e.target)!=null&&Gt.result&&O($e.target.result)},Fe.readAsDataURL(Z)}},ll=()=>{if(!_e.trim()&&!A)return;const B={id:Date.now().toString(),user:a,avatar:l||"https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-1.2.1&auto=format&fit=crop&w=150&q=80",image:A||"",likes:0,caption:_e,timeAgo:"",isLiked:!1,isSaved:!1,comments:[],isAiPost:!1};m(Z=>[B,...Z]),oe(!1),h==="profile"||(_("feed"),Y(null)),setTimeout(()=>{ol(B)},4e3)},ol=async B=>{try{const Z=await oN(r,t,B);Z.like&&m(Te=>Te.map(Fe=>Fe.id===B.id?{...Fe,likes:Fe.likes+1}:Fe)),Z.comment&&setTimeout(()=>{const Te={id:Date.now().toString(),user:t.name,text:Z.comment,isAi:!0,timestamp:Date.now()};m(Fe=>Fe.map($e=>$e.id===B.id?{...$e,comments:[...$e.comments,Te]}:$e))},2e3)}catch(Z){console.error("Reaction failed",Z)}},Mn=async()=>{ce(!0);try{const B=await p0(r,t),Z={id:Date.now().toString(),user:t.name,avatar:t.avatarUrl||"https://images.unsplash.com/photo-1620712943543-bcc4688e7485?ixlib=rb-1.2.1&auto=format&fit=crop&w=150&q=80",image:"",likes:Math.floor(Math.random()*50)+10,caption:B.caption||"...",timeAgo:"",isLiked:!1,isSaved:!1,comments:[],isAiPost:!0};m(Te=>[Z,...Te]),sessionStorage.setItem(`last_ai_post_${t.name}`,Date.now().toString())}catch(B){console.error(B)}finally{ce(!1)}};j.useEffect(()=>{if(Dt.current)return;Dt.current=!0;const Z=setTimeout(()=>{const Te=sessionStorage.getItem(`last_ai_post_${t.name}`),Fe=Date.now(),$e=1e3*60*5;Te&&Fe-parseInt(Te)<$e||Math.random()<.3&&Mn()},2e3);return()=>clearTimeout(Z)},[t.name]);const vt=async()=>{if(!W.trim()||!D)return;const B=W;q(""),ve(!0);const Z=c.find($e=>$e.id===D),Te={id:Date.now().toString(),user:a,text:B,isAi:!1,timestamp:Date.now()},Fe=c.map($e=>$e.id===D?{...$e,comments:[...$e.comments,Te]}:$e);if(m(Fe),Z&&Z.isAiPost){const $e=Math.floor(Math.random()*12e3)+3e3;setTimeout(async()=>{try{const Gt=await xc(r,t,Z.caption,B,a),Rn={id:Date.now().toString(),user:t.name,text:`@${a} ${Gt}`,isAi:!0,timestamp:Date.now()};m(In=>In.map(li=>li.id===D?{...li,comments:[...li.comments,Rn]}:li))}catch(Gt){console.error("Reply error",Gt)}},$e)}ve(!1)},Wt=()=>{Me(a),ie(r.userBio||""),rt(l),gt(String(r.userFollowers??128)),Nn(String(r.userFollowing??42)),he(!0)},Et=()=>{try{g({...r,userName:xe,instagramUserAvatar:Ie,userBio:K,userFollowers:parseInt(_t)||0,userFollowing:parseInt(kt)||0})}catch(B){console.error("Save profile error",B)}he(!1)},Ql=B=>{var Te;const Z=(Te=B.target.files)==null?void 0:Te[0];if(Z){const Fe=new FileReader;Fe.onload=$e=>{var Gt;(Gt=$e.target)!=null&&Gt.result&&rt($e.target.result)},Fe.readAsDataURL(Z)}},al=w?c.filter(B=>B.user===w):c,sl=()=>{j.useEffect(()=>{Pe(Date.now())},[]);const B=[];return c.forEach(Z=>{Z.comments.forEach(Te=>{Te.isAi&&B.push({post:Z,comment:Te})})}),v.jsxs("div",{className:"flex-1 overflow-y-auto bg-white dark:bg-black p-4",children:[v.jsx("h2",{className:"text-xl font-bold mb-4",children:""}),B.length===0?v.jsx("div",{className:"text-gray-400 text-center mt-10",children:""}):B.reverse().map((Z,Te)=>v.jsxs("div",{className:"flex gap-3 mb-4 items-start border-b border-gray-100 dark:border-zinc-900 pb-3",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-zinc-800 overflow-hidden",children:Z.post.avatar?v.jsx("img",{src:Z.post.avatar,className:"w-full h-full object-cover"}):null}),v.jsxs("div",{className:"flex-1",children:[v.jsxs("div",{className:"text-sm",children:[v.jsx("span",{className:"font-semibold mr-1",children:Z.comment.user}),v.jsx("span",{className:"text-gray-500",children:""}),v.jsx("span",{className:"text-black dark:text-white",children:Z.comment.text})]}),v.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[Z.post.image?v.jsx("img",{src:Z.post.image,className:"w-4 h-4 rounded object-cover inline-block"}):v.jsx("div",{className:`w-4 h-4 rounded ${Wu(Z.post.id)}`}),v.jsxs("span",{children:[": ",Z.post.caption.slice(0,15),"..."]})]})]})]},Te))]})},Tn=()=>{const B=c.filter(Z=>Z.isLiked);return v.jsxs("div",{className:"flex-1 overflow-y-auto bg-white dark:bg-black p-0",children:[v.jsx("div",{className:"p-4 pb-2",children:v.jsx("h2",{className:"text-xl font-bold",children:""})}),B.length===0?v.jsx("div",{className:"text-gray-400 text-center mt-20",children:""}):v.jsx("div",{className:"grid grid-cols-3 gap-0.5",children:B.map(Z=>v.jsxs("div",{className:"aspect-square relative group bg-gray-100 dark:bg-zinc-900",children:[Z.image?v.jsx("img",{src:Z.image,className:"w-full h-full object-cover"}):v.jsx("div",{className:`w-full h-full flex items-center justify-center p-2 ${Wu(Z.id)}`,children:v.jsx("span",{className:"text-black text-[8px] font-bold text-center line-clamp-3",children:Z.caption})}),v.jsxs("div",{className:"absolute inset-0 bg-black/20 flex items-center justify-center gap-1 opacity-100",children:[v.jsx(jo,{size:16,className:"fill-white text-white"}),v.jsx("span",{className:"text-white text-xs font-bold",children:Z.likes})]})]},Z.id))})]})},ii=()=>{const B=c.filter(Z=>Z.user===a);return v.jsxs("div",{className:"flex-1 overflow-y-auto bg-white dark:bg-black text-black dark:text-white pb-20 pt-10",children:[v.jsxs("div",{className:"p-4 pb-0",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 dark:bg-zinc-800 overflow-hidden border border-gray-100 dark:border-zinc-800 flex-shrink-0",children:l?v.jsx("img",{src:l,className:"w-full h-full object-cover"}):v.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-300 dark:bg-zinc-700",children:v.jsx(Ii,{size:32,className:"text-gray-500"})})}),v.jsxs("div",{className:"flex flex-1 justify-around ml-4",children:[v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("span",{className:"font-bold text-lg",children:B.length}),v.jsx("span",{className:"text-sm text-gray-500",children:""})]}),v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("span",{className:"font-bold text-lg",children:r.userFollowers??128}),v.jsx("span",{className:"text-sm text-gray-500",children:""})]}),v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("span",{className:"font-bold text-lg",children:r.userFollowing??42}),v.jsx("span",{className:"text-sm text-gray-500",children:""})]})]})]}),v.jsxs("div",{className:"mb-6",children:[v.jsx("div",{className:"font-semibold text-sm mb-1",children:a}),v.jsx("div",{className:"text-sm text-gray-800 dark:text-gray-200 whitespace-pre-wrap leading-relaxed",children:r.userBio||"..."})]}),v.jsxs("div",{className:"flex gap-2 mb-6",children:[v.jsx("button",{onClick:Wt,className:"flex-1 bg-gray-100 dark:bg-zinc-800 py-1.5 rounded-lg text-sm font-semibold text-black dark:text-white active:bg-gray-200 dark:active:bg-zinc-700 transition-colors",children:""}),v.jsx("button",{className:"flex-1 bg-gray-100 dark:bg-zinc-800 py-1.5 rounded-lg text-sm font-semibold text-black dark:text-white active:bg-gray-200 dark:active:bg-zinc-700 transition-colors",children:""})]})]}),v.jsxs("div",{className:"flex border-t border-gray-200 dark:border-zinc-800 sticky top-0 bg-white dark:bg-black z-10",children:[v.jsx("div",{className:"flex-1 flex items-center justify-center py-2.5 border-b border-black dark:border-white",children:v.jsx(Cx,{size:24})}),v.jsx("div",{className:"flex-1 flex items-center justify-center py-2.5 text-gray-400 border-b border-transparent",children:v.jsx(Ii,{size:24})})]}),v.jsx("div",{className:"grid grid-cols-3 gap-0.5",children:B.map(Z=>v.jsxs("div",{className:"aspect-square relative bg-gray-100 dark:bg-zinc-900 group",children:[Z.image?v.jsx("img",{src:Z.image,className:"w-full h-full object-cover"}):v.jsx("div",{className:`w-full h-full flex items-center justify-center p-2 ${Wu(Z.id)}`,children:v.jsx("span",{className:"text-white text-[8px] font-bold text-center line-clamp-3",children:Z.caption})}),v.jsxs("div",{className:"absolute inset-0 bg-black/20 hidden group-active:flex items-center justify-center gap-1",children:[v.jsx(jo,{size:16,className:"fill-white text-white"}),v.jsx("span",{className:"text-white text-xs font-bold",children:Z.likes})]})]},Z.id))}),B.length===0&&v.jsxs("div",{className:"py-20 text-center flex flex-col items-center justify-center text-gray-400",children:[v.jsx("div",{className:"w-16 h-16 rounded-full border-2 border-black dark:border-white flex items-center justify-center mb-4",children:v.jsx(ec,{size:32,strokeWidth:1.5,className:"text-black dark:text-white"})}),v.jsx("h3",{className:"font-bold text-xl text-black dark:text-white mb-2",children:""}),v.jsx("p",{className:"text-sm max-w-[200px]",children:""}),v.jsx("button",{onClick:()=>H(!0),className:"mt-6 text-blue-500 font-semibold text-sm",children:""})]})]})};return v.jsxs("div",{className:"h-full w-full bg-white dark:bg-black text-black dark:text-white flex flex-col animate-slide-up relative",children:[h==="profile"?v.jsx(ii,{}):v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"h-[96px] pt-12 px-4 flex items-center justify-between sticky top-0 z-20 bg-white/95 dark:bg-black/95 backdrop-blur-sm border-b border-gray-100 dark:border-zinc-900",children:[v.jsxs("div",{className:"flex-1 flex items-center",children:[v.jsx("button",{onClick:()=>{T!=="feed"?_("feed"):i(st.HOME)},className:"-ml-2 p-1 mr-2 active:opacity-50 text-black dark:text-white",children:T==="feed"?v.jsx(Qn,{size:28,strokeWidth:1.5,style:ut}):v.jsx(Jv,{size:28,strokeWidth:1.5,style:ut})}),v.jsx("div",{className:"mt-1.5 h-8 cursor-pointer flex items-center",onClick:()=>{_("feed"),Y(null)},children:v.jsx("span",{className:"text-2xl font-bold tracking-tight",style:{fontFamily:"cursive"},children:"Instagram"})})]}),v.jsxs("div",{className:"flex items-center gap-5",children:[v.jsx("button",{onClick:()=>_(T==="activity"?"feed":"activity"),className:"active:opacity-50",children:v.jsx(jo,{size:26,strokeWidth:1.5,className:T==="activity"?"fill-black dark:fill-white":"",style:ut})}),v.jsxs("div",{className:"relative",children:[v.jsx("button",{onClick:()=>_(T==="interactions"?"feed":"interactions"),className:"active:opacity-50",children:v.jsx(Ip,{size:26,strokeWidth:1.5,style:{...ut,transform:"rotate(-90deg)"},className:T==="interactions"?"fill-black dark:fill-white":""})}),wn&&v.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] font-bold h-4 w-4 rounded-full flex items-center justify-center",children:"1"})]})]})]}),T==="feed"&&v.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar pb-20 relative",children:[v.jsx("div",{className:"flex gap-4 p-4 overflow-x-auto no-scrollbar border-b border-gray-100 dark:border-zinc-900",children:b.map((B,Z)=>v.jsxs("div",{className:"flex flex-col items-center gap-1 flex-shrink-0 cursor-pointer group",onClick:()=>Ui(B),children:[v.jsx("div",{className:`p-[3px] rounded-full transition-transform duration-200 group-active:scale-95 ${B.isUser?"bg-transparent border border-gray-200 dark:border-zinc-700":B.isSeen?"bg-gray-300 dark:bg-zinc-700":"bg-gradient-to-tr from-yellow-400 via-red-500 to-purple-500"}`,children:v.jsx("div",{className:"p-[2px] bg-white dark:bg-black rounded-full",children:B.avatar?v.jsx("img",{src:B.avatar,className:"w-16 h-16 rounded-full object-cover",alt:B.user}):v.jsx("div",{className:"w-16 h-16 rounded-full bg-gray-300 dark:bg-zinc-700 flex items-center justify-center",children:v.jsx("div",{className:"text-gray-400 font-bold text-xs",children:"Me"})})})}),v.jsx("span",{className:`text-xs truncate w-16 text-center ${w===B.user?"font-bold text-blue-500":"text-gray-800 dark:text-gray-200"}`,children:B.isUser?"":B.user})]},B.id))}),w&&v.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-gray-50 dark:bg-zinc-900 border-b border-gray-100 dark:border-zinc-800",children:[v.jsxs("span",{className:"text-sm font-medium",children:[" ",v.jsx("span",{className:"font-bold",children:w})," "]}),v.jsx("button",{onClick:()=>Y(null),className:"p-1 rounded-full bg-gray-200 dark:bg-zinc-700",children:v.jsx(ic,{size:14,strokeWidth:1.5,style:ut})})]}),Se&&v.jsxs("div",{className:"p-4 flex items-center justify-center gap-2 text-gray-500 text-sm animate-fade-in",children:[v.jsx(zx,{size:16,className:"animate-spin"}),v.jsxs("span",{children:[t.name," ..."]})]}),v.jsx("div",{className:"flex flex-col pb-20",children:al.length===0?v.jsx("div",{className:"py-20 text-center text-gray-400",children:v.jsx("p",{children:""})}):al.map(B=>v.jsxs("div",{className:"mb-4 border-b border-gray-100 dark:border-zinc-900 pb-4",children:[v.jsxs("div",{className:"flex items-center justify-between p-3",children:[v.jsxs("div",{className:"flex items-center gap-2.5",children:[B.avatar?v.jsx("img",{src:B.avatar,className:"w-8 h-8 rounded-full object-cover border border-gray-100 dark:border-zinc-800",alt:B.user}):v.jsx("div",{className:"w-8 h-8 rounded-full bg-gray-300 dark:bg-zinc-700"}),v.jsx("span",{className:"text-sm font-semibold",children:B.user})]}),v.jsx("button",{onClick:()=>$(B.id),className:"active:opacity-50",children:v.jsx(vg,{size:20,strokeWidth:1.5,className:"text-gray-600 dark:text-gray-400",style:ut})})]}),v.jsx("div",{className:"px-3 pb-2",children:v.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-100 leading-relaxed whitespace-pre-wrap",children:B.caption})}),B.image&&v.jsxs("div",{className:"w-auto mx-4 rounded-xl aspect-square bg-gray-100 dark:bg-zinc-900 relative overflow-hidden mt-2",onClick:()=>Di(B.id),children:[v.jsx("img",{src:B.image,className:"w-full h-full object-cover",alt:"Post"}),v.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none",children:v.jsx(jo,{size:100,strokeWidth:1.5,className:`fill-white text-white opacity-0 transition-all duration-500 transform scale-0 ${(k==null?void 0:k.id)===B.id&&Date.now()-k.time<400?"opacity-80 scale-100 animate-bounce":""}`,style:ut})})]}),v.jsxs("div",{className:"p-3",children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsxs("div",{className:"flex items-center gap-4",children:[v.jsx("button",{onClick:()=>nl(B.id),className:"active:scale-90 transition-transform",children:v.jsx(jo,{size:26,strokeWidth:1.5,className:B.isLiked?"fill-red-500 text-red-500":"",style:ut})}),v.jsx("button",{onClick:()=>X(D===B.id?null:B.id),className:"active:scale-90 transition-transform",children:v.jsx(Ip,{size:26,strokeWidth:1.5,className:"-rotate-90",style:{...ut,transform:"rotate(-90deg)"}})}),v.jsx(oS,{size:26,strokeWidth:1.5,style:ut})]}),v.jsx("button",{onClick:()=>yt(B.id),className:"active:scale-90 transition-transform",children:v.jsx(Zv,{size:26,strokeWidth:1.5,className:B.isSaved?"fill-black dark:fill-white":"",style:ut})})]}),v.jsxs("div",{className:"text-sm font-semibold mb-1",children:[B.likes.toLocaleString()," "]}),B.comments.length>0&&v.jsx("div",{className:"mt-2 space-y-1",children:B.comments.map(Z=>v.jsxs("div",{className:"text-sm group cursor-pointer active:opacity-60",onClick:()=>de({post:B,comment:Z}),children:[v.jsx("span",{className:"font-semibold mr-1.5",children:Z.user}),v.jsx("span",{className:"text-gray-800 dark:text-gray-300",children:Z.text})]},Z.id))}),D===B.id&&v.jsxs("div",{className:"mt-3 flex items-center gap-2 animate-fade-in",children:[v.jsx("div",{className:"w-6 h-6 rounded-full bg-gray-200 dark:bg-zinc-700 overflow-hidden",children:l?v.jsx("img",{src:l,className:"w-full h-full object-cover"}):v.jsx("div",{className:"w-full h-full bg-gray-300"})}),v.jsx("input",{className:"flex-1 bg-transparent text-sm outline-none placeholder-gray-400",placeholder:"...",value:W,onChange:Z=>q(Z.target.value),autoFocus:!0,onKeyDown:Z=>Z.key==="Enter"&&vt(),disabled:Q}),v.jsx("button",{onClick:vt,disabled:!W.trim()||Q,className:"text-blue-500 font-semibold text-sm disabled:opacity-50",children:Q?"...":""})]}),v.jsx("div",{className:"text-[10px] text-gray-400 uppercase tracking-wide mt-2",children:B.timeAgo})]})]},B.id))})]}),T==="activity"&&v.jsx(Tn,{}),T==="interactions"&&v.jsx(sl,{})]}),ee&&v.jsxs("div",{className:"fixed inset-0 z-[60] bg-white dark:bg-black animate-slide-up flex flex-col pt-4",children:[v.jsxs("div",{className:"h-16 pt-6 pb-2 flex items-center justify-between px-4 border-b border-gray-100 dark:border-zinc-900 bg-white dark:bg-black",children:[v.jsx("button",{onClick:()=>oe(!1),className:"text-black dark:text-white",children:""}),v.jsx("span",{className:"font-bold",children:""}),v.jsx("button",{onClick:ll,disabled:!_e.trim()&&!A,className:"text-blue-500 font-semibold disabled:opacity-50",children:""})]}),v.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[v.jsxs("div",{className:"flex gap-3 mb-4",children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-zinc-800 overflow-hidden flex-shrink-0",children:l?v.jsx("img",{src:l,className:"w-full h-full object-cover"}):v.jsx("div",{className:"w-full h-full bg-gray-300"})}),v.jsx("textarea",{className:"flex-1 bg-transparent outline-none text-base resize-none h-32 leading-relaxed",placeholder:"...",value:_e,onChange:B=>we(B.target.value),autoFocus:!0})]}),v.jsxs("div",{className:"w-full",children:[A?v.jsxs("div",{className:"relative w-full rounded-xl overflow-hidden bg-gray-100 dark:bg-zinc-900",children:[v.jsx("img",{src:A,className:"w-full h-auto object-cover max-h-[400px]"}),v.jsx("button",{onClick:()=>O(null),className:"absolute top-2 right-2 bg-black/50 p-1.5 rounded-full text-white",children:v.jsx(ic,{size:16})})]}):v.jsxs("div",{onClick:()=>{var B;return(B=te.current)==null?void 0:B.click()},className:"w-full h-48 border-2 border-dashed border-gray-200 dark:border-zinc-800 rounded-xl flex flex-col items-center justify-center text-gray-400 gap-2 cursor-pointer hover:bg-gray-50 dark:hover:bg-zinc-900/50 transition-colors",children:[v.jsx(Tc,{size:32,strokeWidth:1.5}),v.jsx("span",{className:"text-sm font-medium",children:" ()"})]}),v.jsx("input",{type:"file",ref:te,className:"hidden",accept:"image/*",onChange:Li})]})]})]}),ae&&v.jsxs("div",{className:"fixed inset-0 z-[100] bg-white dark:bg-black animate-slide-up flex flex-col pt-4",children:[v.jsxs("div",{className:"h-16 pt-6 pb-2 flex items-center justify-between px-4 border-b border-gray-100 dark:border-zinc-900 bg-white dark:bg-black",children:[v.jsx("button",{onClick:()=>he(!1),className:"text-black dark:text-white",children:""}),v.jsx("span",{className:"font-bold",children:""}),v.jsx("button",{onClick:Et,className:"text-blue-500 font-semibold",children:""})]}),v.jsxs("div",{className:"p-6 flex flex-col items-center overflow-y-auto",children:[v.jsxs("div",{onClick:()=>{var B;return(B=Sn.current)==null?void 0:B.click()},className:"mb-6 flex flex-col items-center gap-3 cursor-pointer",children:[v.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gray-200 dark:bg-zinc-800",children:Ie?v.jsx("img",{src:Ie,className:"w-full h-full object-cover"}):v.jsx("div",{className:"w-full h-full bg-gray-300"})}),v.jsx("span",{className:"text-blue-500 text-sm font-semibold",children:""}),v.jsx("input",{type:"file",ref:Sn,className:"hidden",accept:"image/*",onChange:Ql})]}),v.jsxs("div",{className:"w-full space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:""}),v.jsx("input",{value:xe,onChange:B=>Me(B.target.value),className:"w-full border-b border-gray-200 dark:border-zinc-800 py-2 bg-transparent outline-none"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:""}),v.jsx("textarea",{value:K,onChange:B=>ie(B.target.value),className:"w-full border-b border-gray-200 dark:border-zinc-800 py-2 bg-transparent outline-none resize-none h-20"})]}),v.jsxs("div",{className:"flex gap-4",children:[v.jsxs("div",{className:"flex-1",children:[v.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:""}),v.jsx("input",{type:"number",value:_t,onChange:B=>gt(B.target.value),className:"w-full border-b border-gray-200 dark:border-zinc-800 py-2 bg-transparent outline-none"})]}),v.jsxs("div",{className:"flex-1",children:[v.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:""}),v.jsx("input",{type:"number",value:kt,onChange:B=>Nn(B.target.value),className:"w-full border-b border-gray-200 dark:border-zinc-800 py-2 bg-transparent outline-none"})]})]})]})]})]}),ne&&v.jsx("div",{className:"absolute inset-0 z-50 bg-black/50 backdrop-blur-sm flex flex-col justify-end",onClick:()=>$(null),children:v.jsxs("div",{className:"bg-white dark:bg-[#1c1c1e] rounded-t-2xl p-2 animate-slide-up",onClick:B=>B.stopPropagation(),children:[v.jsx("div",{className:"w-10 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto my-2"}),v.jsxs("button",{className:"w-full flex items-center gap-3 p-4 active:bg-gray-100 dark:active:bg-zinc-800 rounded-xl transition-colors text-red-500 font-semibold",onClick:()=>zi(ne),children:[v.jsx(nc,{size:20}),""]}),v.jsx("button",{className:"w-full p-4 mt-1 bg-gray-100 dark:bg-zinc-800 rounded-xl font-semibold text-black dark:text-white",onClick:()=>$(null),children:""})]})}),fe&&v.jsx("div",{className:"absolute inset-0 z-50 bg-black/50 backdrop-blur-sm flex flex-col justify-end",onClick:()=>de(null),children:v.jsxs("div",{className:"bg-white dark:bg-[#1c1c1e] rounded-t-2xl p-2 animate-slide-up space-y-1",onClick:B=>B.stopPropagation(),children:[v.jsx("div",{className:"w-10 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto my-2"}),v.jsxs("div",{className:"px-4 py-2 text-xs text-gray-500 text-center border-b border-gray-100 dark:border-zinc-800 mb-1",children:[" ",fe.comment.user," "]}),v.jsxs("button",{className:"w-full flex items-center gap-3 p-4 bg-gray-50 dark:bg-zinc-900 active:bg-gray-100 dark:active:bg-zinc-800 rounded-xl transition-colors text-black dark:text-white font-medium",onClick:()=>ni(fe.post,fe.comment),children:[v.jsx(qx,{size:20})," ()"]}),v.jsxs("button",{className:"w-full flex items-center gap-3 p-4 bg-gray-50 dark:bg-zinc-900 active:bg-gray-100 dark:active:bg-zinc-800 rounded-xl transition-colors text-red-500 font-medium",onClick:()=>ti(fe.post.id,fe.comment.id),children:[v.jsx(nc,{size:20}),""]}),v.jsx("button",{className:"w-full p-4 mt-2 bg-gray-100 dark:bg-zinc-800 rounded-xl font-semibold text-black dark:text-white",onClick:()=>de(null),children:""})]})}),Ge&&v.jsx("div",{className:"absolute inset-0 z-40 bg-black/50 backdrop-blur-sm flex flex-col justify-end",onClick:()=>H(!1),children:v.jsxs("div",{className:"bg-white dark:bg-[#1c1c1e] rounded-t-2xl p-4 animate-slide-up",onClick:B=>B.stopPropagation(),children:[v.jsx("div",{className:"w-10 h-1 bg-gray-300 dark:bg-gray-600 rounded-full mx-auto mb-6"}),v.jsxs("button",{className:"w-full flex items-center gap-4 p-4 active:bg-gray-100 dark:active:bg-zinc-800 rounded-xl transition-colors",onClick:il,children:[v.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-zinc-700 flex items-center justify-center text-black dark:text-white",children:v.jsx(Ii,{size:20})}),v.jsxs("div",{className:"text-left",children:[v.jsx("div",{className:"font-semibold text-base text-black dark:text-white",children:"/"}),v.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:""})]})]})]})}),v.jsxs("div",{className:"h-[84px] bg-white dark:bg-black border-t border-gray-200 dark:border-zinc-800 flex items-start justify-between px-6 pt-3.5 absolute bottom-0 left-0 right-0 z-30 safe-area-bottom",children:[v.jsx("button",{onClick:()=>{x("home"),_("feed"),Y(null)},className:"active:scale-95 transition-transform",children:v.jsx(wx,{size:28,strokeWidth:1.5,className:h==="home"?"fill-black dark:fill-white":"",style:ut})}),v.jsx("button",{onClick:()=>H(!0),className:"active:scale-95 transition-transform",children:v.jsx(hS,{size:28,strokeWidth:1.5,style:ut})}),v.jsx("button",{onClick:()=>x("profile"),className:"active:scale-95 transition-transform",children:v.jsx("div",{className:`w-7 h-7 rounded-full overflow-hidden border-black dark:border-white ${h==="profile"?"border-2":"border"}`,children:l?v.jsx("img",{src:l,className:"w-full h-full object-cover"}):v.jsx("div",{className:"w-full h-full bg-gray-300"})})})]})]})},pN=()=>{const[i,t]=j.useState(st.HOME),[l,a]=j.useState(wS),[r,c]=j.useState(()=>{try{const $=localStorage.getItem("os_chat_settings");return $?{...$n,...JSON.parse($)}:$n}catch{return $n}}),[m,g]=j.useState(!1);j.useEffect(()=>{const $=()=>window.matchMedia("(prefers-color-scheme: dark)").matches;(()=>{r.theme==="dark"?g(!0):r.theme==="light"?g(!1):g($())})();const de=window.matchMedia("(prefers-color-scheme: dark)"),Se=()=>{r.theme==="system"&&g(de.matches)};return de.addEventListener("change",Se),()=>de.removeEventListener("change",Se)},[r.theme]);const[y,h]=j.useState(()=>{try{const $=localStorage.getItem("os_chat_sessions");return $?JSON.parse($):{}}catch{return{}}}),[x,T]=j.useState(null),[_]=j.useState(()=>{try{const $=localStorage.getItem("os_chat_ai_profile");return $?{...hs,...JSON.parse($)}:hs}catch{return hs}}),[b,M]=j.useState(()=>{try{const $=localStorage.getItem("os_ins_posts");return $?JSON.parse($):[]}catch{return[]}}),[k,I]=j.useState(()=>{try{const $=localStorage.getItem("os_chat_extra_chats");return $?JSON.parse($):[]}catch{return[]}}),[w,Y]=j.useState(()=>{try{const $=localStorage.getItem("os_chat_deleted_ids");return $?JSON.parse($):[]}catch{return[]}});j.useEffect(()=>{try{localStorage.setItem("os_chat_extra_chats",JSON.stringify(k))}catch($){console.error("Storage error",$)}},[k]),j.useEffect(()=>{try{localStorage.setItem("os_chat_deleted_ids",JSON.stringify(w))}catch($){console.error("Storage error",$)}},[w]),j.useEffect(()=>{try{localStorage.setItem("os_ins_posts",JSON.stringify(b))}catch($){console.error("Storage error",$)}},[b]),j.useEffect(()=>{try{localStorage.setItem("os_chat_sessions",JSON.stringify(y))}catch($){console.error("Storage error",$)}},[y]);const D=$=>{t($)},X=($,fe,de)=>{T($),h(Se=>{if(Se[$])return Se;const ce=$==="gemini"?_:{...hs,name:fe,avatarUrl:de||""};return $!=="gemini"&&(ce.persona=` ${fe}`),{...Se,[$]:{messages:[],profile:ce,userAvatarUrl:r.userAvatarUrl||"",userName:r.userName||"",userPersona:"",wallpaperUrl:""}}}),t(st.CHAT)},W=($,fe,de,Se,ce,Ge,H)=>{h(ee=>({...ee,[$]:{messages:fe,profile:de,userAvatarUrl:Se,userName:ce,userPersona:Ge,wallpaperUrl:H}}))},q=$=>{c($);try{localStorage.setItem("os_chat_settings",JSON.stringify($))}catch(fe){console.error("Storage error",fe)}},Q=$=>{a($)},ve=()=>[{id:"gemini",name:_.name,avatar:_.avatarUrl,lastMsg:"",time:"",isAi:!0},...k].filter(de=>!w.includes(de.id)).map(de=>{const Se=y[de.id];return Se?{...de,name:Se.profile.name,avatar:Se.profile.avatarUrl||de.avatar}:de}),ne=()=>{switch(i){case st.HOME:return v.jsx(Dp,{onNavigate:D,settings:r});case st.WECHAT_LIST:return v.jsx(dN,{onNavigate:D,onChatSelect:X,settings:r,defaultAiProfile:_,chatSessions:y,extraChats:k,setExtraChats:I,deletedChatIds:w,setDeletedChatIds:Y});case st.INSTAGRAM:const $=x&&y[x]?y[x]:null,fe=$?$.profile:_,de=$?$.userName:r.userName||"",Se=r.instagramUserAvatar||($?$.userAvatarUrl:r.userAvatarUrl||"");return v.jsx(mN,{onNavigate:D,aiProfile:fe,userAvatar:Se,userName:de,settings:r,posts:b,onUpdatePosts:M,onUpdateSettings:q,activeCharacters:ve()});case st.CHAT:const ce=x?y[x]:null,Ge=(ce==null?void 0:ce.profile)||_,H=(ce==null?void 0:ce.messages)||[],ee=(ce==null?void 0:ce.userAvatarUrl)??r.userAvatarUrl??"",oe=(ce==null?void 0:ce.userName)??r.userName??"",_e=(ce==null?void 0:ce.userPersona)??"",we=(ce==null?void 0:ce.wallpaperUrl)??"";return v.jsx(sN,{onNavigate:D,worldEntries:l,settings:r,chatId:x||"gemini",initialProfile:Ge,initialMessages:H,initialUserAvatarUrl:ee,initialUserName:oe,initialUserPersona:_e,initialWallpaperUrl:we,onUpdateSession:(A,O,te,ae,he,xe)=>W(x||"gemini",A,O,te,ae,he,xe),insPosts:b,onUpdatePosts:M},x);case st.WORLD_BOOK:return v.jsx(rN,{entries:l,onUpdateEntries:Q,onNavigate:D});case st.SETTINGS:return v.jsx(uN,{settings:r,onSave:q,onNavigate:D});default:return v.jsx(Dp,{onNavigate:D,settings:r})}};return v.jsxs("div",{className:"relative w-full h-[100dvh] bg-black overflow-hidden flex justify-center items-center",children:[v.jsxs("div",{className:`relative w-full h-full md:max-w-[420px] md:max-h-[880px] bg-black overflow-hidden shadow-2xl md:rounded-[50px] ${m?"dark":""}`,children:[i===st.HOME&&v.jsx("div",{className:"absolute inset-0 bg-cover bg-center z-0 transition-all duration-500",style:{backgroundImage:`url("${r.homeWallpaperUrl||$n.homeWallpaperUrl}")`,opacity:r.homeWallpaperOpacity??$n.homeWallpaperOpacity??.8}}),v.jsx(NS,{}),v.jsx("main",{className:"absolute inset-0 z-10 overflow-hidden flex flex-col",children:ne()}),v.jsx("div",{onClick:()=>D(st.HOME),className:"absolute bottom-2 left-1/2 transform -translate-x-1/2 w-32 h-1.5 bg-white/40 hover:bg-white/80 active:scale-95 transition-all rounded-full z-50 cursor-pointer mix-blend-difference"})]}),v.jsx("style",{children:`
        @keyframes slide-up {
          from { transform: translateY(100%); }
          to { transform: translateY(0); }
        }
        @keyframes fade-in {
          from { opacity: 0; transform: scale(0.95); }
          to { opacity: 1; transform: scale(1); }
        }
        .animate-slide-up {
          animation: slide-up 0.3s cubic-bezier(0.16, 1, 0.3, 1);
        }
        .animate-fade-in {
          animation: fade-in 0.2s ease-out;
        }
      `})]})},h0=document.getElementById("root");if(!h0)throw new Error("Could not find root element to mount to");const hN=zv.createRoot(h0);hN.render(v.jsx(Nv.StrictMode,{children:v.jsx(pN,{})}));
